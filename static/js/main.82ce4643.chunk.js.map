{"version":3,"sources":["assets/images/logo.png","utils/store.js","utils/session.js","config.js","utils/api.js","services/enterprise-users.js","utils/with-tracker.js","components/Loading/styles.js","components/Loading/index.js","theme.js","routes.js","pages/Signin/styles.js","services/auth.js","components/AlertBox/styles.js","components/AlertBox/index.js","pages/Signin/index.js","index.js"],"names":["module","exports","Store","save","key","value","localStorage","setItem","JSON","stringify","get","getItem","parse","delete","removeItem","Session","setUserToken","userToken","getUserToken","setUserData","userData","getUserData","clear","getAuthToken","authToken","Error","getBearerToken","isLoggedIn","isAuthorized","err","error","companyName","appName","process","appNamespace","_snakeCase","apiURL","wsURL","env","apiRequestTimeout","googleAnalyticsId","locale","isiOS","navigator","platform","test","getErrorMsg","errorData","_get","Api","request","method","endpoint","body","params","Promise","resolve","reject","a","async","bearerToken","agent","axios","create","baseURL","config","timeout","headers","Authorization","responseType","data","this","post","put","EnterpriseUsers","getEnterpriseUser","setCurrentBuilding","buildingId","building_id","ReactGA","initialize","withTracker","WrappedComponent","options","trackPage","page","set","pageview","HOC","props","useEffect","location","pathname","styles","theme","progress","margin","spacing","middle","marginTop","center","justifyContent","textAlign","Loading","state","slowConnection","hasRefreshMsg","timeoutConnection","setTimeout","setState","clearTimeout","classes","mainColor","Grid","container","direction","justify","alignItems","className","CircularProgress","color","variant","disableShrink","thickness","Typography","Button","onClick","window","reload","size","PureComponent","withStyles","withTheme","createMuiTheme","palette","primary","main","secondary","background","default","typography","useNextVariants","containerWidth","menuWidth","Signin","label","path","icon","exact","hideMenu","display","flexDirection","content","width","form","button","height","logo","marginBottom","Auth","postSignin","email","password","success","backgroundColor","green","dark","info","warning","amber","closeIcon","fontSize","opacity","message","AlertBox","memo","type","actionButton","onClickAction","onClose","actions","push","IconButton","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","SnackbarContent","action","username","errorMsg","submit","onSubmit","e","preventDefault","history","AuthService","token","EnterpriseUserService","enterpriseUserResponse","enterpriseUser","style","src","require","alt","component","TextField","fullWidth","disabled","InputLabelProps","shrink","onChange","target","toLowerCase","App","loading","document","querySelector","setAttribute","CssBaseline","fallback","_map","Routes","r","submenus","sr","skey","Pages","ReactDOM","render"],"mappings":"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","file":"static/js/main.82ce4643.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.7f12e1c7.png\";","/* global localStorage */\nconst Store = {\n  save(key, value) {\n    return localStorage.setItem(key, JSON.stringify(value));\n  },\n  get(key) {\n    try {\n      const value = localStorage.getItem(key);\n      const data = JSON.parse(value);\n      return data;\n    } catch {\n      return {};\n    }\n  },\n  delete(key) {\n    return localStorage.removeItem(key);\n  }\n};\n\nexport default Store;\n","import Store from './store';\n\nconst Session = {\n  setUserToken(userToken) {\n    return Store.save('userToken', userToken);\n  },\n  getUserToken() {\n    return Store.get('userToken') || '';\n  },\n  setUserData(userData) {\n    return Store.save('userData', userData);\n  },\n  getUserData() {\n    return Store.get('userData') || {};\n  },\n  clear() {\n    Store.delete('userToken');\n    Store.delete('userData');\n  },\n  getAuthToken() {\n    const authToken = Store.get('userToken');\n    if (authToken) {\n      return authToken;\n    }\n    throw new Error('No authToken');\n  },\n  getBearerToken() {\n    const userToken = Store.get('userToken');\n    return `Bearer: ${userToken}`;\n  },\n  isLoggedIn() {\n    const isLoggedIn = Store.get('userToken');\n    return !!isLoggedIn;\n  },\n  isAuthorized(err) {\n    return err && err.error !== 'unauthorized';\n  }\n};\n\nexport default Session;\n","/* global navigator */\nimport _snakeCase from 'lodash/snakeCase';\n\nexport default {\n  companyName: 'Lobby',\n  appName: process.env.REACT_APP_TITLE,\n  appNamespace: _snakeCase(process.env.REACT_APP_TITLE),\n  apiURL: process.env.REACT_APP_SERVER_URL,\n  wsURL: process.env.REACT_APP_WS_URL,\n  env: process.env.NODE_ENV || 'development',\n  apiRequestTimeout: 10000,\n  googleAnalyticsId: 'xxxx',\n  locale: 'pt-br',\n  isiOS: !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform)\n};\n","import axios from 'axios';\nimport _get from 'lodash/get';\nimport Session from './session';\nimport config from '../config';\n\nconst getErrorMsg = (err) => {\n  let errorData = _get(err, 'response.data');\n  if (!errorData) {\n    errorData = { error: _get(err, 'message') };\n  }\n  return errorData;\n};\n\nconst Api = {\n  request(method = 'get', endpoint, body, params) {\n    return new Promise(async (resolve, reject) => {\n      try {\n        const bearerToken = Session.getBearerToken();\n        const agent = axios.create({\n          baseURL: `${config.apiURL}/${config.appNamespace}`,\n          timeout: config.apiRequestTimeout,\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: bearerToken\n          },\n          responseType: 'json'\n        });\n        const { data } = await agent[method](endpoint, body, params);\n        return resolve(data);\n      } catch (err) {\n        return reject(getErrorMsg(err));\n      }\n    });\n  },\n  get(endpoint, params) {\n    return this.request('get', endpoint, { params });\n  },\n  post(endpoint, body, params) {\n    return this.request('post', endpoint, body, params);\n  },\n  put(endpoint, body, params) {\n    return this.request('put', endpoint, body, params);\n  },\n  delete(endpoint, body, params) {\n    return this.request('delete', endpoint, body, params);\n  }\n};\n\nexport default Api;\n","import Api from '../utils/api';\n\nconst EnterpriseUsers = {\n  getEnterpriseUser() {\n    return Api.get('/enterprise_users');\n  },\n  setCurrentBuilding(buildingId) {\n    return Api.put('/enterprise_users', { building_id: buildingId });\n  }\n};\n\nexport default EnterpriseUsers;\n","/**\n * From ReactGA Community Wiki Page https://github.com/react-ga/react-ga/wiki/React-Router-v4-withTracker\n */\nimport React, { useEffect } from 'react';\nimport ReactGA from 'react-ga';\nimport PropTypes from 'prop-types';\nimport config from '../config';\n\nReactGA.initialize(config.googleAnalyticsId);\n\nconst withTracker = (WrappedComponent, options = {}) => {\n  const trackPage = (page) => {\n    ReactGA.set({\n      page,\n      ...options\n    });\n    ReactGA.pageview(page);\n  };\n\n  const HOC = (props) => {\n    useEffect(() => {\n      trackPage(props.location.pathname);\n    });\n\n    return <WrappedComponent {...props} />;\n  };\n  HOC.propTypes = {\n    location: PropTypes.object\n  };\n\n  return HOC;\n};\n\nexport default withTracker;\n","const styles = theme => ({\n  progress: {\n    margin: theme.spacing(2)\n  },\n  middle: {\n    marginTop: 20\n  },\n  center: {\n    justifyContent: 'center',\n    textAlign: 'center'\n  }\n});\n\nexport default styles;\n","/* global window */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from './styles';\nimport config from '../../config';\n\nclass Loading extends PureComponent {\n  state = {\n    slowConnection: false\n  }\n\n  componentDidMount() {\n    const { hasRefreshMsg } = this.props;\n    if (hasRefreshMsg) {\n      this.timeoutConnection = setTimeout(() => {\n        this.setState({ slowConnection: true });\n      }, config.apiRequestTimeout);\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeoutConnection);\n  }\n\n  render() {\n    const { hasRefreshMsg, classes, theme: { mainColor } } = this.props;\n    const { slowConnection } = this.state;\n    return (\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        className={classes.middle}\n      >\n        <CircularProgress\n          color={mainColor}\n          className={classes.progress}\n          variant=\"indeterminate\"\n          disableShrink\n          thickness={5}\n        />\n        <Typography variant=\"h6\">Carregando...</Typography>\n        {\n          (hasRefreshMsg && slowConnection) ?\n            <div className={classes.center}>\n              <br />\n              <Typography variant=\"h6\">Há problemas de conexão com a internet</Typography>\n              <Button\n                onClick={() => window.location.reload()}\n                size=\"large\"\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                <b>Recarregar</b>\n              </Button>\n            </div>\n            :\n            null\n        }\n      </Grid>\n    );\n  }\n}\n\nLoading.propTypes = {\n  classes: PropTypes.object,\n  theme: PropTypes.object,\n  hasRefreshMsg: PropTypes.bool\n};\n\nexport default withStyles(styles, { withTheme: true })(Loading);\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#1177FF'\n    },\n    secondary: {\n      main: '#00F8C9'\n    },\n    background: {\n      default: '#FFFFFF'\n    }\n  },\n  typography: {\n    useNextVariants: true\n  },\n  containerWidth: 1024,\n  menuWidth: 240\n});\n\nexport default theme;\n","import React from 'react';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\n\nexport default {\n  Signin: { label: 'Signin', path: '/', icon: <LockOpenIcon />, exact: true, hideMenu: true }\n};\n","export default {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: 350,\n    marginTop: 40,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  form: {\n    width: '100%',\n    marginTop: 5\n  },\n  button: {\n    marginTop: 15,\n    height: 60\n  },\n  logo: {\n    marginBottom: 30\n  }\n};\n","import Api from '../utils/api';\n\nconst Auth = {\n  postSignin(email, password) {\n    const body = { email, password };\n    return Api.post('/auth/signin', body);\n  }\n};\n\nexport default Auth;\n","import { amber, green } from '@material-ui/core/colors';\n\nconst styles = theme => ({\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: '#1177FF'\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  closeIcon: {\n    fontSize: 20,\n    opacity: 0.9,\n    justifyContent: 'center'\n  },\n  message: {\n    fontSize: 20,\n    display: 'flex',\n    alignItems: 'center'\n  }\n});\n\nexport default styles;\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from './styles';\n\nconst AlertBox = memo(({ message, type, actionButton, onClickAction, onClose, classes }) => {\n  const actions = [];\n  if (actionButton) {\n    actions.push(\n      <Button\n        key=\"action\"\n        color=\"inherit\"\n        variant=\"outlined\"\n        className={classes[type || 'info'] || classes.info}\n        onClick={onClickAction}\n      >\n        {actionButton}\n      </Button>\n    );\n  }\n  if (onClose) {\n    actions.push(\n      <IconButton key=\"action\" color=\"inherit\" onClick={onClose}>\n        <CloseIcon className={classes.closeIcon} />\n      </IconButton>\n    );\n  }\n  return (\n    <Snackbar\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      open\n      autoHideDuration={onClose ? 3000 : null}\n      onClose={() => onClose && onClose()}\n    >\n      <SnackbarContent\n        className={classes[type || 'info'] || classes.info}\n        message={\n          <span className={classes.message}>\n            {message}\n          </span>\n        }\n        action={actions}\n      />\n    </Snackbar>\n  );\n});\n\nAlertBox.propTypes = {\n  message: PropTypes.string,\n  type: PropTypes.string,\n  actionButton: PropTypes.any,\n  onClose: PropTypes.func,\n  onClickAction: PropTypes.func,\n  classes: PropTypes.object\n};\n\nexport default withStyles(styles, { withTheme: true })(AlertBox);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport _get from 'lodash/get';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport styles from './styles';\nimport config from '../../config';\nimport AuthService from '../../services/auth';\nimport EnterpriseUserService from '../../services/enterprise-users';\nimport Session from '../../utils/session';\nimport AlertBox from '../../components/AlertBox';\n\nclass Signin extends PureComponent {\n  state = {\n    username: '',\n    password: '',\n    errorMsg: '',\n    submit: false\n  }\n\n  componentDidMount() {\n    const { history } = this.props;\n    try {\n      if (Session.isLoggedIn()) {\n        history.push('/');\n      }\n    } catch {\n      Session.clear();\n    }\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { username, password } = this.state;\n    const { history } = this.props;\n    this.setState({ submit: true }, async () => {\n      try {\n        if (username && password) {\n          const { token } = await AuthService.postSignin(username, password);\n          Session.setUserToken(token);\n          const enterpriseUserResponse = await EnterpriseUserService.getEnterpriseUser();\n          const enterpriseUser = _get(enterpriseUserResponse, 'enterprise_user');\n          Session.setUserData(enterpriseUser);\n          this.setState({ submit: false }, () => history.push('/'));\n          return true;\n        }\n        throw new Error('Blank fields');\n      } catch {\n        this.setState({ submit: false, errorMsg: 'Credencial inválida, tente novamente.' });\n        return true;\n      }\n    });\n  }\n\n  render() {\n    const { username, password, submit, errorMsg } = this.state;\n    return (\n      <div style={styles.container}>\n        <div style={styles.content}>\n          {errorMsg && <AlertBox message={errorMsg} type=\"warning\" onClose={() => this.setState({ errorMsg: '' })} />}\n          <img src={require('../../assets/images/logo.png')} width={150} alt={config.appName} style={styles.logo} />\n          <Typography component=\"h1\" variant=\"h5\">\n            Painel de gestão\n          </Typography>\n          <form onSubmit={this.onSubmit} style={styles.form}>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              fullWidth\n              label=\"Email\"\n              type=\"text\"\n              disabled={submit}\n              value={username}\n              InputLabelProps={{ shrink: true }}\n              onChange={e => this.setState({ username: e.target.value.toLowerCase() })}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              fullWidth\n              label=\"Senha\"\n              type=\"password\"\n              disabled={submit}\n              value={password}\n              InputLabelProps={{ shrink: true }}\n              onChange={e => this.setState({ password: e.target.value })}\n            />\n            <Button\n              disabled={submit}\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              style={styles.button}\n              type=\"submit\"\n            >\n              {submit ? 'Carregando...' : 'Entrar'}\n            </Button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nSignin.propTypes = {\n  history: PropTypes.object\n};\n\nexport default Signin;\n","/* global document */\nimport React, { Suspense, PureComponent } from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport _get from 'lodash/get';\nimport _map from 'lodash/map';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport EnterpriseUserService from './services/enterprise-users';\nimport Session from './utils/session';\nimport withTracker from './utils/with-tracker';\nimport Loading from './components/Loading';\nimport theme from './theme';\nimport config from './config';\nimport Routes from './routes';\nimport * as Pages from './pages';\n\nclass App extends PureComponent {\n  state = {\n    loading: true\n  }\n\n  componentDidMount() {\n    this.setState({ loading: true }, async () => {\n      if (config.isiOS) {\n        document.querySelector('link[rel=\"manifest\"]').setAttribute('rel', 'no-on-ios');\n      }\n      try {\n        const enterpriseUserResponse = await EnterpriseUserService.getEnterpriseUser();\n        const enterpriseUser = _get(enterpriseUserResponse, 'enterprise_user');\n        Session.setUserData(enterpriseUser);\n      } catch {\n        Session.setUserData(null);\n      } finally {\n        this.setState({ loading: false });\n      }\n    });\n  }\n\n  render() {\n    const { loading } = this.state;\n    return (\n      <MuiThemeProvider theme={theme}>\n        <CssBaseline />\n        <Suspense fallback={<Loading hasRefreshMsg />}>\n          {\n            loading ?\n              <Loading hasRefreshMsg />\n              :\n              <HashRouter>\n                <Switch>\n                  {\n                    _map(Routes, (r, key) => {\n                      if (r.submenus) {\n                        return _map(r.submenus, (sr, skey) => (\n                          <Route\n                            key={`${r.path}${sr.path}`}\n                            exact={sr.exact}\n                            path={`${r.path}${sr.path}`}\n                            component={withTracker(Pages[skey])}\n                          />\n                        ));\n                      }\n                      return (\n                        <Route\n                          key={r.path}\n                          exact={r.exact}\n                          path={r.path}\n                          component={withTracker(Pages[key])}\n                        />\n                      );\n                    })\n                  }\n                </Switch>\n              </HashRouter>\n          }\n        </Suspense>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.querySelector('main'));\n"],"sourceRoot":""}