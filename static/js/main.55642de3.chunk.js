(this["webpackJsonplobby-portal"]=this["webpackJsonplobby-portal"]||[]).push([[0],{221:function(e,t,a){e.exports=a.p+"static/media/logo.7f12e1c7.png"},443:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAADcCAYAAACs2N87AAAXdUlEQVR4AezBgQAAAAACoDH2Jx3kKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL86dusQEaMoisLohSwBjECUZDCNv0DSNU18BYAogVHI5mIGz2k3AeByVlh11/2NHMyHtcbATCgA8Fs+O3AaemjMIBQAEFggsACoBBYILAAQWAgsABBY7UFgAYDAQmABgMACgQWAwAKBBQACC4EFAAILBBYAAgsEFgACS2AhsABAYIHAAkBgXYaLV8CDwHorAATW6MFEKC+CkYNdgQWAwBJYCCwAEFgILAAQWLRBYAGAwEJgAYDAAoEFgMASWAgsABBYCCwAEFg0Q2ABgMBCYAGAwAKBBYDAElgILAAQWAgsABBYtE9gAYDAQmABgMCibQILAAQWAgsABBZtE1gAILAQWAAgsGiSwAIAgYXAAgCBhcASWIuh+4DlUFJgELoPmAslsb3QvdN2KCCwEFh/30boP2AnlBS4Dv0HLISS2GPo3+k+FBBYCCyB9e8hsILAQmCBwBJYCKwfJLAQWCCwBBYCS2AhsAQWAktgIbAEFggsBJbAohJYCQgsBBYILIGFwBJYCCyBhcASWAgsgQUCC4ElsKgEVgICC4EFAktgIbAEFgJLYCGwBBYCS2CBwEJgCSwqgZWAwEJggcASWAgsgYXAElgILIGFwBJYILAQWAKLSmAlILAQWCCwBBYCS2AhsAQWAktgIbAEFggsBJbAohJYCQgsBBYILIGFwBJYCCyBhcASWAgsgQUCC4ElsKgEVgICC4EFAktgIbAEFgJLYCGwBBYCq0UCC4EFAktgIbAEFgJrK9y8012c55iAQGAJLASWwEJg/TwQWAILgSWwEFggsAQWAktggcBCYAmsJ/buOcqSLGvY+K5q20hna8207cK4bay2bdu2Mtu2bdsufG132Xbu77n5xqtaneude3bgROb+47diWH2T96lzIvYJ5zyw6tAT//oD66LOA2sms7bMx3UZ/KsDy/K/WQRSbi7SF+ZcZIHlgeU8sGqxE25AP0yA/hvG43Ncjl352V4IEpVsA2s1nICH8TOmQf8PMzAEz+Bs9K6ZrWU2SHm4aF+Ycx5YHlhZq5+ntTvXGvTCPjgYJ+K6xLE4GHuiV+UJ6No5WmaBRCj9wOLj5XoEPkEbNAXT8RYONTzwFHtgrYVrMAiakuG4Bf+sm7ulO8TFLdoX5pwHlgdW2urmbOnOdQOchZcD31jH4GWchg0MwRVzYK2GuzANmqFJuAXLln2LsHb2llm5boOPoRn7BYfUzN4yG8TFKdoX5pwHlgdWitbA1fgNmrIhuBordIItwkY8Cc3ZNNyJurIFVsN8rd2SsOoHzdnvOKQSd5C08GcujxcNHmYXYo5IdkK2M34sq3W+m9yd88DywLLbCG9Cc/IKNixhYK2HczAVWqCJOKFxgdZukLwYAmt5vAktWF+sBUnR01CDIyFFqqzwcf0RGqiPYTvWtwidbxF6YHVKq+F9aEFexkolCqyB0Ih8gWUiX8EahUnQSLThYqJi1pR2EFbFDGigwUWvYiX3VarBdvAxDc5XsDywPLBqZm2Zi+tFmAqNwAXB2zcBDIEVo5HYOuLAitUHaIak4DaowekFr179YFkVrNyzCQmV/AvnYuOB5YFVtT+jHzQyX2HFaFew4neSB1bVBmADiEXyFOl4aKAx/BkLQ3JnX73a3geNuvLzFSwPLLutMQ4aqYnYzgMr2F2VkRqQDBgCK2oT0RtidAnU4BxIniqrxsbVqzd8krsrPw8sDyy7E6ElcbwHVrA7rVs2Hek4sDyykm33Yca5Z42QHO0NNehVeGDJ5A9bMalKU7pN/nAxCJzriAeWB5YhrqJ2qQdWsJN9i7BqE1J44OJAqMENkDxU5tKlsXoVQ2DdAK1W+QPLeWB5YHlcmVzogRVsdw+sqg3kvqQFISGSaPneOOdseUgOtspt9coDy3lgeWD55yI6M7C3B1aQqVjZA6tqb1ieaE1myqnBo5AcfBzD6pUHlvPA8sAqo16YBi25yejRSQJrBibgP2nGvmTO0ZwQu0IDawomJCZDM3YKJMRSi7RPrH8darAKJEObG+eI9fbAciXmgeWBZTBryxJcR2Z8ZMuUmUyHZuR3PqaFIHa5BtbvuBo7YWX+2YtC/lPydVoDu+MWDIGm7NySrWDNwCs4Hf9C3UyDOGev/Gf4J07BS5iRftSbjnRaE2rwDiRDH0EDPQzxwHKl5oHlgWXwODRF43Ev9sKqlSemIDOZN4mF/fBoBisN95doBeuBkL/l187Zfg/PRvgg5dWf5UoQWGNxJhoC/kKxCNfj8Cs0Ja9DDO6DGvwDkoHNoAYremA5Aw+sUvPA2gWakm+xX8g2UxJcB6X8prdV5IH1PtaHpGBjfAVNwcMRB9YUXEUkLQCxqKx0JStf9ri3HwGzjHGL/i1ImpZatH378sMYVq88sJwHVql4YFVCiOuAlFasjqybq6U7xCLZ0jkqpTe9nyp/HsQig8Bqwxn82bNB0pLMVroWmoKVIgysAegJSdmK6Ac16mP4GUhj+OjOkBRtGsH3kAeW88DywCql86BGX2I5SMqWRl+o0WGRrWBNwBY5fE9Pt65iRRZYfbBkhvchzs/1BajRZobXsDDXwcbjoyQNjQu2r159EMHqlQeW88DywCrl6tU4qMGTrJrMA8lCspr1HNRgkG0VK9XAmoBekBzskEJk1UcSWG/z/TAnJFNsGdojyzyS4ASowQGQFGwSwX18HljOA8sDq5QOgho82DBfazdIhtKKrN0jWMFqw9aQHB0HNTgngsD6GktC8pBE1ifGpxobgleOFmjtZhw+OuA/n6IM1WRfvboOYuCB5TywSs0D6wtooHcrN6VDckFkGR8VfyeCwLoAUoB7oIG+b2ZOEySELbAMw0/tao3nBJ4BMdgVanA4xGBj49es0QOrS3IeWPDAWg4aaCjqCpjVtaRhVlcbli4wsD6vmb1lNkje+LzNxz9/eEGP2VsD6zhIQXazfL0Lnj011nKEj3H16nqIB1aX5Dyw4IF1BjTQ9pCC7FrQze7WwPobpEB7QwOdVFBg9TdsdZklIwo+hgaYQagsZhxu26OggbEbGQcKN3hgdVnOA8sDyzDb5kNIUZoXNs3lebGgwHoLUqTkUOHfoQGeKiiwdoMYFH2j904Qo6eggcZUnkoMCLsPratXHljl5TywPLDsN/FOhQbYtMRvehMLCqztIRE4ExpgUNNCrd0g1TIE1qjUZoTZb/b+ERrg4pRGlbRBA90AqcK/LEGHJT2wujLngeUrWGtAA/wGKVpyPMyAPAcfGgJr/H8eE1S05GPXIIH38xgC63ZIDAzDP5+BpOB64w3n9YaVbcMTpx5YXY/zwPLA2gMa4BJIJC6HBtgx58B6ARILw2rMOjlvEe4EicSG0AC/pPRwx+Jcx+dwJudG+WxH2hn+zx5YmXIeWB5Y50AD9IBEYnPDDdt5BtZZkIg8DA2wb86B1QSJQWUFMnBLfTIkJacZ53KtkvHq1bkQX8Hq6pwHlgfWVdAqTbcfrpuqBQK/Zq05B9bukIicBA2wT46BNb5+7tbukFjwmoYEjgapSTHyBkADPVr+1StfwXIeWB5Y8XsZWqVxkFg08TQh10HQKt2dc2BtAInI/tAAV+QYWGMhkXk1gpW4PaEGf81o9eo8iK9gOeeBlfDAqtJHkMh8B63SXTkH1uqQiGxZgsB6BxKZV4oOrMqgWq6fWs5zzGD1amAOK9u+guU8sErsr5bHsAvjgfUstEqfemBFH1hfeWBlcIQNsAUECfPU9iMgvoLlnAdWR9aFBrjTA6tQz0Cr9DEkwNXQAJtBIrJXXkfWGAJrjAfWH6ucC8n1Bct0/Mb5W7tBYF69KmrSvu3/7IHlPLDytHbsE7ojeLPoB4nM93ltERqGdO5Z/pvcTU8RhpwdOYn3wTkhseA1/RBybAw3p88DSVOyKjoNmsKokteggY6E+AqWcx5YHar8MueqAUZDSuhaaJWmQGLRuGDuN7kf2Em2ke+ABtgGEuAtaIDlI/v9MCkkFKP7OgI/Jqc5rGZcvZoT4itYznlgdajySDjXYdAAK3SJMQ1APSQKTBYP/BhuMs3dKv8q5zd5TsA3zN3aFRIDQ4h8AMlIDSYaDz5/vAyrV76C5Tywyu9taIATSvnUZPnf9LbMedDo0tAAE9nWmTeSo3LqoAGmh50LaNpavQcSiZOh9u3o1F0KDTQMGugbiAeWcx5YWf+y+hhSMhtZV38icCU0wA6QnKeS7wyJwFHQAF9CAm0BDTA2lvuweC1fQAMclfGE+bmDBqDa7eqB5ZwHVjU2gwbqBSkNpi4HfpwjamdvmRVSqDnaD3v+CRpgRetYiACvQCLQBxrgRsP32hJc26ABdoMUbD1ooPUgGTsSahfp6pUHlvPAKr/KNg7XifY30PhVHtPm+luJtwlD74eaADE4AhpoTUiBtoMG2hZi8FXom3klpiHFMN1DNrp2zpZZIFlqmK+1W8ATjha7emA554FlPw7Dvg0Us3tC5+gUuYqVvKF8DA3wPMRgGWiRNzwbJoD/XNQ9ZPwZZ0MDHQwpyD+hge6NdPXdvnrlgeWcB1aAfaCBBqEGEj37uWYHlfR1HwMx+gQa6FhIAa6GBnoMYrQ8NNBYNBX0lOpP0EBbRveQjt2O8MByzgMreJtwNDTQ5/xing9SAgsks600wHgsBclZLUZBA7ShueB7XqagJyRHO6Itgi2hPtBAH+b5c1U/T/vYlqcsT+jlfYN+6LDkKrwHgQeWcx5Ywa6AGjxh30LLR9hRMwA+4c1ofkgeKm9YxoNuP4JYJWE61fh4/IqQHPTGBMswybTugUrmLqnBk3VztXSHZKlh3vYt6DuhBpdBCvAQNCMbQeCB5ZwHVrAmtEENPq5sMUCilsySMnimbs6W7pAsJXH1MtRgb0hKroMaI2tlSIY2NsUVcErK09AHQg0ezXKmWPJ06h1Qg+lohhRgGbRBU/Y+JOGB5ZwHlsm1UKNfsA4kctYnkF7NcvsmuRfmJajB77zBz57idkw9pkENpmTxYETjAu0rMCel8EY7Mu1z9P5zDpfRpxndk1WPt6BGd0EKdHHGq1ceWM55YJksiYnQFFyLOkikDoUa9cefISlbGV9BjQ7ObNCp3V1E5JIprUiugnehBoYHAnJYxQLG4LA0Vk/r/2NL8GCMghpNQl3BM+4W5zocahDw9KsHlnMeWIbwMJiMW7AGJCbJoa/9oEYTcXwa9+yw2lF5Iz4dU6FGAzo45sUkGdY6BJqC8TjfsLW0Bh6EpuSrymgHSNqSmVqakk+xd8j3XDIFfS/8CE3J6ZAIHA9NQRvW98DywHIeWGmHx+xcP4SmbBgexinYEdtgpUBLpX50jt2POLTyBgapRjL1+3QMgKZku4yf0NOUvY3j0aOj+/j47xqwMa7Ed9CU/TXXeXN2o3Eb9u7oAYLk/qrVcDDuxihoir6y34SfjspDNrye76FGT0Fi5IHlPLDKrwmToJF6A5KSu6EpmoincTh6dDAjbDlshFPxJtQu9zeI+6AZasOX6IPfoRm7MKct+OHQDI1BHyDzn+HpWAkSkb1S+L5b0wPLA8t5YGVp6y4RWIxcMByfE6NBlRUxSMbmNw6kjMlHAQ8DBDAddxSjgyAR6gMN9DSkKh5YznlgBTilFIFltyamQEtuBjbM+fH48dASG0wsLpLzmJCToCV3S6QHui/EdUwOq1ceWM55YJldU4rAstsDWnK7QXLWo8SRNQTLQ/LUvEj7E3y3Qkvq1crZmJDY8NrOscy3g8TMA8t5YHlklS+wgKOhJXUe5N/mkTXUEFdmTQu2R9Zt0JJ51zD0NFO8tkaMgwaYZhi54oHlnAeWyTloizKwPLLOhwAeWfa4ykfD/KWLrGdijasksK6HBroVUhQPLOeB5XbC5OgDy+4YaAm04UhIJNbG79CI9YtppaJu7pbuXE/ADGjEWgzjGDKXrF5NNaxeLQUpkgeW88Byq+Dr6APLbqfIb3wfhy0jvMl4UcP5iVm7PzkGJ8bVl79jRKTfZ3tDYmY8S/E2SOE8sJwHlqtMCOd6ESbFH1jmmPwhxrECMf+Nu4aBj8kq4ARoBEaV4Wc4Oe7lMWgkPsXykMitDA00FUtDYuKB5Tyw3J/wUvSBZT9H7kpoBCbgbPuxPPlIxjg8DS3QbaiFlMg2GAAtyCAcVDmvEBI7XusjnXX1ygPLeWC5Hngm6sCyWxNvQgvyMJaBlNDaeAWao/vwJ0gZJWdlHm6/py3gbEjOm4SUAa93LWigCWWJbw8s54HlmnE+vok2sOw2yTG0puNerAPpBNbGvZgIzcBY3Bjd4/b2FdQ98QE0I31wcOWwcUiZGH8WL4aUhwcW4Dyw3Ko4Hs9hWMyBZYiFazI6W+4LnF65YRzS2VRuNE8eIrgXQ6EGv+BObMm9X7NBOqvkDMvT8C6mQg0+xZlYFVJSfzOtXiUrdWVi+D97YHVGHliufp72eT+N6IG9cQIuMzgEEoPKRGuuPXEKng0Ihun4FnfgSDRAuooG7vPhugz2wmV4DG/h1z/wKh7EBdgVTc0Lt3aDdDXJFuJfcAyuxfPoj19n8v/wPG7DsdjYHhaR4C9aXWT1ylewnAeWc40Mj2SFZm7+9frYCvt3YEMsV3mj/P/t3QPM9eYfx+H7PPobs20EsxnOthfOthXOthljtrfOtm2j09P9Zqt333en3ZXkyomOwk++VUi/H/D1ApqzXo0XkgVLYCGwAPjuDvj3t+DJBxas1kBgAbBWRly9GgvzP0Jqo4w3C6xfhMACcJPjkcx7hG0fUgYLVucgsADYvFXrlQWLFhBYAB7R9cJYXq8sWGH2kH4NCCyA1tonI65eq7leWbDCkiF1DAILgKEjxonXtzICa4uQ6rFgrRASdC6wANg7I64em3TkiKGQ2i7vzWWxe6hq2DYk6FRgATB5eCcjsDYI8TkWrA1DVcNZIUGnAguAozLi6vHv1isL1jyhquGZkKAzgQXAZJkPtt4wJAtW6JXFv1JZfBSqGuYLCToRWACcar36Tv4HlMV9oarhhJCg9YEFwGyhyrBSSF2S/wFlcWioavgwTBIStDqwADgvI65unfL/R/ZC6pL8DyiLJUJV07EhQWsDC4AFQ5Vh6ZAsWD8yWBZDqSxeyoiseUKCVgYWAFflrFdT/OfIXkhd08iHZNxw9AtP98pi/JCgVc8iBGDxUGVYNqQuauZDymLOUGW4bqAsRkIKAVoQWADcmHXu1X+P7IXURc19UFlcHqoMF/TK4t8hQd8vWACsHqoMi4TUVc19UFksGKpM94SpQwKBBdDX7suIq4tCEli/U+6K9bU3wjoh0ZcEFgBrhyrDvCH9fgJrrjAaqgZcHeYPif4gsACYZPiI4Xh91nqVGVg1IuvgUDXonrBLmG2oLAZD4q9BYAH0pU1DlWE+gVVDryz+ncriwVCNAW+FW8IF4fAM8/3hNWXoiP/F/zsiHD7WcLPA6h8Ak4wcMWS9yg2s/EOF74eqT21Y43DVpKFqAQTWmAKwd6hqGg2zCqz8yFpHYHWDwALg6yM5b4aqptNDEljNRNYBAqsTBBYAe4YqwwwCq9nIOkhgtZ7AAmCqMEtN04QksPo7sgQWAgsAgfV1ZG0XRgUWAgsAgdVsZC0dXhZYCCwABFazkTVpuFhgIbAAEFjNh9bG4VWBhcACQGA1qFcW4319K4d3BBYCCwCB1Xxo7RFeFFgILAAEVoOGy2IglcWy4fTwksBCYAEgsBr0j7LopbKYO2weTg13hDKMCiwEFgACq0GDZTGcymLGHL2y+G9If8SkXz1BfMYWYOiI/4b0ZwGAP/oGAAAEFgCAwAIAEFgAAAgsAACBBQAgsAAABBYAAAILAEBgAQAILAAABBYAgMACABBYAAAILAAAgQUAILAAABBYAAACCwBAYAEACCwAAAQWAIDAAgAQWAAACCwAAIEFACCwAAAQWAAAAgsAQGABAPA5vJFvdTUb5IYAAAAASUVORK5CYII="},561:function(e,t,a){e.exports=a(856)},709:function(e,t,a){e.exports=a.p+"static/media/slack-integration.9c4865bb.png"},732:function(e,t,a){e.exports=a.p+"static/media/tickets-welcome.1f5e7193.png"},734:function(e,t,a){e.exports=a.p+"static/media/services-welcome.fdfab99a.png"},746:function(e,t){},748:function(e,t){},757:function(e,t){},759:function(e,t){},779:function(e,t){},781:function(e,t){},809:function(e,t){},811:function(e,t){},812:function(e,t){},817:function(e,t){},819:function(e,t){},838:function(e,t){},850:function(e,t){},853:function(e,t){},856:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"Signin",(function(){return ut})),a.d(n,"Signup",(function(){return ua})),a.d(n,"CreatePassword",(function(){return fa})),a.d(n,"ResetPassword",(function(){return Ea})),a.d(n,"Slack",(function(){return Hn})),a.d(n,"Members",(function(){return Ol})),a.d(n,"Locations",(function(){return Ul})),a.d(n,"PlanSubscription",(function(){return rs})),a.d(n,"MyPlan",(function(){return vs})),a.d(n,"Notifications",(function(){return As})),a.d(n,"MyProfile",(function(){return xs})),a.d(n,"ChangePassword",(function(){return Ds})),a.d(n,"Tickets",(function(){return Yc})),a.d(n,"NewTicket",(function(){return ai})),a.d(n,"TicketsReport",(function(){return hi})),a.d(n,"PublicNewTicket",(function(){return xi})),a.d(n,"TicketCategories",(function(){return Vs})),a.d(n,"TicketTags",(function(){return nm})),a.d(n,"Services",(function(){return Xi})),a.d(n,"MyRequests",(function(){return dm})),a.d(n,"MyRequestDetails",(function(){return fm})),a.d(n,"ServicesOnDemand",(function(){return hm})),a.d(n,"ServicesSubscription",(function(){return Em})),a.d(n,"NewServiceRequest",(function(){return vm}));var r=a(0),o=a.n(r),c=a(26),i=a.n(c),l=a(39),s=a(12),m=a.n(s),u=a(19),d=a(56),b=a(57),p=a(70),g=a(69),f=a(4),h=(a(567),a(17)),E=a(11),v=a.n(E),O=a(113),j=a.n(O),C=a(509),y=a.n(C),k=a(21),A=a.n(k),w=a(906),T=a(897),x=a(330),S=a.n(x),N=a(1),D=a(510),M={save:function(e,t){return localStorage.setItem(e,JSON.stringify(t))},get:function(e){try{var t=localStorage.getItem(e);return JSON.parse(t)}catch(a){return{}}},delete:function(e){return localStorage.removeItem(e)}},F=new(a.n(D).a),I={setUserToken:function(e){return M.save("userToken",e)},getUserToken:function(){return M.get("userToken")||""},setUserData:function(e){var t=M.save("userData",e);return F.publish("ON_VIEWER_CHANGE",e),t},getUserData:function(){return M.get("userData")||{}},clear:function(){F.publish("ON_VIEWER_CHANGE",null),M.delete("userToken"),M.delete("userData")},getAuthToken:function(){var e=M.get("userToken");if(e)return e;throw new Error("No authToken")},getBearerToken:function(){var e=M.get("userToken");return"Bearer: ".concat(e)},isTicketsWelcomeVisited:function(){return!!M.get("ticketsWelcomeVisited")},isServicesWelcomeVisited:function(){return!!M.get("servicesWelcomeVisited")},setTicketsWelcomeVisited:function(){M.save("ticketsWelcomeVisited",!0)},setServicesWelcomeVisited:function(){M.save("servicesWelcomeVisited",!0)},isLoggedIn:function(){var e=M.get("userToken");return!!e},isUnauthorized:function(e){return e&&e.response&&401===e.response.status},subscribeOnViewerChange:function(e){return F.subscribe("ON_VIEWER_CHANGE",(function(t){return e(t)}))},unsubscribeOnViewerChange:function(e){return F.unsubscribe(e)}},R=a(511),L="production",B="https://api.lobby.tech",P={appName:"Lobby Portal",appNamespace:a.n(R)()("Lobby Portal"),apiURL:B,systemName:"Lobby",systemPhotoUrl:"".concat("https://portal.lobby.tech","/system-icon.png"),wsURL:"wss://api.lobby.tech",env:L,isDevelopment:!1,isStaging:!1,isProduction:!0,livechatId:12113223,whatsappHelp:"https://wa.me/5511999977468",slackClientId:"760439175683.1126241376992",slackOAuthURL:"https://slack.com/oauth/v2/authorize",slackOAuthScope:"commands,users:read,users:read.email,chat:write",slackOAuthUserScope:"users:read,users:read.email,chat:write",slackRedirectURL:"".concat(B,"/lobby_portal/slack/integrate"),apiRequestTimeout:2e4,mixpanelToken:"edc68e4e1788a9a91e92f329276c65f7",sentryDsn:"https://3be1796d494f46669c83a078596a5f77@o280883.ingest.sentry.io/5246294",pagarmeEncryptionKey:"ek_live_kI7ECtOa76HXqGKCY9qWDxKSmd9Kc6",locale:"pt-br",isiOS:!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},_=function(e){var t=Object(N.get)(e,"response.data")||{};return t.response=Object(N.get)(e,"response"),t||(t={error:Object(N.get)(e,"message")}),t},q="".concat(P.apiURL,"/").concat(P.appNamespace),U={request:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,i=x.CancelToken.source(),l=new Promise((function(a,n){e=a,t=n}));l.cancelRequest=function(){return i.cancel("Operation canceled by the user.")};var s=I.getBearerToken(),m=S.a.create({baseURL:q,timeout:P.apiRequestTimeout,headers:{"Content-Type":"application/json",Authorization:s},responseType:"json",onUploadProgress:Object(N.get)(c,"onUploadProgress"),cancelToken:i.token});return m[a](n,r,o).then((function(t){return e(t.data)})).catch((function(e){return t(_(e))})),l},get:function(e,t,a){return this.request("get",e,{params:t},a)},post:function(e,t,a,n){return this.request("post",e,t,a,n)},put:function(e,t,a,n){return this.request("put",e,t,a,n)},delete:function(e,t,a,n){return this.request("delete",e,t,a,n)}},z={getViewer:function(){return U.get("/member")},updateMember:function(e){var t=e.name,a=e.lastname,n=e.jobRole;return U.put("/member",{name:t,lastname:a,job_role:n})},updateMemberPassword:function(e){var t=e.password;return U.put("/member/change_password",{password:t})},revokeSlackUser:function(){return U.put("/member/revoke_slack")}},W=a(188),V=a.n(W),H=a(512),Y=a.n(H);V.a.init(P.mixpanelToken);var G={prepareTrackUser:function(){var e=I.getUserData();if(e&&e.id){var t={app_id:P.appNamespace,app_name:P.appName,user_id:v()(e,"id"),email:v()(e,"email"),phone:v()(e,"phone"),name:v()(e,"fullname"),company:v()(e,"company.name"),company_id:v()(e,"company_id"),created_at:v()(e,"created_at"),verified_at:v()(e,"verified_at")};return V.a.identify(t.user_id),V.a.people.set(t),t}return{}},hit:function(e,t){if(P.isProduction){var a=this.prepareTrackUser(),n=Y()(t,a);return V.a.track(e,n)}return console.info(e)},trackPageView:function(e){this.hit("".concat(e," - Viewed"),{screen:e})}},Q=function(e,t){return function(a){return Object(r.useEffect)((function(){G.trackPageView(t)})),o.a.createElement(e,a)}},J=a(936),X=a(66),K=function(){function e(){Object(d.a)(this,e)}return Object(b.a)(e,null,[{key:"setup",value:function(){if(P.isProduction){J.a({dsn:P.sentryDsn,environment:P.env}),X.b("server",P.apiUrl);var e=this.getViewerData();X.c(e)}}},{key:"capture",value:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.length>1&&void 0!==r[1]?r[1]:{},t&&(P.isProduction?(n=this.getViewerData(),X.c(n),Object.keys(a).forEach((function(e){return X.b(e,a[e])})),setTimeout((function(){return X.a(t)}),10)):console.error(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewerData",value:function(){try{var e=I.getUserData();return e&&e.id?{id:e.id,email:e.email}:{}}catch(t){return{}}}}]),e}(),Z=a(3),$=a(8),ee=a(79),te=a.n(ee),ae=a(7),ne=a.n(ae),re=a(37),oe=function(e){var t;return{container:(t={width:"auto",height:"100%",maxHeight:"100%",marginBottom:20},Object(re.a)(t,e.breakpoints.up("md"),{paddingLeft:e.menuWidth,width:"calc(100%-".concat(2*e.menuWidth,"px)"),minWidth:"calc(100%-".concat(2*e.menuWidth,"px)"),maxWidth:"calc(100%-".concat(2*e.menuWidth,"px)"),marginLeft:"auto",marginRight:"auto"}),Object(re.a)(t,e.breakpoints.up("xl"),{width:e.maxContainerWidth,minWidth:e.maxContainerWidth,maxWidth:e.maxContainerWidth,marginLeft:"auto",marginRight:"auto"}),t),root:Object(re.a)({flexGrow:1,marginRight:10,marginLeft:10},e.breakpoints.up("md"),{marginRight:40,marginLeft:40}),fab:{position:"fixed",zIndex:1e3,bottom:e.spacing(2),right:e.spacing(2)},headerView:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",alignItems:"flex-start",whiteSpace:"nowrap"},centerHeaderView:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center",marginTop:120},tableCell:{color:"#003f54",fontSize:14,height:"auto",wordBreak:"break-word"},tableExtraSmallCell:{fontSize:14,height:"auto",width:120,maxWidth:120,minWidth:120,wordBreak:"break-word"},tableSmallCell:{fontSize:14,height:"auto",width:160,maxWidth:160,minWidth:160,wordBreak:"break-word"},tableTinyCell:{fontSize:14,height:"auto",width:110,minWidth:110,maxWidth:110,wordBreak:"break-word"},tableMediumCell:{fontSize:14,height:"auto",width:180,maxWidth:180,minWidth:180,wordBreak:"break-word"},bgGray:{backgroundColor:"#e7ebec"},bgWhite:{backgroundColor:"#FFF"},roleSelect:{fontSize:14},inputBox:{marginTop:10},selectBox:{width:200,marginTop:10},center:{display:"flex",justifyContent:"center",textAlign:"center"},textCenter:{textAlign:"center"},emptyHeaderIcon:{fontSize:32},emptyHeaderTitle:{marginLeft:10},iconMenu:{marginRight:10},paper:{padding:20,paddingBottom:30,overflowX:"auto",marginRight:"auto",marginLeft:"auto"},tablePaper:{overflowX:"auto",marginRight:"auto",marginLeft:"auto"},input:{marginTop:20},actions:{marginTop:20,display:"flex",width:"100%",justifyContent:"flex-end"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}},ce=Object(r.memo)((function(e){var t=e.classes;return o.a.createElement("div",{className:t.outterContainer},o.a.createElement(te.a,{className:t.emptyHeaderIcon}),o.a.createElement("b",{className:t.emptyHeaderTitle},"Ocorreu um problema, por favor, tente mais tarde"))}));ce.propTypes={classes:ne.a.object};var ie=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{outterContainer:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center"}})}),{withTheme:!0})(ce),le=Object(Z.b)(Object(Z.h)("hasError","setHasError",!1),Object(Z.c)({componentDidCatch:function(e,t){K.capture(e,{extra:t}),(0,this.props.setHasError)(!0)}}),(function(e){return function(t){return t.hasError?o.a.createElement(ie,null):o.a.createElement(e,t)}})),se=a(891),me=a(890),ue=a(892),de=function(e){return{progress:{margin:e.spacing(2)},middle:{marginTop:20},center:{justifyContent:"center",textAlign:"center"}}},be=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={slowConnection:!1},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.hasRefreshMsg&&(this.timeoutConnection=setTimeout((function(){e.setState({slowConnection:!0})}),P.apiRequestTimeout))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutConnection)}},{key:"render",value:function(){var e=this.props,t=e.hasRefreshMsg,a=e.classes,n=e.theme.mainColor,r=this.state.slowConnection;return o.a.createElement(me.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:a.middle},o.a.createElement(se.a,{color:n,className:a.progress,variant:"indeterminate",disableShrink:!0,thickness:5}),o.a.createElement("b",null,"Carregando..."),t&&r?o.a.createElement("div",{className:a.center},o.a.createElement("br",null),o.a.createElement("b",null,"H\xe1 problemas de conex\xe3o com a internet"),o.a.createElement(ue.a,{onClick:function(){return window.location.reload()},size:"large",color:"primary",variant:"contained"},o.a.createElement("b",null,"Recarregar"))):null)}}]),a}(r.PureComponent),pe=Object($.a)(de,{withTheme:!0})(be),ge=a(128),fe=Object(r.memo)((function(e){var t=e.classes,n=e.history;return o.a.createElement("div",{className:t.root,style:{marginTop:100}},o.a.createElement("p",{className:t.center},o.a.createElement("img",{src:a(221),width:150,alt:"Lobby",className:t.logo})),o.a.createElement("p",{className:t.center},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Ops...Parece que voc\xea acessou uma p\xe1gina n\xe3o encontrada"))),o.a.createElement("p",{className:t.center},o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return n.replace("/")}},"Voltar para home page")))}));fe.propTypes={classes:ne.a.object,history:ne.a.object};var he=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),h.g)(fe),Ee=a(138),ve=a(143),Oe=Object(Ee.a)({palette:{primary:{main:"#1177FF"},secondary:{main:ve.a[500],light:"#ff7961"},background:{default:"#F5F5F5"}},typography:{useNextVariants:!0},maxContainerWidth:1440,menuWidth:200}),je=a(548);function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ye(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ke=o.a.createElement("g",{id:"Group_2417","data-name":"Group 2417",transform:"translate(15781 2913)"},o.a.createElement("g",{id:"Group_2416","data-name":"Group 2416"},o.a.createElement("g",{id:"Group_2413","data-name":"Group 2413"},o.a.createElement("rect",{id:"Rectangle_2430","data-name":"Rectangle 2430",width:128,height:128,transform:"translate(-15781 -2913)",fill:"#fff",opacity:0}),o.a.createElement("path",{id:"Path_7070","data-name":"Path 7070",d:"M-15760.308-2849h86.573l4.255,47.009-7.294,9.349-9.059,3.811h-64.633l-9.843-7.757-4.882-9.514Z",fill:"#ffaba9"}),o.a.createElement("g",{id:"shopping-bag",transform:"translate(-15820.785 -2913)"},o.a.createElement("g",{id:"Group_2412","data-name":"Group 2412",transform:"translate(53.02)"},o.a.createElement("g",{id:"Group_2411","data-name":"Group 2411",transform:"translate(0)"},o.a.createElement("path",{id:"Path_7069","data-name":"Path 7069",d:"M154.449,105.555l-5.716-72.029A9,9,0,0,0,139.8,25.25H128.508v-.507a24.742,24.742,0,1,0-49.484,0v.507H67.733A9,9,0,0,0,58.8,33.516l-5.718,72.049A20.842,20.842,0,0,0,73.861,128h59.808a20.842,20.842,0,0,0,20.78-22.445ZM86.521,24.742a17.245,17.245,0,0,1,34.49,0v.507H86.521Zm56.939,91.484a13.207,13.207,0,0,1-9.79,4.276H73.862a13.344,13.344,0,0,1-13.306-14.355L66.273,34.1a1.47,1.47,0,0,1,1.459-1.351H79.023v9.234a3.749,3.749,0,0,0,7.5,0V32.747h34.49v9.234a3.749,3.749,0,1,0,7.5,0V32.747H139.8a1.473,1.473,0,0,1,1.46,1.361l5.716,72.029A13.208,13.208,0,0,1,143.459,116.226Z",transform:"translate(-53.02)",fill:"#fe5956"}))))))),Ae=function(e){var t=e.svgRef,a=e.title,n=ye(e,["svgRef","title"]);return o.a.createElement("svg",Ce({width:128,height:128,viewBox:"0 0 128 128",ref:t},n),a?o.a.createElement("title",null,a):null,ke)},we=o.a.forwardRef((function(e,t){return o.a.createElement(Ae,Ce({svgRef:t},e))})),Te=(a.p,Object(r.memo)((function(){return o.a.createElement(je.a,{component:we,viewBox:"0 0 128 128",style:{width:20,height:20}})})));function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ne=o.a.createElement("path",{d:"M240,144h-5.336V133.336A5.328,5.328,0,0,0,229.336,128H224a5.34,5.34,0,0,0-5.336,5.336V144H165.328V133.336A5.323,5.323,0,0,0,160,128h-5.336a5.34,5.34,0,0,0-5.336,5.336V144H144a16.016,16.016,0,0,0-16,16v80a16.016,16.016,0,0,0,16,16h96a16.016,16.016,0,0,0,16-16V160A16.016,16.016,0,0,0,240,144Zm0,101.338H144A5.34,5.34,0,0,1,138.664,240V176.217H245.328V240A5.328,5.328,0,0,1,240,245.339Z",transform:"translate(-128 -128)",fill:"#4adaa4"}),De=o.a.createElement("g",{transform:"translate(37.331 55.999)"},o.a.createElement("path",{d:"M10.339,52.621A4.008,4.008,0,0,1,8.7,48.706L11.051,34.3,1.131,24.121A4,4,0,0,1,3.4,17.37L16.946,15.3l6.1-12.987A3.992,3.992,0,0,1,30.278,2.3l6.093,13,13.556,2.073a4,4,0,0,1,2.264,6.75L42.27,34.294l2.352,14.4a4,4,0,0,1-5.879,4.143L26.67,46.17l-12.09,6.683a4.038,4.038,0,0,1-1.937.5A4,4,0,0,1,10.339,52.621ZM24.731,45.1l1.939-3.506Z",transform:"translate(0 0)",fill:"#00d18d",stroke:"rgba(0,0,0,0)",strokeMiterlimit:10,strokeWidth:1})),Me=function(e){var t=e.svgRef,a=e.title,n=Se(e,["svgRef","title"]);return o.a.createElement("svg",xe({width:128,height:128.002,viewBox:"0 0 128 128.002",ref:t},n),a?o.a.createElement("title",null,a):null,Ne,De)},Fe=o.a.forwardRef((function(e,t){return o.a.createElement(Me,xe({svgRef:t},e))})),Ie=(a.p,Object(r.memo)((function(){return o.a.createElement(je.a,{component:Fe,viewBox:"0 0 128 128",style:{width:20,height:20}})})));function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Le(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Be=o.a.createElement("path",{d:"M177.534,128H137.373A9.378,9.378,0,0,0,128,137.374v24.1a9.383,9.383,0,0,0,9.373,9.374h40.161a9.383,9.383,0,0,0,9.374-9.374v-24.1A9.389,9.389,0,0,0,177.534,128Z",transform:"translate(-128 -128)",fill:"#a4b6fc"}),Pe=o.a.createElement("path",{d:"M177.534,234.672H137.373A9.377,9.377,0,0,0,128,244.038v56.226a9.378,9.378,0,0,0,9.373,9.374h40.161a9.383,9.383,0,0,0,9.374-9.374V244.038A9.387,9.387,0,0,0,177.534,234.672Z",transform:"translate(-128 -181.645)",fill:"#365df0"}),_e=o.a.createElement("path",{d:"M316.19,298.672H276.029a9.383,9.383,0,0,0-9.373,9.374v24.1a9.383,9.383,0,0,0,9.373,9.374H316.19a9.39,9.39,0,0,0,9.374-9.382v-24.1A9.377,9.377,0,0,0,316.19,298.672Z",transform:"translate(-197.564 -213.516)",fill:"#a4b6fc"}),qe=o.a.createElement("path",{d:"M316.19,128H276.029a9.383,9.383,0,0,0-9.373,9.374V193.6a9.383,9.383,0,0,0,9.373,9.374H316.19a9.383,9.383,0,0,0,9.374-9.374V137.374A9.378,9.378,0,0,0,316.19,128Z",transform:"translate(-197.564 -128)",fill:"#365df0"}),Ue=function(e){var t=e.svgRef,a=e.title,n=Le(e,["svgRef","title"]);return o.a.createElement("svg",Re({ref:t},n),a?o.a.createElement("title",null,a):null,Be,Pe,_e,qe)},ze=o.a.forwardRef((function(e,t){return o.a.createElement(Ue,Re({svgRef:t},e))})),We=(a.p,Object(r.memo)((function(){return o.a.createElement(je.a,{component:ze,viewBox:"0 0 128 128",style:{width:20,height:20}})}))),Ve={Signin:{label:"Signin",trackPage:"Signin",path:"/",exact:!0,hideMenu:!0,private:!1},Signup:{label:"Signup",trackPage:"Signup",path:"/signup",exact:!0,hideMenu:!0,private:!1},ResetPassword:{label:"Recuperar senha",trackPage:"ResetPassword",path:"/recuperar-senha",hideMenu:!0,private:!1},CreatePassword:{label:"Criar senha",trackPage:"CreatePassword",path:"/criar-senha",hideMenu:!0,private:!1},PublicNewTicket:{label:"Novo ticket",trackPage:"PublicNewTicket",path:"/public/tickets/novo",hideMenu:!0,private:!1},NewTicket:{label:"Novo ticket",trackPage:"NewTicket",path:"/tickets/novo",hideMenu:!0,private:!0},TicketsReport:{label:"Relat\xf3rio de Tickets",trackPage:"TicketsReport",path:"/tickets/relatorio",hideMenu:!0,private:!0},Tickets:{label:"Tickets",trackPage:"Tickets",path:"/tickets/:id*",icon:o.a.createElement(We,null),private:!0},Services:{label:"Servi\xe7os",trackPage:"Services",path:"/servicos",icon:o.a.createElement(Ie,null),private:!0,exact:!0},MyRequests:{label:"Pedidos",trackPage:"MyRequests",path:"/meus-pedidos",icon:o.a.createElement(Te,null),private:!0,exact:!0},MyRequestDetails:{label:"Detalhes do pedido",trackPage:"MyRequestDetails",path:"/meus-pedidos/:id",private:!0,hideMenu:!0},ServicesOnDemand:{trackPage:"ServicesOnDemand",path:"/servicos/sobdemanda",private:!0,hideMenu:!0},ServicesSubscription:{trackPage:"ServicesSubscription",path:"/servicos/recorrentes",private:!0,hideMenu:!0},NewServiceRequest:{trackPage:"NewServiceRequest",path:"/servicos/:serviceId/solicitar-servico",private:!0,hideMenu:!0},Members:{label:"Usu\xe1rios",trackPage:"Members",path:"/configuracoes/usuarios",settingsMenu:!0,private:!0},TicketCategories:{label:"Categorias",trackPage:"TicketCategories",path:"/configuracoes/categorias",settingsMenu:!0,private:!0},TicketTags:{label:"Etiquetas",trackPage:"TicketTags",path:"/configuracoes/etiquetas",settingsMenu:!0,private:!0},Locations:{label:"Locais",trackPage:"Locations",path:"/configuracoes/locais",settingsMenu:!0,private:!0},MyPlan:{label:"Meu Plano",trackPage:"MyPlan",path:"/configuracoes/meu-plano",settingsMenu:!0,private:!0},MyProfile:{label:"Meu perfil",trackPage:"MyProfile",path:"/configuracoes/meu-perfil",settingsMenu:!0,private:!0},ChangePassword:{label:"Mudar senha",trackPage:"ChangePassword",path:"/configuracoes/mudar-senha",settingsMenu:!0,private:!0},Slack:{label:"Slack",trackPage:"Slack",path:"/configuracoes/slack",settingsMenu:!0,private:!0},Notifications:{label:"Notifica\xe7\xf5es",trackPage:"Notifications",path:"/configuracoes/notificacoes",settingsMenu:!0,private:!0},PlanSubscription:{label:"Assinar Plano",trackPage:"PlanSubscription",path:"/assinar-plano",hideMenu:!0,private:!0}},He=a(894),Ye={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},content:{display:"flex",flexDirection:"column",width:350,marginTop:40,alignItems:"center",justifyContent:"center",textAlign:"center",paddingLeft:5,paddingRight:5},form:{width:"100%",marginTop:5},button:{marginTop:15,height:60},logo:{marginBottom:30}},Ge={postSignin:function(e,t){var a={email:e,password:t};return U.post("/auth/signin",a)},postSignup:function(e){var t=e.memberName,a=e.memberLastname,n=e.memberEmail,r=e.memberPhone,o=e.companyName,c={member_name:t,member_lastname:a,member_email:n,member_phone:r,member_password:e.memberPassword,company_name:o};return U.post("/auth/signup",c)}},Qe=[{label:"Colaborador",value:"MEMBER"},{label:"Gestor do escrit\xf3rio",value:"AGENT"},{label:"Administrador da conta",value:"ADMIN"}],Je=["ADMIN"],Xe=["AGENT","ADMIN"],Ke=a(893),Ze=a(861),$e=a(68),et=a.n($e),tt=a(551),at=a(146),nt=a(436),rt=function(e){return{success:{backgroundColor:at.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:"#1177FF"},warning:{backgroundColor:nt.a[700]},closeIcon:{fontSize:20,opacity:.9,justifyContent:"center"},message:{fontSize:20,display:"flex",alignItems:"center"}}},ot=Object(r.memo)((function(e){var t=e.message,a=e.type,n=e.actionButton,r=e.onClickAction,c=e.onClose,i=e.classes,l=[];return n&&l.push(o.a.createElement(ue.a,{key:"action",color:"inherit",variant:"outlined",className:i[a||"info"]||i.info,onClick:r},n)),c&&l.push(o.a.createElement(tt.a,{key:"close",color:"inherit",onClick:c},o.a.createElement(et.a,{className:i.closeIcon}))),o.a.createElement(Ke.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,autoHideDuration:c?3e3:null,onClose:function(){return c&&c()}},o.a.createElement(Ze.a,{className:i[a||"info"]||i.info,message:o.a.createElement("span",{className:i.message},t),action:l}))})),ct=Object($.a)(rt,{withTheme:!0})(ot),it=Object(r.memo)((function(){return o.a.createElement("p",null,"Acessando portal voc\xea concorda com ",o.a.createElement("a",{href:"https://lobby.tech/termos-de-uso/",target:"_blank",rel:"noopener noreferrer"},"termos de uso"))})),lt=Ve.MyProfile.path,st=Ve.Tickets.path,mt=Ve.Services.path,ut=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",errorMsg:"",submit:!1},e.getRedirectLink=function(){var e=M.get("redirectUrl");if(M.delete("redirectUrl"),e)return e;var t=I.getUserData(),a="MEMBER"===v()(t,"role","MEMBER"),n=v()(t,"company.has_ticket_support",!1),r=v()(t,"company.marketplace_for_members",!1);return n?st:a&&!r?lt:mt},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password,o=e.props.history;e.setState({submit:!0},Object(u.a)(m.a.mark((function t(){var a,c,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n||!r){t.next=13;break}return t.next=4,Ge.postSignin(n,r);case 4:return a=t.sent,c=a.token,I.setUserToken(c),t.next=9,z.getViewer();case 9:return i=t.sent,I.setUserData(v()(i,"member")),setTimeout((function(){e.setState({submit:!1}),o.push(e.getRedirectLink())}),5),t.abrupt("return",!0);case 13:throw new Error("Blank fields");case 16:return t.prev=16,t.t0=t.catch(0),401===v()(t.t0,"response.status")?e.setState({submit:!1,errorMsg:"Credencial inv\xe1lida, tente novamente."}):e.setState({submit:!1,errorMsg:"Ocorreu um erro inesperado."}),t.abrupt("return",!0);case 20:case"end":return t.stop()}}),t,null,[[0,16]])}))))},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.history;try{I.isLoggedIn()&&e.push(this.getRedirectLink())}catch(t){401===v()(t,"response.status")?(this.setState({submit:!1,errorMsg:"Sess\xe3o expirada."}),I.clear()):this.setState({submit:!1,errorMsg:"Ocorreu um erro inesperado."})}return!0}},{key:"render",value:function(){var e=this,t=this.state,n=t.username,r=t.password,c=t.submit,i=t.errorMsg;return o.a.createElement("div",{style:Ye.container},o.a.createElement("div",{style:Ye.content},i&&o.a.createElement(ct,{message:i,type:"warning",onClose:function(){return e.setState({errorMsg:""})}}),o.a.createElement("img",{src:a(221),width:150,alt:P.appName,style:Ye.logo}),o.a.createElement(ge.a,{component:"h1",variant:"h5"},"Portal da empresa"),o.a.createElement("form",{onSubmit:this.onSubmit,style:Ye.form},o.a.createElement(He.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Email",type:"text",disabled:c,value:n,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({username:t.target.value.toLowerCase()})}}),o.a.createElement(He.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Senha",type:"password",disabled:c,value:r,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({password:t.target.value})}}),o.a.createElement(ue.a,{disabled:c,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:Ye.button,type:"submit"},c?"Carregando...":"Entrar")),o.a.createElement("p",null,o.a.createElement(l.b,{to:"/recuperar-senha"},"Esqueci minha senha")),o.a.createElement(it,null)))}}]),n}(r.PureComponent),dt=a(249),bt=a.n(dt),pt={isTablet:function(){return window.innerWidth<1280},isMobile:function(){return window.innerWidth<720}},gt={container:{marginTop:pt.isMobile()?10:40},contentLeft:{display:"flex",flexDirection:"column",textAlign:"left",alignItems:"flex-end",padding:20,marginRight:pt.isMobile()?0:70},contentRight:{display:"flex",flexDirection:"column",textAlign:"left",alignItems:"flex-start",padding:20},form:{maxWidth:410,width:"100%",marginTop:5,padding:0},button:{marginTop:15,height:60,marginBottom:15},logo:{marginBottom:20},gridItem:{paddingTop:0,paddingBottom:0},checkItem:{marginTop:25,display:"flex",flexDirection:"row"},checkIcon:{height:32,width:32,marginRight:10,color:"green"},title:{marginBottom:10},textFieldMarginBottom:{marginBottom:0},errorMessage:{marginTop:-5}},ft=a(24),ht=a(329),Et=a(870),vt={errors:{paddingTop:8}},Ot=function(e){var t=e.errors,a=e.variant,n=void 0===a?"outlined":a,r=e.InputLabelProps,c=void 0===r?{shrink:!0}:r,i=e.maskFunction,l=e.value,s=e.onChangeValue,m=void 0===s?function(){}:s,u=e.onChangeText,d=void 0===u?function(){}:u,b=e.margin,p=void 0===b?"normal":b,g=Object(ft.a)(e,["errors","variant","InputLabelProps","maskFunction","value","onChangeValue","onChangeText","margin"]);return g="standard"!==n?Object(f.a)(Object(f.a)({},g),{},{variant:n}):g,o.a.createElement(ht.a,{fullWidth:!0,margin:p,error:!Object(N.isEmpty)(t)},o.a.createElement(He.a,Object.assign({error:!Object(N.isEmpty)(t),InputLabelProps:c,value:l,onChange:function(e){var t=e.target.value;if(!i||l&&Object(N.size)(t)<Object(N.size)(l))return m(t),d(t),null;var a=i(t);return m(a),d(a),null}},g)),!Object(N.isEmpty)(t)&&o.a.createElement(Et.a,{style:vt.errors},Object(N.isArray)(t)?t.join(", "):t))},jt=function(e){var t=e.value,a=e.min,n=e.max,r=e.onChangeText,c=e.onChangeValue,i=void 0===c?function(){}:c,l=Object(ft.a)(e,["value","min","max","onChangeText","onChangeValue"]);return o.a.createElement(Ot,Object.assign({value:t||"",maskFunction:function(e){return function(e){var t=e.oldValue,a=e.newValue,n=e.min,r=e.max;if(null===a)return null;var o=Number.parseFloat(a);if(n&&o<n||r&&o>r)return t;var c=new RegExp(/\d+/).exec(a);return c?c[0]:c}({oldValue:t,newValue:e,min:a,max:n})},inputProps:{inputMode:"numeric"},onChangeValue:function(e){return i(Number.parseFloat(e))},onChangeText:r},l))},Ct=a(518),yt=a.n(Ct),kt=function(e){var t=e.errors,a=e.variant,n=void 0===a?"outlined":a,r=e.InputLabelProps,c=void 0===r?{shrink:!0}:r,i=e.value,l=e.onChangeValue,s=void 0===l?function(){}:l,m=e.onBlurValue,u=void 0===m?function(){}:m,d=e.margin,b=void 0===d?"normal":d,p=Object(ft.a)(e,["errors","variant","InputLabelProps","value","onChangeValue","onBlurValue","margin"]);return p="standard"!==n?Object(f.a)(Object(f.a)({},p),{},{variant:n}):p,o.a.createElement(ht.a,{fullWidth:!0,margin:b,error:!Object(N.isEmpty)(t)},o.a.createElement(yt.a,Object.assign({error:!Object(N.isEmpty)(t),InputLabelProps:c,value:i,outputFormat:"number",currencySymbol:"",decimalCharacter:",",digitGroupSeparator:".",leadingZero:"allow",onChange:function(e,t){return s(t)},onBlur:function(e){return u(e.target.value)}},p)),!Object(N.isEmpty)(t)&&o.a.createElement(Et.a,{style:vt.errors},Object(N.isArray)(t)?t.join(", "):t))},At=a(930),wt=a(931),Tt=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{valueText:{paddingLeft:30,paddingRight:30},button:{width:e.spacing(4),minWidth:e.spacing(4)}})}),{withTheme:!0})((function(e){var t=e.value,a=e.onChangeText,n=e.disabled,r=e.min,c=e.max,i=e.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{className:i.button,size:"large",variant:"contained",onClick:function(){var e=Number(t)-1;r&&e<r||a(e)},disabled:n},o.a.createElement(At.a,null)),o.a.createElement("b",{className:i.valueText},t),o.a.createElement(ue.a,{className:i.button,size:"large",variant:"contained",onClick:function(){var e=Number(t)+1;c&&e>c||a(e)},disabled:n},o.a.createElement(wt.a,null)))})),xt=a(97),St=function(e){var t=e.value,a=e.placeholder,n=void 0===a?"00000-000":a,r=Object(ft.a)(e,["value","placeholder"]);return o.a.createElement(Ot,Object.assign({value:t||"",maxLength:9,maskFunction:function(e){return function(e){if(null==e)return null;var t=/(\d{0,5})-?(\d{0,3})/.exec(e),a=Object(xt.a)(t,3),n=(a[0],a[1]),r=a[2];return""===r?n:"".concat(n,"-").concat(r)}(e)},type:"tel",placeholder:n},r))},Nt=/(\d{0,2})(\d{0,5})(\d{0,4})/,Dt=/(\d{0,2})(\d{0,4})(\d{0,4})/,Mt=function(e){var t=e.value,a=e.phoneType,n=void 0===a?"cellphone":a,r=e.placeholder,c=void 0===r?"(00) 00000-0000":r,i=Object(ft.a)(e,["value","phoneType","placeholder"]);return o.a.createElement(Ot,Object.assign({value:t||"",maxLength:9,maskFunction:function(e){return function(e,t){var a=t.phoneType;if(null==e)return null;var n=e.replace(/\D/g,""),r=("cellphone"===a?Nt:Dt).exec(n),o=Object(xt.a)(r,4),c=(o[0],o[1]),i=o[2],l=o[3];return""===c?null:""===l?""===i?"(".concat(c,")"):"(".concat(c,") ").concat(i):"(".concat(c,") ").concat(i,"-").concat(l)}(e,{phoneType:n})},type:"tel",placeholder:c},i))},Ft=a(864),It=a(879),Rt=a(919),Lt=function(e){var t=e.errors,a=e.variant,n=void 0===a?"outlined":a,r=e.InputLabelProps,c=void 0===r?{shrink:!0}:r,i=e.onChangeValue,l=void 0===i?function(){}:i,s=e.onChangeText,d=void 0===s?function(){}:s,b=e.margin,p=void 0===b?"normal":b,g=e.value,h=e.label,E=e.multiple,v=e.options,O=e.emptyOptionLabel,j=void 0===O?null:O,C=e.readOnly,y=e.optionValueField,k=void 0===y?"value":y,A=e.optionLabelField,w=void 0===A?"label":A,T=e.onClose,x=void 0===T?function(){}:T,S=Object(ft.a)(e,["errors","variant","InputLabelProps","onChangeValue","onChangeText","margin","value","label","multiple","options","emptyOptionLabel","readOnly","optionValueField","optionLabelField","onClose"]);S="standard"!==n?Object(f.a)(Object(f.a)({},S),{},{variant:n}):S;var D=E?function(e){var t=e.errors,a=e.label,n=e.onChangeValue,r=e.onChangeText,c=e.InputLabelProps,i=e.options,l=e.optionValueField,s=e.optionLabelField,m=e.margin,u=e.variant,d=Object(ft.a)(e,["errors","label","onChangeValue","onChangeText","InputLabelProps","options","optionValueField","optionLabelField","margin","variant"]),b="label-".concat(Math.random());return o.a.createElement(ht.a,{fullWidth:!0,margin:m,variant:u,error:!Object(N.isEmpty)(t)},o.a.createElement(Ft.a,Object.assign({shrink:!0,id:b},c),a),o.a.createElement(It.a,Object.assign({label:a,multiple:!0,labelId:b,error:!Object(N.isEmpty)(t),onChange:function(e){var t=e.target.value;n(t),r(t)}},d),i.map((function(e){return o.a.createElement(Rt.a,{value:Object(N.get)(e,l),key:Object(N.get)(e,l)},Object(N.get)(e,s))}))),!Object(N.isEmpty)(t)&&o.a.createElement(Et.a,{style:vt.errors},Object(N.isArray)(t)?t.join(", "):t))}(Object(f.a)({errors:t,label:h,onChangeValue:l,onChangeText:d,InputLabelProps:c,options:v,optionValueField:k,optionLabelField:w,onClose:x,margin:p,variant:n,value:g},S)):function(e){var t=e.errors,a=e.label,n=e.onChangeValue,r=e.onChangeText,c=e.emptyOptionLabel,i=e.options,l=e.optionValueField,s=e.optionLabelField,d=e.onClose,b=e.margin,p=Object(ft.a)(e,["errors","label","onChangeValue","onChangeText","emptyOptionLabel","options","optionValueField","optionLabelField","onClose","margin"]);return o.a.createElement(Ot,Object.assign({select:!0,errors:t,SelectProps:{native:!0},label:a,onChangeValue:function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:setTimeout(d,10);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onChangeText:r,margin:b},p),c?o.a.createElement("option",{value:""},c):"",i.map((function(e){return o.a.createElement("option",{value:Object(N.get)(e,l),key:Object(N.get)(e,l)},Object(N.get)(e,s))})))}(Object(f.a)({errors:t,label:h,onChangeValue:l,onChangeText:d,emptyOptionLabel:j,options:v,optionValueField:k,optionLabelField:w,onClose:x,margin:p,value:g},S)),M=Object(N.get)(Object(N.find)(v,(function(e){return e[k]===g})),w);return C?o.a.createElement(Ot,Object.assign({errors:t,label:h,value:M},S)):D},Bt=a(148),Pt=a(58),_t=a(937),qt=function(e){var t=e.label,a=(e.disabled,e.value),n=e.onChangeValue,r=e.minDate,c=e.errors,i=e.size,l=e.disableFuture,s=e.disablePast,m=e.readOnly,u=e.variant,d=void 0===u?"outlined":u,b=Object(ft.a)(e,["label","disabled","value","onChangeValue","minDate","errors","size","disableFuture","disablePast","readOnly","variant"]);return m?o.a.createElement(Ot,Object.assign({disabled:!0,readOnly:!0,label:t,variant:d,size:i,value:Object(N.isEmpty)(a)?"":A()(a).format("DD/MM/YYYY")},b)):o.a.createElement(ht.a,{fullWidth:!0,margin:"normal",error:!Object(N.isEmpty)(c)},o.a.createElement(Pt.a,{libInstance:A.a,utils:Bt.a,locale:P.locale},o.a.createElement(_t.a,{label:t,value:a,onChange:n,minDate:r,size:i,autoOk:!0,clearable:!0,animateYearScrolling:!0,invalidDateMessage:"Formato inv\xe1lido",minDateMessage:"",inputVariant:d,InputLabelProps:{shrink:!0},format:"DD/MM/YYYY",cancelLabel:"Cancelar",clearLabel:"Limpar",disableFuture:l,disablePast:s})),!Object(N.isEmpty)(c)&&o.a.createElement(Et.a,{style:vt.errors},Object(N.isArray)(c)?c.join(", "):c))},Ut=a(912),zt=a(911),Wt=a(940),Vt=Object(r.memo)((function(e){var t=e.errors,a=e.value,n=void 0===a?[]:a,r=e.onChangeValue,c=void 0===r?function(){}:r,i=e.disabled,l=e.options,s=e.optionValueField,m=void 0===s?"value":s,u=e.optionLabelField,d=void 0===u?"label":u;return o.a.createElement(ht.a,{fullWidth:!0,margin:"normal",error:!Object(N.isEmpty)(t)},o.a.createElement(Ut.a,null,l.map((function(e){var t=Object(N.get)(e,d),a=Object(N.get)(e,m);return o.a.createElement(zt.a,{key:a,label:t,control:o.a.createElement(Wt.a,{color:"primary",checked:Object(N.includes)(n,a),disabled:i,onChange:function(e){var t;t=e.target.checked?Object(N.concat)(n,a):Object(N.filter)(n,(function(e){return e!==a})),c(t)}})})}))),!Object(N.isEmpty)(t)&&o.a.createElement(Et.a,{style:vt.errors},Object(N.isArray)(t)?t.join(", "):t))})),Ht=[{label:"Texto curto",key:"TEXT_FIELD"},{label:"Texto longo",key:"TEXT_AREA"},{label:"Sele\xe7\xe3o \xfanica",key:"SELECT"},{label:"M\xfaltipla sele\xe7\xe3o",key:"CHECKBOX"},{label:"Campo de data",key:"DATE_FIELD"},{label:"Anexo",key:"ATTACHMENT"}].slice(0,-2),Yt=["SELECT","CHECKBOX"],Gt={genericUploadsParams:function(){return U.get("/uploads/params")},uploadToApi:function(e){var t=e.file,a=e.progressHandler,n=U.post("/uploads/upload",t.formData,null,{onUploadProgress:function(e){var n=Math.round(100*e.loaded/e.total);a({progressPercent:n<95?n:95,originalFileName:t.name})}}),r=n.then((function(e){var t=e.id,a=e.storage,n=e.metadata;return{id:t,storage:a,metadata:{filename:n.filename,size:n.size,mime_type:n.mime_type},progressPercent:100}}));return r.cancelRequest=n.cancelRequest,r}},Qt=function(e){var t,a,n,r=e.file,o=e.progressHandler,c=e.sizeLimit,i=void 0===c?10:c;if(r.metadata.size>1028*i*1028)return Promise.reject(new Error("Tamanho do arquivo ultrapassou o limite de ".concat(i,"mb")));var l=new Promise((function(e,n){t=e,a=n}));l.cancelUpload=function(){l.wasCanceled=!0,n.cancelRequest(),a(new Error("Upload cancelado"))};var s=function(e){l.wasCanceled||o(Object(f.a)(Object(f.a)(Object(f.a)({},r),e),{},{cancelUpload:l.cancelUpload,wasCanceled:l.wasCanceled}))};return s({progressPercent:0}),(n=(0,Gt.uploadToApi)({file:r,progressHandler:s})).then(t).catch(a),l},Jt=a(932),Xt=Object(r.memo)((function(e){var t=e.accept,a=e.onChange,n=e.buttonProps,r=e.disabled,c=e.size,i=null;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,Object.assign({color:"primary",variant:"outlined",size:c,onClick:function(){return i&&i.click()},startIcon:o.a.createElement(Jt.a,null),disabled:r},n),"Anexar"),o.a.createElement("input",{type:"file",accept:t,style:{display:"none"},ref:function(e){i=e},onChange:function(e){return function(e){var t=Object(N.map)(e,(function(e){var t=function(e){return{metadata:{size:e.size,filename:e.name,mime_type:e.type},originalFileObj:e}}(e),a=new FileReader,n=new FormData;return n.append("file",e),new Promise((function(r){a.onload=function(e){r(Object(N.merge)(t,{url:e.target.result,data:e.target.result,base64Data:e.target.result,formData:n}))},a.readAsDataURL(e)}))}));return Promise.all(t)}(e.target.files).then((function(e){return a(e[0])}))}}))})),Kt=a(914),Zt=a(933),$t=Object(r.memo)((function(e){var t=e.file,a=e.onRemoveFile,n=e.outterContainerClassName,r=e.disabled,c=e.classes,i=e.size,l=Object(N.get)(t,"progressPercent")<100;return o.a.createElement("div",{className:"".concat(c.outterContainer," ").concat(n)},o.a.createElement(ue.a,{variant:"outlined",size:i,onClick:function(){return t.url&&window.open(t.url,"_blank")},disabled:r||l},o.a.createElement("div",null,o.a.createElement("div",{className:c.innerButtonContainer},o.a.createElement(Jt.a,null),o.a.createElement("div",null,o.a.createElement("span",{className:c.filename},Object(N.get)(t,"metadata.filename")),o.a.createElement("br",null),o.a.createElement("small",{className:c.sizeText},Math.round(Object(N.get)(t,"metadata.size")/1e3),"KB"))),l&&o.a.createElement(Kt.a,{className:c.progressBar,variant:"determinate",value:t.progressPercent}))),!r&&a&&o.a.createElement(Zt.a,{onClick:function(){return a(t)},className:c.cancelButton}))})),ea=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{outterContainer:{display:"inline-block",position:"relative"},innerButtonContainer:{display:"flex",textAlign:"left",lineHeight:1},filename:{fontSize:"calc(".concat(e.typography.button.fontSize," * 0.8)")},sizeText:{fontSize:"calc(".concat(e.typography.button.fontSize," * 0.6)")},progressBar:{position:"absolute",left:0,bottom:0,width:"100%"},cancelButton:{position:"absolute",top:-12,right:-12,cursor:"pointer"}})}))($t),ta=Object(Z.b)(r.memo,Object(Z.e)({onFileChange:function(e){var t=e.onChange,a=e.sizeLimit,n=e.onUploadProgress,r=e.onUploadSuccess,o=e.onUploadError;return function(e){Qt({file:e,sizeLimit:a,progressHandler:function(a){var r=a.progressPercent,o=a.cancelUpload;if(!(r>=100)){var c=Object(f.a)(Object(f.a)({},e),{},{cancelUpload:o,progressPercent:r});t(c),n&&n(c)}}}).then((function(a){var n=Object(f.a)(Object(f.a)({},e),a);t(n),r&&r(n)})).catch((function(e){t(null),o&&o(e)}))}}}))((function(e){var t=e.value,a=e.onChange,n=e.disabled,r=e.onFileChange,c=e.size,i=e.accept,l=void 0===i?"image/*,.doc,.docx,.xls,.xlsx,.pdf,.xml":i,s=e.buttonProps;return t&&(t.progressPercent||t.id)?o.a.createElement(ea,{file:t,size:c,onRemoveFile:function(e){e.cancelUpload&&e.progressPercent<100?e.cancelUpload():a(null)},disabled:n}):o.a.createElement(Xt,{accept:l,size:c,onChange:r,disabled:n,buttonProps:s})})),aa=Object(r.memo)((function(e){var t=e.errors,a=e.value,n=void 0===a?[]:a,r=e.onChangeValue,c=void 0===r?function(){}:r,i=e.disabled,l=Object(ft.a)(e,["errors","value","onChangeValue","disabled"]);return o.a.createElement(ht.a,{margin:"normal",error:!Object(N.isEmpty)(t)},o.a.createElement(ta,Object.assign({value:n,onChange:c,disabled:i},l)),!Object(N.isEmpty)(t)&&o.a.createElement(Et.a,{style:vt.errors},Object(N.isArray)(t)?t.join(", "):t))})),na=["TEXT_FIELD","TEXT_AREA","SELECT","CHECKBOX","ATTACHMENT","DATE_FIELD"],ra={buildTextField:function(e){var t=Object.assign({},e);return o.a.createElement(Ot,t)},buildDateField:function(e){var t=e.value,a=Object(ft.a)(e,["value"]);return o.a.createElement(qt,Object.assign({disablePast:!0,value:Object(N.isEmpty)(t)?null:t},a))},buildTextArea:function(e){var t=Object.assign({},e);return o.a.createElement(Ot,Object.assign({multiline:!0,rows:4,rowsMax:4},t))},buildSelect:function(e){var t=e.options,a=Object(ft.a)(e,["options"]);return o.a.createElement(Lt,Object.assign({options:t},a))},buildCheckbox:function(e){var t=Object.assign({},e);return o.a.createElement(Vt,t)},buildAttachment:function(e){var t=Object.assign({},e);return o.a.createElement(aa,t)}};ra.buildSelect.propTypes={options:ne.a.array},ra.buildDateField.propTypes={value:ne.a.any};var oa={emptyOptionLabel:["Select"],uploadFileFunc:["Attachment"]},ca=function(e){var t=e.fieldType,a=Object(ft.a)(e,["fieldType"]);if(!na.includes(t))throw new Error("Invalid field type: ".concat(t));var n=Object(N.upperFirst)(Object(N.camelCase)(t)),r=function(e,t){return Object(N.omitBy)(t,(function(t,a){return oa[a]&&!oa[a].includes(e)}))}(n,a);return ra["build".concat(n)](r)};ca.propTypes={fieldType:ne.a.oneOf(na)};var ia=ca,la=function(e,t){var a=t.name,n=void 0===a?null:a,c=t.init,i=void 0===c||c,l=t.options,s=void 0===l?function(){return{}}:l,h=t.props,E=void 0===h?function(){return{}}:h;return function(t){return function(a){Object(p.a)(c,a);var r=Object(g.a)(c);function c(){var t;Object(d.a)(this,c);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=r.call.apply(r,[this].concat(o))).state={loading:!0,reloadedMsg:"",error:null,data:null},t.loadingProperty=n?"".concat(n,"Loading"):"loading",t.reloadedMsgProperty=n?"".concat(n,"ReloadedMsg"):"reloadedMsg",t.errorProperty=n?"".concat(n,"Error"):"error",t.dataProperty=n?"".concat(n,"Data"):"data",t.clearProperty=n?"".concat(n,"Clear"):"clear",t.fetchProperty=n?"".concat(n,"Fetch"):"fetch",t.resolveOptions=function(){var e=Object(u.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.props);case 2:return n=e.sent,e.abrupt("return",Object(f.a)(Object(f.a)({},n),a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.loadDataSource=function(){var a=Object(u.a)(m.a.mark((function a(n,r){var o,c,i,l,s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.resolveOptions(r);case 2:return o=a.sent,c=v()(o,"variables"),i=v()(o,"onRequestFinished"),l=v()(o,"onRequestError"),s=null,a.prev=7,a.next=10,e(c);case 10:if(s=a.sent,!i){a.next=14;break}return a.next=14,i(s);case 14:a.next=35;break;case 16:if(a.prev=16,a.t0=a.catch(7),K.capture(a.t0,{errorPointRef:"src/utils/with-request.js - loadDataSource"}),!I.isUnauthorized(a.t0)){a.next=22;break}return I.clear(),a.abrupt("return",window.location.reload());case 22:if(!l){a.next=34;break}return a.prev=23,a.next=26,l(a.t0);case 26:return a.abrupt("return",n(null,null));case 29:return a.prev=29,a.t1=a.catch(23),a.abrupt("return",n(a.t1,null));case 32:a.next=35;break;case 34:return a.abrupt("return",n(a.t0,null));case 35:return a.abrupt("return",n(null,s));case 36:case"end":return a.stop()}}),a,null,[[7,16],[23,29]])})));return function(e,t){return a.apply(this,arguments)}}(),t.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(o,c){t.setState({loading:e},(function(){t.loadDataSource((function(e,r){t.setState({data:r,error:e,loading:!1,reloadedMsg:a},(function(){return e?c(e):o(r),n&&n()}))}),r)}))}))},t.clear=function(e){return t.setState({data:null,error:null,loading:!1},e)},t}return Object(b.a)(c,[{key:"componentDidMount",value:function(){i?this.fetch(!0):this.setState({loading:!1,data:{}})}},{key:"render",value:function(){var e,a=(e={},Object(re.a)(e,this.errorProperty,this.state.error),Object(re.a)(e,this.dataProperty,this.state.data),Object(re.a)(e,this.loadingProperty,this.state.loading),Object(re.a)(e,this.reloadedMsgProperty,this.state.reloadedMsg),Object(re.a)(e,this.fetchProperty,this.fetch),Object(re.a)(e,this.clearProperty,this.clear),e),n=Object(f.a)(Object(f.a)(Object(f.a)({},this.props),a),E(Object(f.a)(Object(f.a)({},a),{},{ownProps:this.props})));return o.a.createElement(t,n)}}]),c}(r.PureComponent)}},sa=Object(r.memo)((function(e){var t=e.formData,n=e.setAlert,r=e.alert,c=e.errors,i=e.setFormData,s=e.submitFormDataFetch,m=e.submitFormDataLoading,u=function(e){return i(Object(f.a)(Object(f.a)({},t),e))},d=function(){return s(!0)},b=t.memberName,p=t.memberLastname,g=t.memberEmail,h=t.memberPhone,E=t.companyName,v=t.memberPassword,O=r.showAlert,j=r.alertMsg,C=r.alertType,y=Object(N.includes)(Object(N.values)(t),"")||m;return o.a.createElement("div",{style:gt.container},O&&o.a.createElement(ct,{message:j,type:C,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1})}}),o.a.createElement(me.a,{container:!0,spacing:2},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement("div",{style:gt.contentLeft},o.a.createElement("div",{style:gt.form},o.a.createElement(ge.a,{component:"h1",variant:"h4"},"Acesse todos servi\xe7os que precisar para seu ambiente de trabalho"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ge.a,{component:"h1",variant:"h6",style:gt.checkItem},o.a.createElement(bt.a,{style:gt.checkIcon}),"Atendimento dedicado"),o.a.createElement(ge.a,{component:"h1",variant:"h6",style:gt.checkItem},o.a.createElement(bt.a,{style:gt.checkIcon}),"Fornecedores qualificados"),o.a.createElement(ge.a,{component:"h1",variant:"h6",style:gt.checkItem},o.a.createElement(bt.a,{style:gt.checkIcon}),"Ferramentas para facilitar a gest\xe3o"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ge.a,{component:"h1",variant:"h6"},o.a.createElement("strong",null,"\u201cMe surpreendeu de mais o servi\xe7o, super sol\xedcitos com tudo.\u201d - Mariana, BossaBox"))))),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement("div",{style:gt.contentRight},o.a.createElement("form",{onSubmit:d,style:gt.form},o.a.createElement("img",{src:a(443),width:175,alt:P.appName,style:gt.logo}),o.a.createElement(ge.a,{component:"h1",variant:"h5",style:gt.title},"Crie sua conta gr\xe1tis"),o.a.createElement(me.a,{container:!0,spacing:2},o.a.createElement(me.a,{item:!0,xs:12,md:6,style:gt.gridItem},o.a.createElement(Ot,{label:"Seu nome*",disabled:m,errors:Object(N.get)(c,"member_name"),value:b,onChange:function(e){return u({memberName:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,md:6,style:gt.gridItem},o.a.createElement(Ot,{label:"Sobrenome*",disabled:m,errors:Object(N.get)(c,"member_lastname"),value:p,onChange:function(e){return u({memberLastname:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,style:gt.gridItem},o.a.createElement(Ot,{label:"Email do trabalho*",disabled:m,errors:Object(N.get)(c,"member_email"),value:g,onChange:function(e){return u({memberEmail:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,style:gt.gridItem},o.a.createElement(Ot,{label:"Telefone com DDD*",placeholder:"Somente n\xfameros, ex: 11988884444",type:"tel",disabled:m,errors:Object(N.get)(c,"member_phone"),value:h,onChange:function(e){var t=(e.target.value||"").replace(/[\D]+/g,"").slice(0,15);u({memberPhone:t})}})),o.a.createElement(me.a,{item:!0,xs:12,style:gt.gridItem},o.a.createElement(Ot,{label:"Nome da empresa*",disabled:m,errors:Object(N.get)(c,"company_name"),value:E,onChange:function(e){return u({companyName:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,style:gt.gridItem},o.a.createElement(Ot,{label:"Definir senha*",placeholder:"Informe 6 ou mais d\xedgitos",style:gt.textFieldMarginBottom,errors:Object(N.get)(c,"member_password"),disabled:m,value:v,type:"password",onChange:function(e){return u({memberPassword:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ue.a,{disabled:y,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:gt.button,onClick:d},m?o.a.createElement(se.a,{color:"primary",variant:"indeterminate",disableShrink:!0,thickness:5}):"CRIAR CONTA")))),o.a.createElement("span",null,"J\xe1 possui conta? ",o.a.createElement(l.b,{to:"/"},"Fazer login")),o.a.createElement(it,null)))))})),ma=la(Ge.postSignup,{name:"submitFormData",init:!1,options:function(e){var t=e.formData,a=e.setAlert,n=e.history,r=e.setErrors;return{variables:Object(f.a)({},t),onRequestFinished:function(){var e=Object(u.a)(m.a.mark((function e(){var r,o,c,i,l,s,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.memberEmail,o=t.memberPassword,c=t.memberName,i=t.memberLastname,l={email:r,name:c,lastname:i},G.hit("Signup - SubmitSuccess",l),a({alertMsg:"Conta criada com sucesso, bem-vindo a Lobby!",alertType:"success",showAlert:!0}),e.next=6,Ge.postSignin(r,o);case 6:return s=e.sent,u=s.token,e.next=10,I.setUserToken(u);case 10:return e.next=12,z.getViewer();case 12:d=e.sent,I.setUserData(Object(N.get)(d,"member")),setTimeout((function(){return n.push("/servicos")}),100);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){var n=t.memberEmail,o=t.memberName,c=t.memberLastname,i=Object(N.mapValues)(Object(N.get)(e,"errors",{}),(function(e){return Object(N.first)(e)})),l={email:n,name:o,lastname:c,errors:i};G.hit("Signup - SubmitError",l),r(i),a({alertMsg:"Erro ao realizar cadastro",alertType:"error",showAlert:!0})}}}}),ua=Object(Z.b)(r.memo,h.g,Object(Z.h)("formData","setFormData",{memberName:"",memberLastname:"",memberEmail:"",memberPhone:"",memberPassword:"",companyName:""}),Object(Z.h)("errors","setErrors",{}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),ma)(sa),da=a(48),ba=a.n(da),pa={verifyIfCanResetPassword:function(e,t){var a={id:e,code:t};return U.post("/password/verify",a)},changePassword:function(e,t,a){var n={id:e,code:t,password:a};return U.put("/password/change",n)},resetPassword:function(e){var t={email:e};return U.post("/password/reset",t)}},ga={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},content:{display:"flex",flexDirection:"column",width:350,marginTop:40,alignItems:"center",justifyContent:"center",textAlign:"center",paddingLeft:5,paddingRight:5},form:{width:"100%",marginTop:5},button:{marginTop:15,height:60},logo:{marginBottom:30}},fa=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={memberId:"",recoveryCode:"",password:"",confirmPassword:"",msg:"",msgType:"",hideForm:!0,loading:!0,submit:!1,email:""},e.onSubmit=function(t){t.preventDefault();var a=e.props.history,n=e.state,r=n.confirmPassword,o=n.password,c=n.memberId,i=n.recoveryCode;e.setState({submit:!0},Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!r||!o||r!==o){t.next=9;break}if(!(ba()(o)>=6)){t.next=7;break}return t.next=5,pa.changePassword(c,i,o);case 5:return e.setState({msg:"Senha atualizada, redirecionando para tela de login...",msgType:"success",memberId:"",recoveryCode:"",confirmPassword:"",password:""},(function(){I.clear(),setTimeout((function(){a.replace("/")}),2e3)})),t.abrupt("return",!0);case 7:return e.sendAlert("Informe uma senha com m\xednimo de ".concat(6," caracteres."),"warning"),t.abrupt("return",!0);case 9:e.sendAlert("As senhas est\xe3o em branco ou diferentes.","warning"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.sendAlert("N\xe3o foi poss\xedvel alterar senha.","warning");case 15:return t.abrupt("return",!0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])}))))},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.history,n=t.location;this.setState({submit:!0,loading:!0,memberId:"",recoveryCode:""},Object(u.a)(m.a.mark((function t(){var r,o,c,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=new URLSearchParams(n.search),o=r.get("id"),c=r.get("code"),i=r.get("email"),!o||!c){t.next=10;break}return t.next=8,pa.verifyIfCanResetPassword(o,c);case 8:return e.setState({submit:!1,loading:!1,hideForm:!1,memberId:o,recoveryCode:c,email:i}),t.abrupt("return",!0);case 10:throw new Error("Invalid URL query");case 13:t.prev=13,t.t0=t.catch(0),a.replace("/recuperar-senha");case 16:return t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])}))))}},{key:"sendAlert",value:function(e,t){this.setState({submit:!1,msg:e,msgType:t})}},{key:"clearAlert",value:function(){this.setState({submit:!1,msg:"",msgType:""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.confirmPassword,c=t.password,i=t.submit,s=t.loading,m=t.hideForm,u=t.msg,d=t.msgType;return o.a.createElement("div",{style:ga.container},o.a.createElement("div",{style:ga.content},u&&d&&o.a.createElement(ct,{message:u,type:d,onClose:function(){return e.clearAlert}}),s?o.a.createElement(pe,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:a(221),width:150,alt:P.appName,style:ga.logo}),o.a.createElement(ge.a,{component:"h1",variant:"h5"},m?"Link inv\xe1lido para definir senha":"Definir senha"),o.a.createElement(He.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Email",disabled:!0,value:n,InputLabelProps:{shrink:!0}}),!m&&o.a.createElement("form",{onSubmit:this.onSubmit,style:ga.form},o.a.createElement(He.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Senha",type:"password",disabled:i,value:c,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({password:t.target.value})}}),o.a.createElement(He.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Confirmar senha",type:"password",disabled:i,value:r,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({confirmPassword:t.target.value})}}),o.a.createElement(ue.a,{disabled:i,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:ga.button,type:"submit"},i?"Carregando...":"Entrar"))),o.a.createElement("p",null,o.a.createElement(l.b,{to:"/"},"Voltar para home")),o.a.createElement(it,null)))}}]),n}(r.PureComponent),ha={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},content:{display:"flex",flexDirection:"column",width:350,marginTop:40,alignItems:"center",justifyContent:"center",textAlign:"center",paddingLeft:5,paddingRight:5},form:{width:"100%",marginTop:5},button:{marginTop:15,height:60},logo:{marginBottom:30}},Ea=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",msg:"",msgType:"",submit:!1},e.onSubmit=function(t){t.preventDefault();var a=e.state.email;e.setState({submit:!0},Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!a){t.next=6;break}return t.next=4,pa.resetPassword(a);case 4:return e.setState({submit:!1,email:"",msgType:"success",msg:"Enviamos para seu email um link de recupera\xe7\xe3o de senha."}),t.abrupt("return",!0);case 6:throw new Error("Blank fields");case 9:return t.prev=9,t.t0=t.catch(0),e.setState({submit:!1,msg:"Email inv\xe1lido ou inexistente.",msgType:"warning"}),t.abrupt("return",!0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))))},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.submit,c=t.msg,i=t.msgType;return o.a.createElement("div",{style:ha.container},o.a.createElement("div",{style:ha.content},c&&o.a.createElement(ct,{message:c,type:i,onClose:function(){return e.setState({msg:"",msgType:""})}}),o.a.createElement("img",{src:a(221),width:150,alt:P.appName,style:ha.logo}),o.a.createElement(ge.a,{component:"h1",variant:"h5"},"Informe o seu email e receba instru\xe7\xf5es para criar nova senha"),o.a.createElement("form",{onSubmit:this.onSubmit,style:ha.form},o.a.createElement(He.a,{variant:"outlined",margin:"normal",fullWidth:!0,placeholder:"Seu email de acesso",label:"Email",type:"email",disabled:r,value:n,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({email:t.target.value.toLowerCase()})}}),o.a.createElement(ue.a,{disabled:r,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:ha.button,type:"submit"},r?"Carregando...":"Enviar")),o.a.createElement("p",null,o.a.createElement(l.b,{to:"/"},"Voltar para home")),o.a.createElement(it,null)))}}]),n}(r.PureComponent),va=a(520),Oa=a.n(va),ja=a(185),Ca=a.n(ja),ya=a(521),ka=a.n(ya),Aa=a(922),wa=a(925),Ta=a(927),xa=a(924),Sa=a(552),Na=a(923),Da=a(28),Ma=a(875),Fa=a(929),Ia=a(943),Ra=a(149),La=a.n(Ra),Ba=a(437),Pa=a(145),_a=a(440),qa=a(142),Ua=a(439),za=a(438),Wa={width:32,height:32,minWidth:32,minHeight:32},Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"a",t={a:"gold",b:"gold",c:"gold",d:"purple",e:"purple",f:"purple",g:"black",h:"black",i:"black",j:"blue",k:"blue",l:"blue",m:"green",n:"green",o:"green",p:"brown",q:"brown",r:"brown",s:"pink",t:"pink",u:"pink",v:"red",w:"red",y:"red",x:"lime",z:"lime"};return t[e.toLowerCase()]},Ha=Object(r.memo)((function(e){var t=e.classes,a=e.name,n=e.photoUrl,r=La()(a)||"";return o.a.createElement(Fa.a,{title:a,arrow:!0,placement:"bottom"},o.a.createElement(Ia.a,{alt:a,src:n,className:t[Va(r)]},r.toUpperCase()))})),Ya=Object($.a)((function(e){return{black:Object(f.a)({color:"white",backgroundColor:"black"},Wa),purple:Object(f.a)({color:e.palette.getContrastText(Ba.a[500]),backgroundColor:Ba.a[500]},Wa),red:Object(f.a)({color:"white",backgroundColor:ve.a[300]},Wa),green:Object(f.a)({color:e.palette.getContrastText(at.a[800]),backgroundColor:at.a[800]},Wa),blue:Object(f.a)({color:e.palette.getContrastText(Pa.a[800]),backgroundColor:Pa.a[800]},Wa),brown:Object(f.a)({color:e.palette.getContrastText(_a.a[500]),backgroundColor:_a.a[500]},Wa),pink:Object(f.a)({color:e.palette.getContrastText(qa.a[500]),backgroundColor:qa.a[500]},Wa),gold:Object(f.a)({color:"white",backgroundColor:Ua.a[900]},Wa),lime:Object(f.a)({color:"white",backgroundColor:za.a[800]},Wa)}}),{withTheme:!0})(Ha),Ga=function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{slackBox:{paddingTop:60,paddingBottom:50},slackIntegration:{marginLeft:25},floatButton:{marginBottom:5,marginLeft:10},tableCheckBox:{width:10,paddingTop:20,paddingBottom:0,margin:0,border:0,paddingLeft:0},tableUser:{paddingTop:20,paddingBottom:10,marginLeft:0,paddingLeft:0},tableInvite:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",padding:0,paddingTop:20,paddingBottom:0,margin:0,border:0},selectFilter:{width:180,minWidth:80},formControl:{margin:10},profileMenuContainer:{display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%"},userName:{marginLeft:15}})},Qa=Object(r.memo)((function(e){var t=e.users,a=e.classes,n=e.onRevoke,r=e.isRevokeDisabled,c=e.locations,i=e.companyName,l=e.checkedAll,s=e.setCheckedAll,m=e.selectedLocations,u=e.setSelectedLocations,d=e.canDisconnect,b=e.selectedRole,p=e.setSelectedRole,g=e.isInviteDisabled,f=e.onShowMore,h=e.setDisableShowMore,E=e.selectedUsers,O=e.setSelectedUsers,j=e.onInvite,C=e.nextCursor,y=e.disableShowMore,k=function(e){var t=e.target,a=t.checked,n=t.value;O(a?E.concat(n):E.filter((function(e){return e!==n})))},A=Object(Da.a)(),w=Object(Ma.a)(A.breakpoints.down("xs")),T=ba()(b)&&ba()(m)&&ba()(E),x=g||!T;return o.a.createElement("section",null,o.a.createElement("div",{className:a.container},o.a.createElement("div",{className:a.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Slack conectado: ".concat(i)))),o.a.createElement("aside",null,d&&o.a.createElement(ue.a,{onClick:n,color:"default",variant:"outlined",className:a.floatButton,disabled:r},"Desconectar Slack")))),o.a.createElement("div",{className:a.container},o.a.createElement(Aa.a,{size:w?"small":"medium"},o.a.createElement(wa.a,null,o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:a.tableCheckBox},o.a.createElement(Wt.a,{checked:l,onChange:function(e){var a=e.target.checked;s(a),O(a?t.map((function(e){return JSON.stringify(e)})):[])},disabled:g,color:"primary"})),o.a.createElement(xa.a,{className:a.tableUser},!w&&o.a.createElement("b",null,"USU\xc1RIOS (".concat(ba()(E),")"))),o.a.createElement(xa.a,{className:a.tableInvite,colSpan:w?2:1},o.a.createElement(ht.a,{className:a.formControl},o.a.createElement(It.a,{displayEmpty:!0,className:a.selectFilter,input:o.a.createElement(Sa.a,null),value:b,onChange:function(e){p(e.target.value)},disabled:g,variant:"outlined"},o.a.createElement(Rt.a,{value:"",disabled:!0},"Permiss\xe3o"),Qe.map((function(e){return o.a.createElement(Rt.a,{key:e.value,value:e.value},e.label)})))),o.a.createElement(ht.a,{className:a.formControl},o.a.createElement(It.a,{multiple:!0,displayEmpty:!0,className:a.selectFilter,input:o.a.createElement(Sa.a,null),value:m,onChange:function(e){u(e.target.value)},disabled:g,variant:"outlined",renderValue:function(e){var t=ba()(e);return t?"".concat(t," ").concat(t>1?"locais":"local"):"Local"}},c.map((function(e){return o.a.createElement(Rt.a,{key:e.id,value:e.id},e.name)})))),o.a.createElement(ht.a,{className:a.formControl},o.a.createElement(ue.a,{color:"primary",size:"medium",variant:"contained",className:a.floatButton,disabled:x,onClick:function(){try{var e={role:b,locationIds:m,slackUsers:E.map((function(e){return JSON.parse(e)}))};j(e)}catch(t){O([]),u([]),p("")}}},"Convidar"))))),ba()(t)?o.a.createElement(Na.a,null,t.map((function(e){var t=JSON.stringify(e);return o.a.createElement(Ta.a,{key:e.email},o.a.createElement(xa.a,{className:a.tableCheckBox},o.a.createElement(Wt.a,{checked:E.includes(t),onChange:k,disabled:g,value:t,color:"primary"})),o.a.createElement(xa.a,{colSpan:2,className:a.tableUser},o.a.createElement("div",{className:a.profileMenuContainer},o.a.createElement(Ya,{name:v()(e,"name"),photoUrl:v()(e,"photo_url","")}),o.a.createElement("span",{className:a.userName},o.a.createElement("b",null,v()(e,"name")),o.a.createElement("br",null),o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},v()(e,"email"))))))})),C?o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{colSpan:3,className:a.textCenter},o.a.createElement(ue.a,{color:"primary",size:"medium",variant:"contained",disabled:y,onClick:function(){h(!0),f()}},"Ver mais usu\xe1rios"))):null):null)))})),Ja=Object(Z.b)(Object($.a)(Ga,{withTheme:!0}),Object(Z.h)("checkedAll","setCheckedAll",!0),Object(Z.h)("selectedLocations","setSelectedLocations",[]),Object(Z.h)("selectedUsers","setSelectedUsers",[]),Object(Z.h)("selectedRole","setSelectedRole",""),Object(Z.h)("disableShowMore","setDisableShowMore",!1),Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.users;(0,e.setSelectedUsers)(t.map((function(e){return JSON.stringify(e)})))}}),Object(Z.g)(["users"],(function(e){var t=e.users,a=e.setDisableShowMore,n=e.setCheckedAll,r=e.setSelectedUsers;a(!1),n(!0),r(t.map((function(e){return JSON.stringify(e)})))})))(Qa),Xa=a(155),Ka=Object(r.memo)((function(e){var t=e.classes,n=e.onInstallLobby,r=e.onAuthUser,c=e.onRevoke,i=e.isDisabled,l=I.getUserData(),s=v()(l,"slack_user_id"),m=v()(l,"company.slack_team_id");return o.a.createElement("div",{className:t.container},o.a.createElement(Xa.a,{className:t.paper},o.a.createElement("section",{className:t.slackBox},o.a.createElement("div",{className:t.textCenter},o.a.createElement("img",{src:a(709),alt:"Integra\xe7\xe3o Lobby com Slack",className:t.slackIntegration}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ge.a,{variant:"h6",component:"strong"},o.a.createElement("b",null,"Crie tickets atrav\xe9s do Slack")),o.a.createElement("br",null),o.a.createElement(ge.a,{variant:"body2",color:"textSecondary"},o.a.createElement("b",null,"Leva menos de um minuto"))),o.a.createElement("br",null),o.a.createElement("div",{className:t.textCenter},o.a.createElement(ge.a,{variant:"subtitle2"},"Colaboradores poder\xe3o criar tickets",o.a.createElement("br",null),"via atalho Lobby ou comando",o.a.createElement("b",null," /lobby "),"no Slack"),o.a.createElement("br",null),m?s?o.a.createElement(ue.a,{onClick:c,size:"large",color:"default",variant:"outlined",disabled:i},"Desconectar Slack"):o.a.createElement(ue.a,{onClick:r,size:"large",color:"primary",variant:"contained",disabled:i},"Integrar Slack"):o.a.createElement(ue.a,{onClick:n,size:"large",color:"primary",variant:"contained",disabled:i},"Instalar Lobby no Slack")))))})),Za=Object(Z.b)(Object($.a)(Ga,{withTheme:!0}))(Ka),$a=a(522),en=a.n($a),tn=a(83),an=a(869),nn=a(941),rn=a(517),on=a(528),cn=a.n(on),ln=a(527),sn=a.n(ln),mn=a(523),un=a.n(mn),dn=a(876),bn=a(918),pn=a(915),gn=a(917),fn=a(524),hn=a.n(fn),En=a(525),vn=a.n(En),On=a(526),jn=a.n(On),Cn=a(901),yn=Object.values(Ve).filter((function(e){return!e.hideMenu&&!e.settingsMenu})),kn=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={userDataError:!1,sideMenuOpen:!1,profileMenuAnchor:null,showHelp:!1},e.onOpenHelp=function(){e.setState({profileMenuAnchor:null},(function(){return window.open(P.whatsappHelp,"_blank")}))},e.onLogout=function(){e.setState({profileMenuAnchor:null},(function(){if(window.confirm("Voc\xea deseja sair?")){var t=e.props.history;G.hit("Logout"),I.clear(),t.push("/")}}))},e.onSettings=function(){var t=I.getUserData(),a="ADMIN"===v()(t,"role","MEMBER");e.setState({profileMenuAnchor:null},(function(){var t=e.props.history;G.hit("Settings"),t.push("/configuracoes/".concat(a?"usuarios":"meu-perfil"))}))},e.onToggleSideMenu=function(){var t=e.state.sideMenuOpen;e.setState({sideMenuOpen:!t})},e.onChangePage=function(t,a){e.props.history.push(yn[a].path)},e.onToggleProfileMenu=function(t){return e.setState({profileMenuAnchor:t.currentTarget})},e.prepareUser=function(){var e=I.getUserData();return{name:v()(e,"fullname",""),email:v()(e,"email","")}},e.prepareMenu=function(e){var t=I.getUserData(),a="MEMBER"===v()(t,"role","MEMBER"),n=v()(t,"company.has_ticket_support",!1),r=v()(t,"company.marketplace_for_members",!1);return e.filter((function(e){return!(!n&&e.path.includes("/tickets"))&&!(!r&&a&&(e.path.includes("/servicos")||e.path.includes("/meus-pedidos")))}))},e.renderAlerts=function(){var t=e.props,a=t.alertBox,n=t.error,r=e.state.userDataError;return a||(n||r?o.a.createElement(ct,{type:"error",message:"Erro ao carregar dados do servidor",actionButton:o.a.createElement("b",null,"Recarregar"),onClickAction:function(){return window.location.reload()}}):null)},e}return Object(b.a)(n,[{key:"renderSideMenuList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.props,n=a.classes,r=a.history,c=this.prepareMenu(e);return ba()(c)?o.a.createElement(an.a,{component:"nav",subheader:o.a.createElement(bn.a,{component:"div"},o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},o.a.createElement("strong",{className:n.listItemHeaderText},t)))},c.map((function(e,t){var a=Object.values(e.submenus||{}),c=Boolean(ba()(a)),i={};return c||(i={component:l.b,to:e.path.replace(/:[\w*]+/g,""),selected:r.location.pathname.includes(e.path)||e.path.includes(r.location.pathname)}),o.a.createElement("div",{key:t.toString()},o.a.createElement(dn.a,Object.assign({button:!c,key:e.path},i),e.icon&&o.a.createElement(pn.a,{className:n.listItemIcon},e.icon),o.a.createElement(gn.a,{className:n.listItemText,disableTypography:!0,primary:o.a.createElement(Cn.a,{badgeContent:e.badge,color:"primary",invisible:!e.badge,classes:{badge:n.badge}},e.label)})),c&&o.a.createElement(an.a,{className:n.submenuList},a.map((function(t){var a="".concat(e.path).concat(t.path);return o.a.createElement(dn.a,{button:!0,className:n.submenuItem,key:a,component:l.b,to:a.replace(/:[\w*]+/g,""),selected:a===r.location.pathname},t.icon&&o.a.createElement(pn.a,{className:n.listItemIcon},t.icon),o.a.createElement(gn.a,{className:n.listItemText,disableTypography:!0,primary:t.label}))}))))}))):null}},{key:"renderUserProfile",value:function(){var e=this,t=this.props.classes,a=this.state.profileMenuAnchor,n=I.getUserData(),r=v()(n,"fullname",""),c=v()(n,"photo_url","");return o.a.createElement(an.a,{component:"nav",className:t.userProfileList},o.a.createElement(dn.a,{alignItems:"flex-start"},o.a.createElement("div",{className:t.profileMenuContainer},o.a.createElement(Ya,{name:r,photoUrl:c}),o.a.createElement("span",{className:t.userName,onClick:this.onToggleProfileMenu},r),o.a.createElement(tt.a,{size:"medium",onClick:this.onToggleProfileMenu},o.a.createElement(un.a,null)),o.a.createElement(rn.a,{keepMounted:!0,anchorEl:a,open:Boolean(a),onClose:function(){return e.setState({profileMenuAnchor:null})},transformOrigin:{vertical:"bottom",horizontal:"right"}},o.a.createElement(Rt.a,{onClick:this.onSettings},o.a.createElement(pn.a,null,o.a.createElement(hn.a,{fontSize:"small"})),o.a.createElement(gn.a,{className:t.listItemText,primary:"Configura\xe7\xf5es"})),o.a.createElement(Rt.a,{onClick:this.onOpenHelp},o.a.createElement(pn.a,null,o.a.createElement(vn.a,{fontSize:"small"})),o.a.createElement(gn.a,{className:t.listItemText,primary:"Ajuda"})),o.a.createElement(Rt.a,{onClick:this.onLogout},o.a.createElement(pn.a,null,o.a.createElement(jn.a,{fontSize:"small"})),o.a.createElement(gn.a,{className:t.listItemText,primary:"Sair"}))))))}},{key:"renderSideMenu",value:function(e){var t=this.props.classes,n=this.state.sideMenuOpen;return o.a.createElement(tn.a,{classes:{paper:t.drawer},variant:e?"persistent":"permanent",anchor:"left",open:n,ModalProps:{keepMounted:!e}},o.a.createElement("div",{className:t.headerLogoContainer},e&&o.a.createElement("div",{className:t.closeMenuIcon},o.a.createElement(tt.a,{size:"medium",onClick:this.onToggleSideMenu},o.a.createElement(sn.a,null))),o.a.createElement("div",{className:t.logoContainer},o.a.createElement(l.b,{to:"/"},o.a.createElement("img",{src:a(443),alt:P.appName,className:t.logo})))),this.renderSideMenuList(yn),this.renderUserProfile())}},{key:"render",value:function(){var e=this.props.classes,t=this.state.showHelp;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:e.root},o.a.createElement(tt.a,{"aria-label":"open drawer",onClick:this.onToggleSideMenu,edge:"start"},o.a.createElement(cn.a,null)),o.a.createElement(nn.a,{smDown:!0},this.renderSideMenu(!1)),o.a.createElement(nn.a,{mdUp:!0},this.renderSideMenu(!0)),this.renderAlerts(),P.isProduction&&t&&o.a.createElement(en.a,{license:P.livechatId,visitor:this.prepareUser()})))}}]),n}(r.PureComponent),An=Object(Z.b)(Object($.a)((function(e){var t;return{root:Object(re.a)({marginBottom:0},e.breakpoints.up("md"),{marginBottom:"-27px"}),drawer:(t={},Object(re.a)(t,e.breakpoints.up("md"),{width:e.menuWidth,flexShrink:0}),Object(re.a)(t,"border","none"),Object(re.a)(t,"background","#FAFAFA"),Object(re.a)(t,"color","#313131"),t),appBar:{backgroundColor:"#FAFAFA",width:"calc(100%-".concat(e.menuWidth,"px)"),borderBottom:"1px solid rgba(0, 0, 0, 0.12)",boxShadow:"none"},userProfileList:{position:"absolute",bottom:5,left:0},profileMenuContainer:{display:"flex",alignItems:"center",width:"100%"},userName:{color:"#313131",fontSize:14,cursor:"pointer",marginLeft:10},towerSelect:{width:200,color:"#313131",borderColor:"#FAFAFA",backgroundColor:"#FAFAFA",marginTop:10},logoutButton:{color:"red",fontSize:16,fontWeight:"bold",textTransform:"none"},headerLogoContainer:{width:"100%",display:"flex",paddingTop:5,paddingBottom:2,paddingRight:20},logoContainer:Object(re.a)({marginLeft:0,color:"#313131",paddingTop:5},e.breakpoints.up("md"),{paddingTop:9,paddingBottom:4,marginLeft:15}),closeMenuIcon:{display:"inline-block",color:"#313131",marginLeft:0},logo:{width:105,height:39},checkIcon:{marginRight:10},listItemIcon:{color:"#313131",fontSize:12,width:16,height:16},listItemText:{marginLeft:-25,fontSize:12,color:"#313131"},listItemLink:{fontSize:12,color:"#313131"},listItemHeaderText:{fontSize:12},submenuList:{marginBottom:-8,marginTop:-8},submenuItem:{paddingLeft:75},badge:{right:-25,top:7,fontSize:12,backgroundColor:"#aef7ea",color:"#22007f"}}}),{withTheme:!0}),h.g)(kn),wn=a(250),Tn=a.n(wn),xn=a(938),Sn=a(921),Nn=a(529),Dn=a.n(Nn),Mn=["TicketCategories","TicketTags","Locations","Slack","Notifications"],Fn=["TicketCategories","TicketTags","Locations","Members","Invoices","MyPlan"],In=["TicketCategories","TicketTags","Locations","Members","Invoices","MyPlan","Slack"],Rn=Object(r.memo)((function(e){var t=e.history,a=e.classes,n=function(){var e=Object.values(Ve).filter((function(e){return!e.hideMenu&&e.settingsMenu})),t=I.getUserData(),a="MEMBER"===v()(t,"role","MEMBER"),n="AGENT"===v()(t,"role","MEMBER");return v()(t,"company.has_ticket_support",!1)?a?Tn()(e,(function(e){return Fn.includes(e.trackPage)})):n?Tn()(e,(function(e){return In.includes(e.trackPage)})):e:Tn()(e,(function(e){return Mn.includes(e.trackPage)}))}();return o.a.createElement(Xa.a,{square:!0,className:a.root},o.a.createElement(xn.a,{value:Dn()(n,(function(e){return t.location.pathname===e.path})),indicatorColor:"primary",textColor:"primary",scrollButtons:"auto",variant:"scrollable",onChange:function(e,a){return t.push(n[a].path)}},n.map((function(e,t){return o.a.createElement(Sn.a,{key:e.path,label:e.label,index:t})}))))})),Ln=Object(Z.b)(Object($.a)((function(e){return{root:Object(re.a)({marginTop:25},e.breakpoints.up("md"),{marginTop:35})}}),{withTheme:!0}),h.g)(Rn),Bn=a(530),Pn=a.n(Bn),_n={inviteUsers:function(e){var t=e.role,a=e.locationIds,n=e.slackUsers,r={role:t,location_ids:a,slack_users:j()(n,(function(e){var t=v()(e,"name","").trim().split(" ");return{name:La()(t),lastname:Pn()(t,1).join(" "),email:v()(e,"email")}}))};return U.post("/slack/invite",r)},listUsers:function(e){var t=e.canInvite,a=e.nextCursor;return t?U.get("/slack/users",{cursor:a}):null}},qn={ok:"Conta Slack integrada com sucesso",not_authorized:"N\xe3o foi poss\xedvel integrar sua conta Slack",wrong_member:"\xc9 necess\xe1rio logar no Slack com mesmo email de login Lobby"},Un=Object(r.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.revokeSlackFetch,c=e.revokeSlackLoading,i=e.canInvite,l=e.slackUsers,s=e.slackUsersFetch,m=e.slackUsersLoading,u=e.inviteSlackUsersFetch,d=e.inviteSlackUsersLoading,b=e.nextCursor,p=a.showAlert,g=a.alertMsg,f=a.alertType,h=null;p&&(h=o.a.createElement(ct,{message:g,type:f,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1})}}));var E=I.getUserData(),O=v()(E,"company.name"),j=v()(E,"company.slack_team_id"),C=v()(E,"slack_user_id"),y=Ca()(v()(E,"locations",[]),["name"]),k=function(){window.confirm("Tem certeza em realizar essa a\xe7\xe3o?")&&(G.hit("SlackIntegration - RevokeUser"),r(!0))};return o.a.createElement("div",{className:t.root},o.a.createElement(An,{alertBox:h}),o.a.createElement("section",null,o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:t.container},o.a.createElement(Ln,null)),o.a.createElement("br",null),m?o.a.createElement(pe,null):i&&ba()(l)?o.a.createElement(Ja,{users:l,onRevoke:k,onInvite:function(e){u(!0,"",null,{variables:e})},onShowMore:function(){return s(!1)},isRevokeDisabled:c,isInviteDisabled:d,canDisconnect:Boolean(C),nextCursor:b,locations:y,companyName:O}):o.a.createElement(Za,{onAuthUser:function(){G.hit("SlackIntegration - AuthUser");var e="".concat(P.slackOAuthURL,"?scope=").concat(P.slackOAuthScope,"&team=").concat(j);e+="&client_id=".concat(P.slackClientId,"&user_scope=").concat(P.slackOAuthUserScope),e+="&redirect_uri=".concat(P.slackRedirectURL),window.location.href=e},onInstallLobby:function(){G.hit("SlackIntegration - InstallLobby");var e="".concat(P.slackOAuthURL,"?scope=").concat(P.slackOAuthScope);e+="&client_id=".concat(P.slackClientId,"&user_scope=").concat(P.slackOAuthUserScope),e+="&redirect_uri=".concat(P.slackRedirectURL),window.location.href=e},onRevoke:k,isDisabled:c})))})),zn=la(z.revokeSlackUser,{name:"revokeSlack",init:!1,options:function(e){var t=e.setAlert;return{onRequestFinished:function(){var e=Object(u.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({alertMsg:"A conta Slack foi desconectada",alertType:"success",showAlert:!0}),a=I.getUserData(),Oa()(a,"slack_user_id",null),I.setUserData(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(){t({alertMsg:"Erro ao desconectar conta Slack",alertType:"error",showAlert:!0})}}}}),Wn=la(_n.listUsers,{name:"slackUsers",options:function(e){var t=e.setAlert,a=e.slackUsers,n=e.setSlackUsers,r=e.setNextCursor,o=e.nextCursor;return{variables:{canInvite:e.canInvite,nextCursor:o},onRequestFinished:function(e){var t=a.concat(v()(e,"users",[]));n(Ca()(ka()(t,"email"),["name"])),r(v()(e,"next_cursor",""))},onRequestError:function(){t({alertMsg:"Erro ao carregar lista de usu\xe1rios slack",alertType:"error",showAlert:!0})}}}}),Vn=la(_n.inviteUsers,{name:"inviteSlackUsers",init:!1,options:function(e){var t=e.setAlert,a=e.slackUsersFetch;return{onRequestFinished:function(){t({alertMsg:"Convite enviado com sucesso",alertType:"success",showAlert:!0}),a(!0)},onRequestError:function(){t({alertMsg:"Erro ao carregar convidar usu\xe1rios slack",alertType:"error",showAlert:!0})}}}}),Hn=Object(Z.b)(h.g,Object($.a)(Ga,{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("canInvite","setCanInvite",!1),Object(Z.h)("slackUsers","setSlackUsers",[]),Object(Z.h)("nextCursor","setNextCursor",""),zn,Wn,Vn,Object(Z.c)({componentDidMount:function(){var e=this;return Object(u.a)(m.a.mark((function t(){var a,n,r,o,c,i,l,s,u,d,b;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.location,r=a.setAlert,o=a.setCanInvite,c=new URLSearchParams(n.search),i=c.get("status"),l=I.getUserData(),s=v()(l,"role"),u=v()(l,"company.slack_team_id"),d=v()(l,"slack_user_id"),b=Je.includes(s)&&u&&d,o(Boolean(b)),i&&(r({alertMsg:qn[i],alertType:"ok"===i?"success":"error",showAlert:!0}),window.history.pushState("","","/#/configuracoes/slack"));case 10:case"end":return t.stop()}}),t)})))()}}))(Un),Yn=a(328),Gn=a(898),Qn=a(900),Jn=a(899),Xn=a(546),Kn=a.n(Xn),Zn=a(873),$n=a(939),er=Object(Z.b)(r.memo,Object(Z.h)("open","setOpen",!0),h.g)((function(e){var t,a,n,r=e.trialExpiration,c=e.willDowngradeAt,i=e.willCancelAt,l=e.open,s=e.setOpen,m=e.history,u=r&&A()(r).startOf("day"),d=c&&A()(c).startOf("day"),b=i&&A()(i).startOf("day"),p=A()().startOf("day"),g=null,f=null,h=null,E=null;if(u&&!d&&!b){var v=u.diff(p,"days");g=(t=v)>1?"O plano trial expira em ".concat(t," dias."):1===t?"O plano trial expira em 1 dia.":"O plano trial expira hoje.",f="warning",h=Ve.PlanSubscription.path,E="Assinar plano"}if(d&&!b&&!g){var O=d.diff(p,"days");g=(a=O)>1?"O plano profissional ter\xe1 redu\xe7\xe3o de lugares daqui a ".concat(a," dias."):1===a?"O plano profissional ter\xe1 redu\xe7\xe3o de lugares daqui a 1 dia.":"O plano profissional ter\xe1 redu\xe7\xe3o de lugares hoje.",f="info",h=Ve.MyPlan.path,E="Saiba mais"}if(b&&!g){var j=b.diff(p,"days");g=(n=j)>1?"O plano profissional ser\xe1 cancelado em ".concat(n," dias."):1===n?"O plano profissional ser\xe1 cancelado em 1 dia.":"O plano profissional ser\xe1 cancelado hoje.",f="warning",h=Ve.PlanSubscription.path,E="Assinar plano"}return g&&f?o.a.createElement(Zn.a,{in:l},o.a.createElement(Yn.a,{my:2},o.a.createElement($n.a,{severity:f,action:o.a.createElement(tt.a,{color:"inherit",size:"small",onClick:function(){return s(!1)}},o.a.createElement(et.a,{fontSize:"inherit"}))},g,"\xa0",o.a.createElement(ue.a,{onClick:function(){return m.push(h)},color:"inherit",variant:"outlined",size:"small"},E)))):null})),tr=Object(r.memo)((function(e){var t=e.classes,a=e.history;return o.a.createElement("div",{className:t.root},o.a.createElement("p",{className:t.center},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Assine o plano profissional para ter acesso \xe0 gest\xe3o de tickets"))),o.a.createElement("p",{className:t.center},o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return a.push("/assinar-plano")}},"Quero assinar")))}));tr.propTypes={classes:ne.a.object,history:ne.a.object};var ar=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),h.g)(tr),nr=a(23),rr=a.n(nr),or={getTickets:function(e){return U.get("/tickets",{location_id:Object(N.get)(e,"locationId"),assignee_id:Object(N.get)(e,"assigneeId"),category_id:Object(N.get)(e,"categoryId"),ticket_tag_id:Object(N.get)(e,"ticketTagId"),deadline:Object(N.get)(e,"deadline"),priority:Object(N.get)(e,"priority"),archived:Object(N.get)(e,"archived"),status:Object(N.get)(e,"status"),per_page:Object(N.get)(e,"perPage"),page:Object(N.get)(e,"page")})},getTicket:function(e){return e?U.get("/tickets/".concat(e)):null},getTicketByCode:function(e){return e?U.get("/tickets/codes/".concat(e)):null},updateTicket:function(e){var t=e.id,a=Object(ft.a)(e,["id"]),n=rr.a.toSnakeCase(Object(N.pick)(a,["id","title","priority","deadline","cost","locationId","categoryId","assigneeIds","ticketTagIds"]));return U.put("/tickets/".concat(t),n)},moveTicket:function(e){var t=e.id,a=Object(ft.a)(e,["id"]),n=rr.a.toSnakeCase(Object(N.pick)(a,["status","position","locationId"]));return U.put("/tickets/".concat(t,"/move"),n)},archiveTicket:function(e){var t=e.ticketsIds;return U.put("/tickets/archive",{tickets_ids:t})},unarchiveTicket:function(e){var t=e.ticketsIds;return U.put("/tickets/unarchive",{tickets_ids:t})},postTicket:function(e){var t=e.attachment_data,a=Object(ft.a)(e,["attachment_data"]),n=null;return t&&(n={id:t.id,storage:t.storage,metadata:t.metadata,base64Data:t.base64Data}),U.post("/tickets",Object(f.a)(Object(f.a)({},a),{},{attachment_data:n,priority:Object(N.isEmpty)(Object(N.get)(a,"priority"))?null:Object(N.get)(a,"priority")}))},deleteTicket:function(e){return U.delete("/tickets/".concat(e))},getAssignables:function(){return U.get("/tickets/assignables")},exportCsv:function(e){var t=e.start_date,a=e.end_date;return U.post("/tickets/export_csv",{start_date:t,end_date:a})},report:function(e){var t=e.location_id,a=e.start_date,n=e.end_date;return U.post("/tickets/report",{location_id:t,start_date:a,end_date:n})},markAsRead:function(e){return U.put("/tickets/".concat(e,"/mark_as_read"))},postPublicTicket:function(e){var t=e.ticket,a=t.attachment_data,n=Object(ft.a)(t,["attachment_data"]),r=e.companyId,o=null;return a&&(o={id:a.id,storage:a.storage,metadata:a.metadata,base64Data:a.base64Data}),U.post("/public_tickets?company_id=".concat(r),Object(f.a)({attachment_data:o},n))},toggleStandby:function(e){return U.put("/tickets/".concat(e,"/toggle_standby"))},createParticipant:function(e){var t=e.id,a=e.participantId,n=rr.a.toSnakeCase({participantId:a});return U.post("/tickets/".concat(t,"/participants"),n).then((function(e){return rr.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=rr.a.toCamelCase(e.errors)),e}))},destroyParticipant:function(e){var t=e.id,a=e.participantId,n=e.destroyAssignee;return U.delete("/tickets/".concat(t,"/participants?participant_id=").concat(a,"&destroy_assignee=").concat(n)).then((function(e){return rr.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=rr.a.toCamelCase(e.errors)),e}))}},cr={getTags:function(){return U.get("/ticket_tags").then((function(e){return rr.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=rr.a.toCamelCase(e.errors)),e}))},createTag:function(e){var t=e.title;return U.post("/ticket_tags",{title:t}).then((function(e){return rr.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=rr.a.toCamelCase(e.errors)),e}))},updateTag:function(e){var t=e.id,a=e.title;return U.put("/ticket_tags/".concat(t),{title:a}).then((function(e){return rr.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=rr.a.toCamelCase(e.errors)),e}))},deleteTag:function(e){return U.delete("/ticket_tags/".concat(e)).then((function(e){return rr.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=rr.a.toCamelCase(e.errors)),e}))}},ir={getCategories:function(e){var t={};return e&&(t={deleted:e}),U.get("/ticket_categories",t).then((function(e){return rr.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=rr.a.toCamelCase(e.errors)),e}))},updateCategory:function(e){var t=e.id,a=e.title,n=e.assigneeIds,r=e.deadlineInDays,o=e.ticketFormQuestions,c=rr.a.toSnakeCase({id:t,title:a,assigneeIds:n,deadlineInDays:r,ticketFormQuestions:Object(N.map)(o,(function(e){return{id:e.id,question:Object(N.get)(e,"question"),fieldType:Object(N.get)(e,"fieldType"),required:Object(N.get)(e,"required"),options:Object(N.compact)(Object(N.split)(Object(N.get)(e,"options",""),",").map((function(e){return Object(N.trim)(e)})))}}))});return U.put("/ticket_categories/".concat(t),c).then((function(e){return rr.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=rr.a.toCamelCase(e.errors)),e}))},createCategory:function(e){var t=e.title,a=e.deadlineInDays,n=e.assigneeIds,r=rr.a.toSnakeCase({title:t,deadlineInDays:a,assigneeIds:n});return U.post("/ticket_categories",r).then((function(e){return rr.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=rr.a.toCamelCase(e.errors)),e}))},toggleCategory:function(e){return U.put("/ticket_categories/".concat(e,"/toggle_active"))},getCategoriesByCompany:function(e){return e?U.get("/public_ticket_categories",{company_id:e}):null}},lr=a(531),sr=a.n(lr),mr={get:function(){return Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.get("/subscription").then((function(e){return rr.a.toCamelCase(e)})));case 1:case"end":return e.stop()}}),e)})))()},create:function(e){return Object(u.a)(m.a.mark((function t(){var a,n,r,o,c,i,l,s,u,d,b,p;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.phone,n=e.cnpj,r=e.addressZipcode,o=e.addressNumber,c=e.addressComplementary,i=e.planName,l=e.planSeats,s=e.creditCardHash,u=e.creditCardId,d=(a||"").split(" "),b={phoneDdd:La()(d).replace(/[\D]+/g,""),phoneNumber:sr()(d).replace(/[\D]+/g,""),cnpj:(n||"").replace(/[\D]+/g,""),addressZipcode:(r||"").replace(/[\D]+/g,""),addressNumber:o,addressComplementary:c,planName:i,planSeats:l,creditCardHash:s,creditCardId:u},p=rr.a.toSnakeCase(b),t.abrupt("return",U.post("/subscriptions",p).then((function(e){return rr.a.toCamelCase(e)})));case 5:case"end":return t.stop()}}),t)})))()},update:function(e){return Object(u.a)(m.a.mark((function t(){var a,n,r,o,c,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.id,n=e.planName,r=e.planSeats,o=e.creditCardHash,c=e.creditCardId,i=rr.a.toSnakeCase({planName:n,planSeats:r,creditCardHash:o,creditCardId:c}),t.abrupt("return",U.put("/subscriptions/".concat(a),i).then((function(e){return rr.a.toCamelCase(e)})));case 3:case"end":return t.stop()}}),t)})))()},cancel:function(e){return Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U.delete("/subscriptions/".concat(e)).then((function(e){return rr.a.toCamelCase(e)})));case 1:case"end":return t.stop()}}),t)})))()},undoCancelation:function(){return Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.put("/subscription/undo_cancelation/").then((function(e){return rr.a.toCamelCase(e)})));case 1:case"end":return e.stop()}}),e)})))()}},ur=Object(Z.b)(Object(Z.h)("viewer","setViewer",{loading:!0}),Object(Z.h)("subscriptionReference","setSubscriptionReference",null),Object(Z.c)({componentDidMount:function(){var e=this,t=I.getUserData();this.props.setViewer(t);var a=I.subscribeOnViewerChange((function(t){e.props.setViewer(t)}));this.props.setSubscriptionReference(a)},componentWillUnmount:function(){I.unsubscribeOnViewerChange(this.props.subscriptionReference)}}),Object(Z.a)((function(e){return Object(N.get)(e,"viewer.loading")}),Object(Z.d)((function(){return null})))),dr={PRIORITIES:[{label:"Normal",key:"NORMAL"},{label:"Urgente",key:"HIGH"}],STATUSES:[{label:"Pendente",key:"PENDING"},{label:"Em andamento",key:"IN_PROGRESS"},{label:"Conclu\xeddo",key:"DONE"}],STATUS_PENDING:"PENDING",STATUS_IN_PROGRESS:"IN_PROGRESS",STATUS_DONE:"DONE",PRIORITY_NORMAL:"NORMAL",PRIORITY_HIGH:"HIGH"},br=a(934),pr=a(538),gr=a.n(pr),fr=a(246),hr=a.n(fr),Er=a(537),vr=a.n(Er),Or=a(535),jr=a.n(Or),Cr=a(536),yr=a.n(Cr),kr=function(e){return Object(Z.b)(Object(Z.f)((function(t){return{previousValues:e(t)}})),Object(Z.h)("formData","setFormDataRaw",(function(e){var t=e.previousValues;return Object(f.a)({validationErrors:{},changedFields:{}},t)})),Object(Z.e)({setFormData:function(e){var t=e.setFormDataRaw,a=e.formData,n=e.previousValues;return function(e){var r=Object(f.a)(Object(f.a)({},a),e),o=(r.validationErrors,r.changedFields,Object(ft.a)(r,["validationErrors","changedFields"])),c=Object(N.pickBy)(o,(function(e,t){var a=n[t];return!Object(N.isEqual)(a,e)}));t(Object(f.a)(Object(f.a)({},r),{},{changedFields:c}))}},resetFormData:function(e){var t=e.setFormDataRaw,a=e.previousValues;return function(){t(Object(f.a)({validationErrors:{},changedFields:{}},a))}}}),Object(Z.c)({componentDidUpdate:function(e){Object(N.isEqual)(this.props.previousValues!==e.previousValues)&&this.props.setFormData(Object(f.a)({},this.props.previousValues))}}))},Ar=a(907),wr=a(910),Tr=a(909),xr=a(908),Sr=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{root:{maxWidth:"50rem"},actions:{margin:15,marginBottom:20},content:{overflowX:"hidden"}})}),{withTheme:!0}))((function(e){var t=e.classes,a=e.open,n=e.onClose,r=e.modalTitle,c=e.content,i=e.actions,l=Object(ft.a)(e,["classes","open","onClose","modalTitle","content","actions"]),s=Object(Da.a)(),m=Object(Ma.a)(s.breakpoints.down("sm"));return o.a.createElement(Ar.a,Object.assign({fullScreen:m,keepMounted:!0,maxWidth:"md",classes:{paper:t.root},open:a,onClose:n},l),o.a.createElement(wr.a,null,r,o.a.createElement(tt.a,{className:t.closeButton,onClick:n},o.a.createElement(et.a,null))),o.a.createElement(Tr.a,{className:t.content},c),o.a.createElement(xr.a,{className:t.actions},o.a.createElement(me.a,{container:!0,justify:"flex-end",spacing:2},i)))})),Nr=Object(r.memo)((function(e){var t=e.setFormData,a=e.isLoading,n=e.formData,r=n.start_date,c=n.end_date,i=n.validationErrors;return a?o.a.createElement(pe,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{container:!0,direction:"row",spacing:1},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(qt,{errors:i.start_date,label:"Data de in\xedcio",disabled:a,value:r,onChangeValue:function(e){return t({start_date:e})},disableFuture:!0})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(qt,{errors:i.end_date,label:"Data de fim",disabled:a,value:c,onChangeValue:function(e){return t({end_date:e})},disableFuture:!0}))),o.a.createElement(Yn.a,{display:"flex",justifyContent:"end",mt:2},o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small",align:"right"},"Formato de arquivo .csv")))})),Dr=la(or.exportCsv,{name:"exportCsv",init:!1,options:function(e){var t=e.formData,a=e.setFormData,n=e.setAlert,r=e.onClose;t.validationErrors;return{variables:Object(ft.a)(t,["validationErrors"]),onRequestFinished:function(e){n({alertMsg:Object(N.get)(e,"flash_message.message"),alertType:"success",showAlert:!0}),r()},onRequestError:function(e){n({alertMsg:"Erro ao tentar exportar CSV",alertType:"error",showAlert:!0}),a({validationErrors:Object(N.get)(e,"errors",{})})}}}}),Mr=Object(Z.b)(r.memo,kr((function(){return{start_date:null,end_date:null}})),Dr)((function(e){var t=e.isModalOpen,a=e.onClose,n=e.formData,r=e.setFormData,c=e.resetFormData,i=e.exportCsvFetch,l=e.exportCsvLoading,s=function(){c(),setTimeout(a,10)};return t&&o.a.createElement(Sr,{open:t,onClose:s,modalTitle:"Exportar todos os tickets",content:o.a.createElement(Nr,{formData:n,setFormData:r,isLoading:l}),actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{color:"default",size:"large",variant:"contained",onClick:s,disabled:l},"CANCELAR"),o.a.createElement(Yn.a,{ml:2},o.a.createElement(ue.a,{color:"primary",size:"large",variant:"contained",onClick:function(){return i(!0)},disabled:l},"EXPORTAR")))})})),Fr=a(913),Ir=a(534),Rr=a.n(Ir),Lr=a(532),Br=a(533),Pr=a.n(Br),_r=window.location,qr=_r.host,Ur=_r.protocol,zr="".concat(Ur,"//").concat(qr,"/#/public/tickets/novo"),Wr=Object(Z.b)(r.memo,Object(Z.h)("copyURL","setCopyURL",!1))((function(e){var t=e.isModalOpen,a=e.onClose,n=e.setCopyURL,r=e.copyURL,c=e.setAlert,i=function(){n(!0),c({alertMsg:"Link copiado com sucesso",alertType:"success",showAlert:!0}),setTimeout((function(){return n(!1)}),3e3)},l=I.getUserData(),s="".concat(zr,"?c=").concat(v()(l,"company.id"));return t&&o.a.createElement(Sr,{open:t,onClose:a,modalTitle:"Formul\xe1rio p\xfablico de novo ticket",content:o.a.createElement(me.a,{container:!0,direction:"row",justify:"center",align:"center",spacing:2},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ge.a,{variant:"body2",color:"textSecondary"},"C\xf3digo QR do formul\xe1rio (n\xe3o requer login do usu\xe1rio)"),o.a.createElement("br",null),o.a.createElement(Pr.a,{value:s,size:256}),o.a.createElement("br",null)),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Lr.CopyToClipboard,{text:s,onCopy:i},o.a.createElement(ht.a,{fullWidth:!0},o.a.createElement(Ft.a,{htmlFor:"url"},"Link do formul\xe1rio (n\xe3o requer login do usu\xe1rio)"),o.a.createElement(Sa.a,{id:"url",type:"text",readOnly:!0,value:s,endAdornment:o.a.createElement(Fr.a,{position:"end"},o.a.createElement(Fa.a,{title:"Copiar link",arrow:!0,placement:"top"},o.a.createElement(tt.a,{onClick:i},r?o.a.createElement(Rr.a,{color:"primary"}):o.a.createElement(hr.a,null))))})))))})})),Vr=function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{closeTicket:{cursor:"pointer",fontSize:14,fontWeight:"bold",marginRight:3},filterSelect:{minWidth:115}})},Hr=Object(Z.b)(r.memo,Object($.a)(Vr,{withTheme:!0}),h.g,Object(Z.h)("anchorEl","setAnchorEl",null),Object(Z.h)("isExportModalOpen","setIsExportModalOpen",!1),Object(Z.h)("isPublicNewTicketsOpen","setIsPublicNewTicketsOpen",!1))((function(e){var t=e.history,a=e.setAlert,n=e.anchorEl,r=e.setAnchorEl,c=e.isExportModalOpen,i=e.setIsExportModalOpen,l=e.isPublicNewTicketsOpen,s=e.setIsPublicNewTicketsOpen,m=e.isArchived,u=e.onToggleArchived,d=e.classes,b=Boolean(n),p=function(){r(null)};return o.a.createElement("div",null,o.a.createElement(tt.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)}},o.a.createElement(br.a,null)),o.a.createElement(rn.a,{id:"long-menu",anchorEl:n,keepMounted:!0,open:b,onClose:p,PaperProps:{style:{maxHeight:216}}},o.a.createElement(Rt.a,{onClick:function(){var e=!m;G.hit("Tickets".concat(e?"Archived":""," - Viewer")),p(),u(e)}},m?o.a.createElement(jr.a,{className:d.iconMenu}):o.a.createElement(yr.a,{className:d.iconMenu}),m?"Ver n\xe3o arquivados":"Ver arquivados"),o.a.createElement(Rt.a,{onClick:function(){G.hit("PublicNewTicketsModal - Opened"),p(),s(!0)}},o.a.createElement(vr.a,{className:d.iconMenu}),"Form\xfal\xe1rio p\xfablico"),o.a.createElement(Rt.a,{onClick:function(){t.push("/tickets/relatorio")}},o.a.createElement(hr.a,{className:d.iconMenu}),"Relat\xf3rios"),o.a.createElement(Rt.a,{onClick:function(){G.hit("ExportTicketsCsvModal - Opened"),i(!0),p()}},o.a.createElement(gr.a,{className:d.iconMenu}),"Exportar tickets")),o.a.createElement(Wr,{setAlert:a,isModalOpen:l,onClose:function(){G.hit("PublicNewTicketsModal - Closed"),s(!1)}}),o.a.createElement(Mr,{setAlert:a,isModalOpen:c,onClose:function(){G.hit("ExportTicketsCsvModal - Closed"),i(!1)}}))})),Yr=a(150),Gr=a.n(Yr),Qr={getComments:function(e){return e?U.get("/tickets/".concat(e,"/ticket_comments")):null},sendComment:function(e){var t=e.id,a=e.content,n=e.isInternal,r=e.attachmentData,o=null;return r&&(o={id:r.id,storage:r.storage,metadata:r.metadata,base64Data:r.base64Data}),U.post("/tickets/".concat(t,"/ticket_comments"),{content:a,is_internal:n,attachment_data:o})},deleteComment:function(e){var t=e.id;return U.delete("/ticket_comments/".concat(t))}},Jr=a(247),Xr=a.n(Jr),Kr={toCurrency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"BRL",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pt-BR",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={style:n?"decimal":"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2};return new Intl.NumberFormat(a,r).format(e)},fromCurrencyToNumber:function(e){try{return Number(e.replace(/\./g,"").replace(",","."))}catch(t){return null}}},Zr=la(or.toggleStandby,{init:!1,props:function(e){return e.data||{}},options:function(e){var t=e.ticket,a=e.setAlert,n=e.onSuccess;return{variables:t.id,onRequestFinished:n,onRequestError:function(e){var t=e.errors?Object.values(e.errors).flat().join():"Erro ao comunicar com servidor";a({alertMsg:t,alertType:"error",showAlert:!0})}}}}),$r=Object(Z.b)(r.memo,Zr,Object(Z.e)({onSubmit:function(e){var t=e.fetch,a=e.ticket;return function(){(a.is_standby||window.confirm("Tem certeza em deixar esse ticket em espera?"))&&t(!0)}}}))((function(e){var t=e.ticket,a=e.isFormLoading,n=e.loading,r=e.onSubmit,c=t.is_standby?"Retomar":"Deixar em espera",i=t.is_standby?"primary":"default";return o.a.createElement(ue.a,{color:i,size:"medium",variant:"outlined",disabled:a||n,onClick:r},c)})),eo=dr.PRIORITIES,to=dr.STATUSES,ao=la(or.getAssignables,{name:"assignables",props:function(e){var t=e.assignablesData;return{assignables:Object(N.get)(t,"members",[])}}}),no=la(or.updateTicket,{name:"updateTicket",init:!1,options:function(e){var t=e.setAlert,a=e.setFormData,n=e.formData.changedFields,r=e.resetFormData,o=e.ticket,c=e.standardRefetch;return{variables:Object(f.a)(Object(f.a)({id:o.id},n),{},{standardRefetch:c}),onRequestFinished:function(){c().then(r),t({alertMsg:"Ticket #".concat(o.code," atualizado com sucesso"),alertType:"success",showAlert:!0})},onRequestError:function(e){if(Object(N.get)(e,"errors"))a({validationErrors:Object(N.get)(e,"errors",{})});else{var n="forbidden"===e.error||403===e.response.status?"Voc\xea n\xe3o tem permiss\xe3o suficiente":"Erro ao alterar este ticket";t({alertMsg:n,alertType:"error",showAlert:!0})}}}}}),ro=la(or.moveTicket,{name:"moveTicket",init:!1,options:function(e){var t=e.setAlert,a=e.ticket,n=e.setFormData,r=e.resetFormData,o=e.standardRefetch;return{onRequestFinished:function(){o().then(r),t({alertMsg:"Ticket #".concat(a.code," atualizado com sucesso"),alertType:"success",showAlert:!0})},onRequestError:function(e){Object(N.get)(e,"errors")?n({validationErrors:Object(N.get)(e,"errors",{})}):t({alertMsg:"Erro ao alterar este ticket",alertType:"error",showAlert:!0})}}}}),oo=la(or.archiveTicket,{name:"archiveTicket",init:!1,options:function(e){var t=e.ticket,a=e.onClose;return{variables:{ticketsIds:[t.id]},onRequestFinished:function(){var e={id:Object(N.get)(t,"id"),title:Object(N.get)(t,"title")};G.hit("Ticket - Archived",e),a(null,"Ticket #".concat(t.code," arquivado com sucesso"))},onRequestError:function(e){a(e,"Erro ao arquivar ticket #".concat(t.code))}}}}),co=la(or.unarchiveTicket,{name:"unarchiveTicket",init:!1,options:function(e){var t=e.ticket,a=e.onClose;return{variables:{ticketsIds:[t.id]},onRequestFinished:function(){var e={id:Object(N.get)(t,"id"),title:Object(N.get)(t,"title")};G.hit("Ticket - Unarchived",e),a(null,"Ticket #".concat(t.code," desarquivado com sucesso"))},onRequestError:function(e){a(e,"Erro ao desarquivar ticket #".concat(t.code))}}}}),io=la(or.deleteTicket,{name:"deleteTicket",init:!1,options:function(e){var t=e.ticket,a=e.onClose;return{variables:t.id,onRequestFinished:function(){var e={id:Object(N.get)(t,"id"),title:Object(N.get)(t,"title")};G.hit("Ticket - Deleted",e),a(null,"Ticket #".concat(t.code," exclu\xeddo com sucesso"))},onRequestError:function(e){a(e,"Erro ao excluir ticket #".concat(t.code))}}}}),lo=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Vr(e)),{},{ticketContent:{marginTop:-20},ticketActions:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",alignSelf:"flex-end",paddingLeft:25,paddingRight:25,marginTop:22},multiSelect:{marginTop:10,marginBottom:15},categorySelect:{marginBottom:5},gridDeadline:{marginTop:-10}})}),{withTheme:!0}),kr((function(e){var t=e.ticket;return{title:t.title,priority:t.priority,deadline:t.deadline,cost:t.cost,locationId:t.location.id,categoryId:t.category.id,assigneeIds:Object(N.map)(t.assignees,(function(e){return e.id})),ticketTagIds:Object(N.map)(t.ticket_tags,(function(e){return e.id})),status:t.status}})),Object(Z.h)("isEditingTitle","setIsEditingTitle",!1),ao,Object(Z.e)({standardRefetch:function(e){var t=e.ticketFetch,a=e.ticketCommentsFetch;return function(){return a(!0),t(!0)}}}),no,ro,oo,co,io,Object(Z.e)({submitChanges:function(e){var t=e.formData.changedFields,a=e.ticket,n=e.updateTicketFetch,r=e.moveTicketFetch;return function(){var e=Object(N.first)(Object.keys(t));if(Object(N.includes)(["status","locationId"],e)){var o={variables:Object(f.a)({id:a.id},t)};return r(!0,"",null,o)}if(Object(N.includes)(["title","priority","deadline","cost","locationId","categoryId","assigneeIds","ticketTagIds"],e)){var c={variables:Object(f.a)({id:a.id},t)};return n(!0,"",null,c)}return null}}}))((function(e){var t=e.setAlert,a=e.classes,n=e.ticket,r=e.setFormData,c=e.formData,i=c.validationErrors,l=c.title,s=c.priority,m=c.deadline,u=c.locationId,d=c.categoryId,b=c.assigneeIds,p=c.ticketTagIds,g=c.status,f=c.cost,h=e.submitChanges,E=e.unarchiveTicketFetch,v=e.assignables,O=e.categories,j=e.tags,C=e.onClose,y=e.unarchiveTicketLoading,k=e.ticketFetch,w=e.ticketLoading,T=e.theme,x=e.isEditingTitle,S=e.setIsEditingTitle,D=e.updateTicketLoading,M=e.ticketCommentsFetch,F=e.deleteTicketLoading,R=e.deleteTicketFetch,L=e.updateTicketFetch,B=e.moveTicketLoading,P=e.archiveTicketFetch,_=e.archiveTicketLoading,q=pt.isMobile(),U=I.getUserData(),z=Object(N.sortBy)(Object(N.get)(U,"locations",[]),["name"]),W=Object(N.get)(U,"role","MEMBER"),V=Xe.includes(W),H=Object(N.get)(n,"status"),Y=Boolean(Object(N.get)(n,"archived_at")),G=V&&!Y,Q=Boolean(D||B||w||y||_||F),J=!G,X=Boolean(!V||Q||J),K="".concat(Object(N.get)(n,"requester.name","")," ").concat(Object(N.get)(n,"requester.lastname","")),Z=Object(N.get)(n,"created_at")?A()(n.created_at).fromNow():"",$=Object(N.get)(n,"code",""),ee=Object(N.get)(n,"priority"),te=Object(N.get)(n,"location.id",""),ae=Object(N.get)(n,"category.id",""),ne=Object(N.compact)([Object(N.get)(n,"category")].concat(O||[])),re=Object(N.sortBy)(Object(N.uniqBy)(ne,"id"),"title"),oe=Object(N.map)(Object(N.filter)(v,(function(e){return Object(N.includes)(b,e.id)})),(function(e){return"".concat(e.name," ").concat(e.lastname)})).join(", "),ce=Object(N.map)(Object(N.get)(n,"ticket_tags"),(function(e){return e.title})).join(", ");J&&(ee=Object(N.get)(Object(N.find)(eo,(function(e){return e.key===ee})),"label",""),te=Object(N.get)(Object(N.find)(z,(function(e){return e.id===te})),"name",""),ae=Object(N.get)(Object(N.find)(O,(function(e){return e.id===ae})),"title",""),H=Object(N.get)(Object(N.find)(to,(function(e){return e.key===H})),"label",""));var ie=T.mainColor,le=function(){window.document.querySelector("#title").focus(),S(!0)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(wr.a,null,o.a.createElement(He.a,{multiline:!0,id:"title",disabled:X,InputProps:{disableUnderline:!0,style:{color:"#000",fontSize:20,width:q?300:350,backgroundColor:x?"#E0E0E0":"",borderRadius:x?5:"",paddingLeft:5},endAdornment:o.a.createElement(Fr.a,{position:"end"},V&&!q&&!x&&!X&&o.a.createElement(tt.a,{onClick:le,disabled:Q||X},D?o.a.createElement(se.a,{color:ie,className:a.progress,variant:"indeterminate",disableShrink:!0,thickness:5,size:25}):!x&&o.a.createElement(Xr.a,{fontSize:"small"})))},value:l,onFocus:le,onKeyDown:function(e){e.stopPropagation(),13!==e.keyCode||Object(N.isEmpty)(l)?27===e.keyCode&&S(!1):(h(),S(!1))},onBlur:function(){h(),S(!1)},onChange:function(e){return r({title:e.target.value})}},i.title&&o.a.createElement(Et.a,null,"T\xedtulo n\xe3o pode ficar em branco")),o.a.createElement("br",null),o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},w?"":"#".concat($," - ").concat(Z," por "),o.a.createElement("b",null,K)),o.a.createElement(tt.a,{className:a.closeButton,onClick:C},o.a.createElement(et.a,null))),o.a.createElement(Tr.a,{className:a.ticketContent},o.a.createElement(Lt,{errors:Object(N.get)(i,"status",[]),label:"Status",value:g,disabled:Q||!G,readOnly:J,onChangeValue:function(e){return r({status:e})},onClose:h,options:to,optionValueField:"key",size:"small"}),Object(N.size)(z)>1&&o.a.createElement(Lt,{errors:Object(N.get)(i,"location_id",[]),label:"Local",value:u,disabled:Q||!G,readOnly:J,onChangeValue:function(e){return r({locationId:e})},onClose:h,options:z,optionValueField:"id",optionLabelField:"name",size:"small"}),o.a.createElement(Lt,{errors:Object(N.get)(i,"category_id",[]),label:"Categoria",value:d,disabled:Q||!G,readOnly:J,className:a.categorySelect,onChangeValue:function(e){return r({categoryId:e})},onClose:h,options:re,optionValueField:"id",optionLabelField:"title",size:"small"}),Object(N.size)(j)?J?o.a.createElement(Ot,{label:"Etiquetas",value:ce,disabled:Q||J,readOnly:J,size:"small"}):o.a.createElement(ht.a,{fullWidth:!0,margin:"dense",variant:"outlined",className:a.multiSelect,error:!!i.ticket_tags},o.a.createElement(Ft.a,{shrink:!0},"Etiquetas"),o.a.createElement(It.a,{error:!!i.ticket_tags,label:"Etiquetas",multiple:!0,value:p,onChange:function(e){return r({ticketTagIds:e.target.value})},onClose:h,disabled:Q||J,size:"small"},j.map((function(e){return o.a.createElement(Rt.a,{key:e.id,value:e.id},e.title)}))),i.ticket_tags&&o.a.createElement(Et.a,null,i.ticket_tags)):o.a.createElement(o.a.Fragment,null),J?o.a.createElement(Ot,{label:"Respons\xe1veis",value:oe,disabled:Q||J,readOnly:J,size:"small"}):o.a.createElement(ht.a,{fullWidth:!0,margin:"dense",variant:"outlined",className:a.multiSelect,error:!!i.assignees},o.a.createElement(Ft.a,{shrink:!0},"Respons\xe1veis"),o.a.createElement(It.a,{error:!!i.assignees,label:"Respons\xe1veis",multiple:!0,value:b,onChange:function(e){return r({assigneeIds:e.target.value})},onClose:h,disabled:Q||J,size:"small"},v.map((function(e){return o.a.createElement(Rt.a,{key:e.id,value:e.id},"".concat(e.name," ").concat(e.lastname))}))),i.assignees&&o.a.createElement(Et.a,null,i.assignees)),o.a.createElement(me.a,{container:!0,direction:"row",justify:"flex-start",spacing:1,className:a.gridDeadline},o.a.createElement(me.a,{item:!0,xs:4},o.a.createElement(qt,{errors:Object(N.get)(i,"deadline"),label:"Prazo",value:m,disabled:Q||J,readOnly:J,size:"small",onChangeValue:function(e){r({deadline:e&&e.format()}),setTimeout(h,10)}})),o.a.createElement(me.a,{item:!0,xs:4},o.a.createElement(Lt,{errors:Object(N.get)(i,"priority",[]),label:"Prioridade",value:s,disabled:Q||!G,readOnly:J,onChangeValue:function(e){return r({priority:e})},onClose:h,options:eo,optionValueField:"key",size:"small"})),o.a.createElement(me.a,{item:!0,xs:4},o.a.createElement(kt,{errors:Object(N.get)(i,"cost",[]),label:"Custo",value:f,disabled:Q||!G,readOnly:J,size:"small",onBlurValue:function(e){var t={variables:{id:n.id,cost:Kr.fromCurrencyToNumber(e)}};L(!0,"",null,t)},onChangeValue:function(e){return r({cost:e})}})))),!Y&&V&&o.a.createElement(xr.a,{className:a.ticketActions},o.a.createElement(ue.a,{color:"default",size:"medium",variant:"outlined",onClick:function(){G&&window.confirm("Tem certeza em arquivar esse ticket?")&&P(!0)},disabled:Q},"Arquivar"),o.a.createElement($r,{setAlert:t,ticket:n,isFormLoading:Q,onSuccess:function(){k(!0),M(!0)}})),Y&&V&&o.a.createElement(xr.a,{className:a.ticketActions},o.a.createElement(ue.a,{color:"default",size:"medium",variant:"outlined",onClick:function(){return E(!0)},disabled:Q},"DESARQUIVAR"),o.a.createElement(ue.a,{color:"secondary",size:"medium",variant:"outlined",onClick:function(){V&&window.confirm("Deseja excluir este ticket? Essa a\xe7\xe3o \xe9 irrevers\xedvel.")&&R(!0)},disabled:Q},"EXCLUIR TICKET")))})),so=a(920),mo=a(539),uo=a.n(mo),bo=a(151),po=a.n(bo),go=a(540),fo=a.n(go),ho={attributes:{target:"_blank",rel:"noopener noreferrer"}},Eo=function(e){return fo()({input:e,options:ho})},vo=Object(r.memo)((function(e){var t=e.comment,a=e.classes,n=e.deleteCommentFetch,r=e.deleteCommentLoading,c=v()(t,"is_internal"),i=c?a.internalBallon:"",l=I.getUserData(),s=v()(l,"id"),m=v()(t,"member_id",""),u=v()(t,"member.job_role")?"- ".concat(v()(t,"member.job_role")):"",d=v()(t,"member.fullname",P.systemName),b=v()(t,"member.photo_url",P.systemPhotoUrl),p=v()(t,"is_activity"),g=uo()(t.content||""),f=c&&!p?" - Interno":"",h=p?g:u;return o.a.createElement("div",null,o.a.createElement("div",{className:a.userNameContainer},o.a.createElement(Ya,{name:d,photoUrl:b}),o.a.createElement(ge.a,{variant:"subtitle2",className:a.userName},o.a.createElement("b",null,d),"\xa0",o.a.createElement(ge.a,{variant:"body2",component:"span"},h),p&&o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},o.a.createElement("br",null),"".concat(A()(v()(t,"created_at")).calendar()).concat(f)))),o.a.createElement("div",{className:a.content},!p&&o.a.createElement(o.a.Fragment,null,t.attachment_data&&o.a.createElement(ea,{file:t.attachment_data,outterContainerClassName:a.previewButtonContainer}),t.content&&o.a.createElement("div",{className:"".concat(a.baloon," ").concat(i)},o.a.createElement("div",{className:t.attachment_data&&a.contentWithMargin},(t.content||"").split("\n").map((function(e,t){return o.a.createElement("span",{key:"".concat(Date.now(),"_").concat(t.toString())},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:Eo(e)}}),o.a.createElement("br",null))})))),o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},"".concat(A()(v()(t,"created_at")).calendar()).concat(f)),m&&s===m&&o.a.createElement(po.a,{className:a.iconButton,onClick:function(){window.confirm("Deseja excluir o coment\xe1rio? Essa a\xe7\xe3o \xe9 irrevers\xedvel")&&n(!0)},disabled:r}))))})),Oo=la(Qr.deleteComment,{name:"deleteComment",init:!1,options:function(e){var t=e.comment,a=e.setAlert,n=e.fetchComments;return{variables:{id:v()(t,"id")},onRequestFinished:function(){a({alertMsg:"Coment\xe1rio exclu\xeddo com sucesso",alertType:"success",showAlert:!0});var e={id:v()(t,"id"),content:v()(t,"content")};G.hit("TicketComment - Deleted",e),n()},onRequestError:function(){a({alertMsg:"Erro ao excluir coment\xe1rio",alertType:"error",showAlert:!0})}}}}),jo=Object(Z.b)(r.memo,Object($.a)((function(){return{userNameContainer:{display:"flex",alignItems:"space-between",flexDirection:"row",marginTop:15},userName:{marginLeft:10},content:{marginLeft:40,marginBottom:20},baloon:{backgroundColor:"#fff",borderRadius:5,paddingLeft:15,paddingRight:15,paddingTop:10,paddingBottom:10,marginBottom:5,height:"auto",wordBreak:"break-word",whiteSpace:"pre-line"},internalBallon:{backgroundColor:"#fff3d7"},previewButtonContainer:{display:"flex",width:"fit-content",backgroundColor:"white",marginBottom:5},contentWithMargin:{marginTop:10},iconButton:{fontSize:22,paddingLeft:5,verticalAlign:"bottom",cursor:"pointer"}}}),{withTheme:!0}),Oo)(vo),Co=la(Qr.sendComment,{name:"sendTicketComment",init:!1,options:function(e){var t=e.setFile,a=e.onAttachmentSent,n=e.onUploadError;return{onRequestFinished:function(){t(null),a&&a()},onRequestError:function(e){t(null),n(e)}}}}),yo=Object(Z.b)(r.memo,Object(Z.h)("file","setFile",null),Co,Object(Z.e)({onUploadSuccess:function(e){var t=e.ticketId,a=e.isInternal,n=e.setFile,r=e.sendTicketCommentFetch;return function(e){n(Object(f.a)(Object(f.a)({},e),{},{progressPercent:99})),r(!0,null,null,{variables:{id:t,attachmentData:e,content:null,isInternal:a}})}},onUploadError:function(e){var t=e.onUploadError,a=e.setFile;return function(e){a(null),t&&t(e)}}}))((function(e){var t=e.file,a=e.setFile,n=e.onUploadSuccess,r=e.disabled,c=e.onUploadError,i=e.size;return o.a.createElement(ta,{value:t,onChange:a,onUploadSuccess:n,disabled:r,size:i,accept:"image/*,.doc,.docx,.xls,.xlsx,.pdf,.xml",buttonProps:{style:{backgroundColor:"#fff"}},sizeLimit:10,onUploadError:c})})),ko=la(Qr.sendComment,{name:"sendTicketComment",init:!1,options:function(e){var t=e.ticket,a=e.commentMessage,n=e.setCommentMessage,r=e.onClose,o=e.ticketCommentsFetch;return{variables:Object(f.a)({id:Object(N.get)(t,"id")},a),onRequestFinished:function(){n(Ao),o(!1)},onRequestError:function(e){var a={id:Object(N.get)(t,"id"),title:Object(N.get)(t,"title")};G.hit("TicketModal - Closed",a),r(e,"Erro ao enviar um coment\xe1rio para esse ticket")}}}}),Ao={content:"",isInternal:!1},wo=Object(Z.b)(r.memo,Object(Z.h)("commentMessage","setCommentMessage",Ao),Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Vr(e)),{},{commentContent:{marginTop:-20,paddingLeft:20,paddingRight:20},commentArea:{height:315,minHeight:315,maxHeight:315,marginBottom:15,overflowY:"scroll"},commentHeaderContainer:{display:"flex",alignItems:"center"},isInternalSwitch:{marginLeft:"1rem"},commentActions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-end",alignSelf:"flex-end",paddingLeft:20,paddingRight:20,paddingBottom:20}})}),{withTheme:!0}),ko)((function(e){var t=e.classes,a=e.ticketCommentsFetch,n=e.ticketCommentsData,r=e.ticketCommentsLoading,c=e.commentMessage,i=e.setCommentMessage,l=e.sendTicketCommentFetch,s=e.sendTicketCommentLoading,m=e.canEditForm,u=e.isArchived,d=e.isMemberRequester,b=e.archiveTicketLoading,p=e.unarchiveTicketLoading,g=e.setAlert,h=e.isAgentUser,E=e.ticket,v=Object(N.sortBy)(Object(N.get)(n,"ticket_comments",[]),["created_at"]).reverse(),O=m||E.viewer_is_only_participant||!u&&d,j=Boolean(!O||s||r||b||p),C=j||Object(N.isEmpty)(Object(N.get)(c,"content",""));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Tr.a,{className:t.commentContent},o.a.createElement("div",{className:t.commentArea},r?o.a.createElement(pe,null):Object(N.map)(v,(function(e){return o.a.createElement(jo,{key:e.id,comment:e,setAlert:g,fetchComments:a})}))),o.a.createElement("div",{className:t.commentHeaderContainer},o.a.createElement(ge.a,{variant:"h6"},"Comentar"),h&&o.a.createElement(zt.a,{className:t.isInternalSwitch,control:o.a.createElement(so.a,{checked:c.isInternal,onChange:function(){return i(Object(f.a)(Object(f.a)({},c),{},{isInternal:!c.isInternal}))},color:"primary"}),label:"Interno",disabled:j})),o.a.createElement(Ot,{multiline:!0,rows:3,rowsMax:3,placeholder:"Escreva seu coment\xe1rio aqui...",classes:{root:t.bgWhite},value:c.content,onChange:function(e){return i(Object(f.a)(Object(f.a)({},c),{},{content:e.target.value}))},disabled:j})),o.a.createElement(xr.a,{className:t.commentActions},o.a.createElement(yo,{size:"medium",ticketId:Object(N.get)(E,"id"),isInternal:c.isInternal,disabled:!!j,onAttachmentSent:function(){return a(!0)},onUploadError:function(e){g({alertMsg:e.message,alertType:"error",showAlert:!0})}}),o.a.createElement(ue.a,{color:"primary",size:"medium",variant:"contained",onClick:function(){O&&l(!0)},disabled:C},"ENVIAR")))})),To=a(916),xo=a(541),So=a.n(xo),No={getMembers:function(e){var t=e.onlyActive;return U.get("/members",{only_active:t})},getMember:function(e){return U.get("/members/".concat(e))},blockMember:function(e){return U.put("/members/".concat(e,"/block"))},updateMember:function(e){var t=e.id,a=e.name,n=e.lastname,r=e.phone,o=e.role,c=e.job_role,i=e.locationIds;return U.put("/members/".concat(t),{id:t,name:a,lastname:n,phone:r,role:o,job_role:c,location_ids:i})},emailCheck:function(e){return U.get("/members/email_check",{email:e})},createMember:function(e){var t=e.name,a=e.lastname,n=e.phone,r=e.role,o=e.email,c=e.jobRole,i=e.locationIds;return U.post("/members?send_invite=true",{name:t,lastname:a,phone:n,role:r,email:o,job_role:c,location_ids:i})},resendInvitationEmail:function(e){return U.get("/members/resend_invitation_email",{id:e})},unblockMember:function(e){return U.put("/members/".concat(e,"/unblock"))}},Do=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{container:{display:"flex",alignItems:"center"},name:{marginLeft:e.spacing(1)}})}),{withTheme:!0}),r.memo)((function(e){var t=e.classes,a=e.name,n=e.photoUrl,r=e.onlyImage;return o.a.createElement("div",{className:t.container},o.a.createElement(Ya,{name:a,photoUrl:n}),r||o.a.createElement("span",{className:t.name},a))})),Mo=function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{ticketContent:{marginTop:-20},ticketActions:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",alignSelf:"flex-end",paddingLeft:25,paddingRight:25,paddingBottom:20,marginTop:22},bgCommentDialog:{backgroundColor:"rgb(242, 243, 248)"},title:{marginBottom:0},editButton:{position:"absolute",right:e.spacing(75),top:e.spacing(1),color:e.palette.grey[500]},inputLabel:{color:"rgba(0, 0, 0, 0.54)"},multiSelect:{marginTop:10,marginBottom:15},categorySelect:{marginBottom:5},gridDeadline:{marginTop:-10}})},Fo=la(No.getMembers,{name:"members",props:function(e){var t=e.membersData,a=e.ownProps.ticket.participants;return{members:Object(N.differenceBy)(Object(N.get)(t,"members",[]),a,(function(e){return e.id}))}},options:function(){return{variables:{onlyActive:!0}}}}),Io=la(or.createParticipant,{name:"createParticipant",init:!1,options:function(e){var t=e.setAlert,a=e.formData.changedFields,n=e.ticket,r=e.refetch;return{variables:Object(f.a)({id:n.id},a),onRequestFinished:r,onRequestError:function(e){P.isDevelopment&&e&&console.error(e),t({alertMsg:"Erro ao adicionar participante",alertType:"error",showAlert:!0})}}}}),Ro=la(or.destroyParticipant,{name:"destroyParticipant",init:!1,options:function(e){var t=e.setAlert;return{onRequestFinished:e.refetch,onRequestError:function(e){P.isDevelopment&&e&&console.error(e),t({alertMsg:"Erro ao remover participante",alertType:"error",showAlert:!0})}}}}),Lo=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Mo(e)),{},{removeButton:{marginLeft:e.spacing(2)},limitedSizeScrollable:{maxHeight:"38vh",overflowY:"auto"},participantContent:{paddingTop:"9px !important"}})}),{withTheme:!0}),kr((function(){return{participantId:""}})),ur,Fo,Io,Ro,Object(Z.f)((function(e){var t=e.ticketLoading,a=e.createParticipantLoading,n=e.destroyParticipantLoading;return{loading:t||a||n}})),Object(Z.e)({createParticipant:function(e){var t=e.createParticipantFetch;return function(){return t(!0)}},destroyParticipant:function(e){var t=e.destroyParticipantFetch,a=e.ticket;return function(e){var n=!!Object(N.includes)(Object(N.map)(a.assignees,(function(e){return e.id})),e)&&window.confirm("Esse participante \xe9 um respons\xe1vel do ticket. Deseja excluir como respons\xe1vel tamb\xe9m?");t(!0,"",null,{variables:{id:a.id,participantId:e,destroyAssignee:n}})}}}))((function(e){var t=e.classes,a=e.viewer,n=e.setFormData,r=e.formData,c=r.validationErrors,i=r.participantId,l=e.ticket.participants,s=e.members,m=e.loading,u=e.createParticipant,d=e.destroyParticipant;return o.a.createElement(Tr.a,{className:t.participantContent},a.is_agent&&o.a.createElement(Lt,{label:"Usu\xe1rios",errors:c.participants,disabled:m,value:i,onChangeValue:function(e){n({participantId:e}),u()},options:s.map((function(e){return{label:e.fullname,value:e.id}})),emptyOptionLabel:"Adicione um participante"}),o.a.createElement(Yn.a,{mt:1,mx:[0,"10%"],className:t.limitedSizeScrollable},o.a.createElement(an.a,null,Object(N.map)(l,(function(e){return o.a.createElement(dn.a,{key:e.id},o.a.createElement(Do,{name:e.fullname,photoUrl:e.photoUrl}),(a.is_agent||a.id===e.id)&&o.a.createElement(To.a,null,o.a.createElement(tt.a,{disabled:m,onClick:function(){return d(e.id)},className:t.removeButton},o.a.createElement(So.a,null))))})))))})),Bo=dr.PRIORITIES,Po=dr.STATUSES,_o=function(e){var t=e.children,a=e.activeTabValue,n=e.value;return o.a.createElement("div",{hidden:a!==n,id:"scrollable-force-tabpanel-".concat(n)},a===n&&t)},qo=Object(r.memo)((function(e){var t=e.setAlert,a=e.classes,n=e.categories,r=e.tags,c=e.open,i=e.onClose,l=e.unarchiveTicketLoading,s=e.currentTicket,m=e.ticketFetch,u=e.ticketLoading,d=e.ticketCommentsFetch,b=e.ticketCommentsData,p=e.ticketCommentsLoading,g=e.archiveTicketLoading,f=e.activeTab,h=e.setActiveTab;if(!c)return null;var E=I.getUserData(),v=Object(N.sortBy)(Object(N.get)(E,"locations",[]),["name"]),O=Object(N.get)(E,"role","MEMBER"),j=Xe.includes(O),C=Object(N.get)(s,"requester.id"),y=Object(N.get)(E,"id"),k=Object(N.get)(s,"status"),A=Boolean(Object(N.get)(s,"archived_at")),w=C&&y&&y===C,T=j&&!A,x=!T,S=Object(N.get)(s,"priority"),D=Object(N.get)(s,"location.id",""),M=Object(N.get)(s,"category.id","");x&&(S=Object(N.get)(Object(N.find)(Bo,(function(e){return e.key===S})),"label",""),D=Object(N.get)(Object(N.find)(v,(function(e){return e.id===D})),"name",""),M=Object(N.get)(Object(N.find)(n,(function(e){return e.id===M})),"title",""),k=Object(N.get)(Object(N.find)(Po,(function(e){return e.key===k})),"label",""));var F=Object(Da.a)(),R=Object(Ma.a)(F.breakpoints.down("sm")),L=function(){var e={id:Object(N.get)(s,"id"),title:Object(N.get)(s,"title")};G.hit("TicketModal - Closed",e),i()};return o.a.createElement(Ar.a,{open:c,fullScreen:R,onClose:L,keepMounted:!0,fullWidth:!0,maxWidth:"md"},o.a.createElement(me.a,{container:!0},o.a.createElement(me.a,{item:!0,xs:12,sm:12,md:5},o.a.createElement(lo,{setAlert:t,ticket:s,categories:n,ticketFetch:m,ticketLoading:u,tags:r,ticketCommentsFetch:d,onClose:L})),o.a.createElement(me.a,{item:!0,xs:12,md:7,className:a.bgCommentDialog},o.a.createElement(me.a,{item:!0,xs:12,md:11,className:a.bgCommentDialog},o.a.createElement(wr.a,null,o.a.createElement(xn.a,{value:f,onChange:function(e,t){return h(t)},indicatorColor:"primary"},o.a.createElement(Sn.a,{label:"Atividade"}),o.a.createElement(Sn.a,{label:"Participantes (".concat(Object(N.get)(s,"participants_total_count",0),")")})))),o.a.createElement(_o,{value:0,activeTabValue:f},o.a.createElement(wo,{setAlert:t,ticket:s,ticketCommentsFetch:d,ticketCommentsData:b,ticketCommentsLoading:p,canEditForm:T,isArchived:A,isMemberRequester:w,archiveTicketLoading:g,unarchiveTicketLoading:l,isAgentUser:j,onClose:i})),o.a.createElement(_o,{value:1,activeTabValue:f},o.a.createElement(Lo,{setAlert:t,ticket:s,ticketLoading:u,refetch:function(){m(!0)}})))))})),Uo=la(Qr.getComments,{name:"ticketComments",init:!1,options:function(e){var t=e.ticket;return{variables:Object(N.get)(t,"id")}}}),zo=la(or.getTicket,{name:"ticket",init:!1,options:function(e){var t=e.ticket,a=e.setCurrentTicket,n=e.onClose;return{variables:Object(N.get)(t,"id"),onRequestFinished:function(e){a(Object(N.get)(e,"ticket"))},onRequestError:function(e){var a={id:Object(N.get)(t,"id"),title:Object(N.get)(t,"title")};G.hit("TicketModal - Closed",a),n(e,"Erro ao abrir esse ticket")}}}}),Wo=Object(Z.b)(Object($.a)(Mo,{withTheme:!0}),h.g,Object(Z.e)({setFormData:function(e){var t=e.setFormDataRaw,a=e.formData;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),Object(Z.h)("currentTicket","setCurrentTicket",{}),Object(Z.h)("selectedAssignees","setSelectedAssignees",[]),Object(Z.h)("selectedTags","setSelectedTags",[]),Object(Z.h)("initialTitle","setInitialTitle",""),Object(Z.h)("lastTitle","setLastTitle",""),Object(Z.h)("activeTab","setActiveTab",0),Uo,zo,Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.ticket,a=e.setCurrentTicket,n=e.setSelectedAssignees,r=e.setSelectedTags;n(Object(N.map)(Object(N.get)(t,"assignees"),(function(e){return e.id}))),r(Object(N.map)(Object(N.get)(t,"ticket_tags"),(function(e){return e.id}))),a(t)}}),Object(Z.g)(["open"],(function(e){var t=e.open,a=e.setCurrentTicket,n=e.setSelectedAssignees,r=e.ticketFetch,o=e.ticketCommentsFetch,c=e.ticket,i=e.setInitialTitle,l=e.setSelectedTags;if(t){var s={id:Object(N.get)(c,"id"),title:Object(N.get)(c,"title")};G.hit("TicketModal - Opened",s),Object(N.get)(c,"mark_as_read")||Object(N.get)(c,"viewer_is_only_participant")||or.markAsRead(c.id),a(c),n(Object(N.map)(Object(N.get)(c,"assignees"),(function(e){return e.id}))),l(Object(N.map)(Object(N.get)(c,"ticket_tags"),(function(e){return e.id}))),i(Object(N.get)(c,"title")),r(!0),o(!0)}})))(qo),Vo=function(e){return Object(f.a)(Object(f.a)({},Vr(e)),{},{paper:{overflowX:"auto",marginRight:"auto",marginLeft:"auto"},showMore:{display:"flex",margin:"0 auto",padding:15}})},Ho=dr.STATUSES,Yo=Object(r.memo)((function(e){var t=e.ticket,a=e.viewer,n=e.index,r=e.classes,c=e.onOpenTicket;if(!a)return null;var i=Object(N.get)(t,"created_at"),l=i?"".concat(A()(i).format("DD/MM/YYYY hh:mm")):"--",s=Object(N.get)(t,"archived_at"),m=s?"".concat(A()(s).format("DD/MM/YYYY hh:mm")):"--",u=Object(N.get)(t,"assignees",[]),d=Object(N.get)(t,"ticket_tags",[]),b=Object(N.get)(Object(N.find)(Ho,(function(e){return e.key===Object(N.get)(t,"status")})),"label","--"),p=n%2?r.bgWhite:r.bgGray;return o.a.createElement(Ta.a,{className:p,style:{cursor:"pointer"},onClick:function(){return c(t)}},o.a.createElement(xa.a,{className:r.tableTinyCell},o.a.createElement("span",{className:r.cellText},b)),o.a.createElement(xa.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},Object(N.get)(t,"title"))),o.a.createElement(xa.a,{className:r.tableTinyCell},o.a.createElement("span",{className:r.cellText},Object(N.get)(t,"category.title"))),o.a.createElement(xa.a,{className:r.tableTinyCell},o.a.createElement("span",{className:r.cellText},d.map((function(e){return e.title})).join(", "))),o.a.createElement(xa.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},l)),o.a.createElement(xa.a,{className:r.tableSmallCell},o.a.createElement("div",{className:r.cardAvatarContainer},u.map((function(e){return o.a.createElement("div",{key:e.id,className:r.cardAvatarImage},o.a.createElement(Ya,{name:"".concat(Object(N.get)(e,"name")," ").concat(Object(N.get)(e,"lastname")),photoUrl:Object(N.get)(e,"photo_url")}))})))),o.a.createElement(xa.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},m)))})),Go=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Vo(e)),{},{cardAvatarImage:{marginRight:5,marginTop:5},cardAvatarContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap"}})}),{withTheme:!0}),ur)(Yo),Qo=Object(r.memo)((function(e){var t=e.tickets,a=e.loading,n=e.setAlert,r=e.categories,c=e.tags,i=e.assignees,l=e.classes,s=e.ticketToOpenModal,m=e.onCloseTicketModal,u=e.onOpenTicketModal,d=e.showMore,b=e.showMoreLoading,p=e.onShowMoreArchiveds,g=Ca()(t,["archived_at"]).reverse();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:l.container},o.a.createElement(Xa.a,{className:l.paper},o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:l.tableTinyCell},"STATUS"),o.a.createElement(xa.a,{className:l.tableSmallCell},"TICKET"),o.a.createElement(xa.a,{className:l.tableTinyCell},"CATEGORIA"),o.a.createElement(xa.a,{className:l.tableSmallCell},"ETIQUETAS"),o.a.createElement(xa.a,{className:l.tableSmallCell},"SOLICITADO EM"),o.a.createElement(xa.a,{className:l.tableSmallCell},"RESPONS\xc1VEIS"),o.a.createElement(xa.a,{className:l.tableSmallCell},"ARQUIVADO EM"))),o.a.createElement(Na.a,null,a?o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{colSpan:7,align:"center"},o.a.createElement(pe,null))):ba()(g)?g.map((function(e,t){return o.a.createElement(Go,{index:t,key:e.id,ticket:e,onOpenTicket:u,loading:a})})):o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:l.empty,colSpan:7,align:"center"},"Nenhum ticket arquivado")))),d&&o.a.createElement(ue.a,{color:"primary",size:"large",onClick:p,disabled:b,className:l.showMore},b?"Carregando...":"Ver mais arquivados"))),o.a.createElement(Wo,{open:!Gr()(s),ticket:s,categories:r,tags:c,assignees:i,onClose:m,setAlert:n}))})),Jo=Object(Z.b)(Object($.a)(Vo,{withTheme:!0}))(Qo),Xo=Object(r.memo)((function(e){var t=e.classes,n=e.history,r=Object(Da.a)(),c=Object(Ma.a)(r.breakpoints.down("sm")),i=c?275:480,l=c?76:132;return o.a.createElement("section",{className:t.welcome},o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.root},o.a.createElement(ge.a,{variant:"h5",className:t.center},o.a.createElement("b",null,"Organize suas demandas")),o.a.createElement("p",{className:t.center},"Organize de forma inteligente as demandas de seu ambiente de trabalho.",o.a.createElement("br",null),"Todos colaboradores podem abrir solicita\xe7\xf5es facilmente, seja no computador, celular, QR code ou Slack.",o.a.createElement("br",null),"Chega de dor de cabe\xe7a com planilhas ou sistemas que n\xe3o te servem mais."),o.a.createElement("p",{className:t.center},o.a.createElement("img",{src:a(732),width:i,height:l,alt:"Organize suas demandas"})),o.a.createElement("br",null),o.a.createElement("p",{className:t.center},o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",onClick:function(){I.setTicketsWelcomeVisited(),n.replace("/tickets")}},"Come\xe7ar")))))})),Ko=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{welcome:{marginTop:30}})}),{withTheme:!0}),h.g)(Xo),Zo=a(545),$o=a.n(Zo),ec=a(544),tc=a.n(ec),ac=a(186),nc={kanban:{display:"inline-flex",userSelect:"none",alignItems:"center",justifyContent:"center",height:740},column:{margin:10,display:"flex",flexDirection:"column",marginBottom:10,minWidth:328,height:740},columnLoading:{transition:"background-color 500ms fade-out 1s",backgroundColor:"rgba(96, 115, 137, 0.04)"},columnHeader:{display:"flex",alignItems:"center",justifyContent:"center",border:0,backgroundColor:"rgba(96, 115, 137, 0.04)",transition:"background-color 0.1s ease",height:50,userSelect:"none"},columnTitle:{padding:10,transition:"background-color ease 0.2s",flexGrow:1,userSelect:"none",position:"relative",fontSize:14,fontWeight:600,color:"#515c6a"},columnTitleLoading:{color:"rgb(224, 224, 224)"},list:{backgroundColor:"#F2F3F8",display:"flex",flexDirection:"column",padding:10,borderRadius:8,paddingBottom:0,transition:"background-color 0.1s ease, opacity 0.1s ease",userSelect:"none",minHeight:250,marginBottom:10},card:{cursor:"pointer",height:"auto"},cardContent:{flexGrow:1,flexBasis:"100%",display:"flex",flexDirection:"column",marginBottom:8}},rc=Object(r.memo)((function(e){var t=e.provided,a=void 0===t?{}:t,n=e.children;return o.a.createElement("a",Object.assign({style:nc.card,ref:a.innerRef},a.draggableProps,a.dragHandleProps),n)}));rc.propTypes={children:ne.a.any,provided:ne.a.any};var oc=Object(r.memo)((function(e){var t=e.provided,a=e.renderCard,n=e.row,r=e.cardWrapperStyle,c=e.disableDragDrop;return o.a.createElement(rc,{provided:c?{}:t},o.a.createElement("div",{style:Object(f.a)(Object(f.a)({},nc.cardContent),r)},a(n)))})),cc=Object(r.memo)((function(e){var t=e.provided,a=void 0===t?{}:t,n=e.style,r=e.children;return o.a.createElement("div",Object.assign({style:Object(f.a)(Object(f.a)({},nc.list),n),ref:a.innerRef},a.droppableProps),r)}));cc.propTypes={children:ne.a.any,provided:ne.a.any,style:ne.a.any};var ic=Object(r.memo)((function(e){var t=e.column,a=e.cardWrapperStyle,n=e.renderCard,r=e.disableDragDrop,c=Gr()(v()(t,"rows"))?[]:t.rows;return j()(c,(function(e,t){return r?o.a.createElement(oc,{key:t,row:e,renderCard:n,cardWrapperStyle:a,disableDragDrop:r}):o.a.createElement(ac.b,{key:e.id,draggableId:e.id,index:t},(function(c,i){return o.a.createElement(oc,{key:t,row:e,provided:c,dragSnapshot:i,renderCard:n,cardWrapperStyle:a,disableDragDrop:r})}))}))})),lc=Object(r.memo)((function(e){var t=e.listStatus,a=e.column,n=e.disableDragDrop,r=e.renderCard,c=e.columnStyle,i=e.cardWrapperStyle,l=e.isDraggingFrom;return n?o.a.createElement(cc,{style:c},o.a.createElement(ic,{column:a,renderCard:r,disableDragDrop:n,cardWrapperStyle:i})):o.a.createElement(ac.c,{droppableId:t||"ROW",isDropDisabled:l,type:"ROW"},(function(e){return o.a.createElement(cc,{style:c,provided:e},o.a.createElement(ic,{column:a,renderCard:r,disableDragDrop:n,cardWrapperStyle:i}),e.placeholder)}))}));lc.propTypes={listStatus:ne.a.string,renderCard:ne.a.func,column:ne.a.object,columnStyle:ne.a.object,cardWrapperStyle:ne.a.object,disableDragDrop:ne.a.bool,isDraggingFrom:ne.a.bool};var sc=lc,mc=Object(r.memo)((function(e){var t=e.index,a=e.column,n=e.renderCard,r=e.columnStyle,c=e.columnWrapperStyle,i=e.cardWrapperStyle,l=e.columnTitleStyle,s=e.columnHeaderStyle,m=e.disableDragDrop,u=e.loading,d=e.isDraggingFrom,b=e.actionComponent;return o.a.createElement("div",{style:Object(f.a)(Object(f.a)({},nc.column),c)},o.a.createElement("header",{style:Object(f.a)(Object(f.a)({},nc.columnHeader),s)},o.a.createElement("h4",{style:Object(f.a)(Object(f.a)(Object(f.a)({},nc.columnTitle),l),u?nc.columnTitleLoading:{})},"".concat(v()(a,"title")," (").concat(ba()(v()(a,"rows")),")")),b),o.a.createElement(sc,{key:t,columnStyle:r,column:a,loading:u,listStatus:v()(a,"status"),renderCard:n,cardWrapperStyle:i,disableDragDrop:m,isDraggingFrom:d}))}));mc.propTypes={index:ne.a.number,renderCard:ne.a.func,loading:ne.a.bool,column:ne.a.object,columnWrapperStyle:ne.a.object,columnStyle:ne.a.object,columnTitleStyle:ne.a.object,columnHeaderStyle:ne.a.object,cardWrapperStyle:ne.a.object,disableDragDrop:ne.a.bool,actionComponent:ne.a.object,isDraggingFrom:ne.a.bool};var uc=mc,dc=dr.STATUSES,bc=dr.STATUS_PENDING,pc=dr.STATUS_IN_PROGRESS,gc=dr.STATUS_DONE,fc=function(e,t){return Object(N.map)(e,(function(e){return e.status})).indexOf(t)},hc=function(e){return Object(N.map)(dc,(function(t,a){var n=Object(N.get)(t,"key"),r=Object(N.filter)(e,(function(e){return e.status===n}));return{index:a,status:n,title:Object(N.get)(t,"label","").toUpperCase(),rows:r}}))},Ec=Object(r.memo)((function(e){var t=e.columns,a=e.setColumns,n=e.onDragEnd,r=e.renderCard,c=e.loading,i=e.columnWrapperStyle,l=e.cardWrapperStyle,s=e.columnStyle,m=e.columnHeaderStyle,u=e.columnTitleStyle,d=e.disableDragDrop,b=e.currentDraggingSource,p=e.setCurrentDraggingSource,g=e.actionPending,h=e.actionInProgress,E=e.actionDone,v=function(e){return e===bc&&g?g:e===pc&&h?h:e===gc&&E?E:null};return o.a.createElement(ac.a,{onDragStart:function(e){p(e.source)},onDragEnd:function(e){if(p(null),e.destination){var r=e.source,o=e.destination;if(r.droppableId!==o.droppableId)if(!(!o||r.droppableId===o.droppableId&&r.index===o.index)){var c=Object(N.cloneDeep)(t),i=fc(t,r.droppableId),l=fc(t,o.droppableId),s=Object(N.cloneDeep)(t[i].rows),m=Object(N.cloneDeep)(t[l].rows),u=s.splice(r.index,1),d=Object(xt.a)(u,1)[0];m.splice(o.index,0,d),c[i].rows=Object(N.cloneDeep)(s),c[l].rows=Object(N.cloneDeep)(m),a(Object(N.cloneDeep)(c)),n(e)}}}},o.a.createElement("div",{style:nc.kanban},Object(N.map)(dc,(function(e,a){return o.a.createElement(uc,{key:a,index:a,loading:c,column:t[a],renderCard:r,columnHeaderStyle:m,columnTitleStyle:u,columnStyle:Object(f.a)(Object(f.a)({},s),c?nc.columnLoading:{}),columnWrapperStyle:i,cardWrapperStyle:l,disableDragDrop:d,actionComponent:v(e.key),isDraggingFrom:Object(N.get)(b,"droppableId")===e.key})}))))})),vc=Object(Z.b)(Object(Z.h)("columns","setColumns",[]),Object(Z.h)("currentDraggingSource","setCurrentDraggingSource",null),Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.data;(0,e.setColumns)(hc(t))}}),Object(Z.g)(["data","loading"],(function(e){var t=e.data;(0,e.setColumns)(hc(t))})))(Ec),Oc=a(902),jc=a(904),Cc=a(944),yc=a(935),kc=a(543),Ac=a.n(kc),wc=Object(r.memo)((function(e){var t=e.classes,a=e.ticket,n=e.loading,r=e.onClickCard,c="".concat(v()(a,"requester.name")," ").concat(v()(a,"requester.lastname","")),i=v()(a,"assignees"),l=i.map((function(e){return{assigneeName:"".concat(v()(e,"name","")," ").concat(v()(e,"lastname","")),assignePhotoUrl:v()(e,"photo_url")}})),s=v()(a,"created_at")?"".concat(A()(a.created_at).fromNow()," por "):"",m=v()(a,"title",""),u=v()(a,"category.title",""),d=v()(a,"ticket_tags",[]),b=a.is_standby?t.standbyCard:t.card;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Oc.a,{className:b,onClick:function(){n||r(a)}},o.a.createElement(jc.a,{className:t.cardContent},!v()(a,"viewer_has_read")&&o.a.createElement(Ac.a,{className:t.notReadIndicator}),!n&&function(e,t){if(e){var a=A()(e).format("MMM D"),n=A()().startOf("day"),r=A()(e).startOf("day"),c=r.isSame(n,"day"),i=1===r.diff(n,"days"),l=r.isBefore(n,"day");return c?o.a.createElement(Cc.a,{label:a,size:"small",className:t.cardChipToday}):i?o.a.createElement(Cc.a,{label:a,size:"small",className:t.cardChipTomorrow}):l?o.a.createElement(Cc.a,{label:a,size:"small",className:t.cardChipExpired}):o.a.createElement(Cc.a,{label:a,size:"small",className:t.cardChipFarFromExpiration})}return null}(v()(a,"deadline"),t),o.a.createElement(ge.a,{variant:"subtitle1",className:t.cardTitle},n?o.a.createElement(yc.a,{animation:"wave"}):o.a.createElement("b",null,m)),n?o.a.createElement(yc.a,{animation:"wave"}):ba()(d)?o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{variant:"body2",component:"small"},d.map((function(e){return"#".concat(e.title)})).join(" ")),o.a.createElement("br",null)):o.a.createElement(o.a.Fragment,null),n?o.a.createElement(yc.a,{animation:"wave",width:150}):o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},s,o.a.createElement("b",null,c)),o.a.createElement("div",{className:t.cardAction},o.a.createElement("div",{className:t.cardAvatar},n?o.a.createElement(yc.a,{animation:"wave",width:100}):i&&o.a.createElement("div",{className:t.cardAvatarContainer},l.map((function(e,a){return o.a.createElement("div",{key:"".concat(e.assigneeName,"_").concat(a.toString()),className:t.cardAvatarImage},o.a.createElement(Ya,{name:e.assigneeName,photoUrl:e.assignePhotoUrl}))})))),o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},n?o.a.createElement(yc.a,{animation:"wave",width:50}):u)))))})),Tc=Object(Z.b)(Object($.a)((function(e){var t={padding:0,width:308,height:"auto",minHeight:"auto",maxHeight:"auto",borderRadius:8,boxShadow:"0 3px 3px 0 rgba(133, 133, 133, 0.2)",border:"1px solid #eee"};return{card:t,standbyCard:Object(f.a)(Object(f.a)({},t),{},{borderColor:e.palette.secondary.light}),cardContent:{marginBottom:0,paddingBottom:"5px !important"},cardAction:{marginTop:10,marginBottom:15,display:"inline-flex",width:"100%",alignItems:"center",justifyContent:"space-between"},cardTitle:{lineHeight:"1.5em",marginBottom:5},cardChipToday:{float:"right",backgroundColor:ve.a[700],color:"white"},cardChipTomorrow:{float:"right",backgroundColor:Ua.a[700],color:"white"},cardChipExpired:{float:"right",backgroundColor:ve.a[200],color:"white"},cardChipFarFromExpiration:{float:"right",backgroundColor:"rgb(242, 243, 248)",color:"black"},notReadIndicator:{float:"right",fontSize:"1rem",color:e.palette.success.dark,marginLeft:e.spacing(1)},cardAvatar:{display:"inline-flex",width:"100%",height:"auto",minHeight:"auto",maxHeight:"auto",alignItems:"center"},cardAvatarName:{marginLeft:10,marginTop:0,lineHeight:"1.2em"},cardAvatarImage:{marginRight:5,marginTop:5},cardAvatarContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap"}}}),{withTheme:!0}),h.g)(wc),xc={wrapper:{marginLeft:0,marginRight:10},header:{backgroundColor:"#FFF",padding:10,paddingTop:0,paddingBottom:0,height:60,width:"100%",borderTopLeftRadius:5,borderTopRightRadius:5},headerTitle:{color:"#313131"},column:{width:"100%",backgroundColor:"#F2F3F8",height:640,overflowY:"scroll"}},Sc=Object(r.memo)((function(e){var t=e.anchorEl,a=e.setAnchorEl,n=e.archiveFetch,r=e.archiveLoading,c=e.doneTickets,i=e.theme,l=e.classes,s=Boolean(t),m=i.mainColor;return o.a.createElement("div",null,r?o.a.createElement(se.a,{color:m,className:l.progress,variant:"indeterminate",disableShrink:!0,thickness:5,size:25}):o.a.createElement(o.a.Fragment,null,o.a.createElement(tt.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},o.a.createElement(br.a,null)),o.a.createElement(rn.a,{id:"long-menu",anchorEl:t,keepMounted:!0,open:s,onClose:function(){a(null)},PaperProps:{style:{maxHeight:216,width:"23ch"}}},o.a.createElement(Rt.a,{onClick:function(){window.confirm("Deseja arquivar os tickets?")&&(a(!1),n(c))}},"Arquivar conclu\xeddos"))))})),Nc=la(or.archiveTicket,{name:"archive",init:!1,options:function(e){var t=e.setAlert,a=e.ticketsFetch,n=e.doneTickets;return{variables:{ticketsIds:n},onRequestFinished:function(){var e=Object(N.size)(n)>1?"tickets conclu\xeddos foram arquivados":"ticket conclu\xeddo foi arquivado",r=0===Object(N.size)(n)?"Nenhum ticket foi arquivado":e;a(!0),t({alertMsg:"".concat(0===Object(N.size)(n)?"":Object(N.size)(n)," ").concat(r),alertType:"success",showAlert:!0})},onRequestError:function(){t({alertMsg:"Erro ao arquivar tickets",alertType:"warning",showAlert:!0})}}}}),Dc=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{progress:{marginRight:10,marginTop:12}})}),{withTheme:!0}),Nc,Object(Z.h)("anchorEl","setAnchorEl",null),Object(Z.h)("isExportModalOpen","setIsExportModalOpen",!1))(Sc),Mc=Object(r.memo)((function(e){var t=e.tickets,a=e.categories,n=e.tags,r=e.assignees,c=e.loading,i=e.onClickCard,l=e.onCloseCardModal,s=e.lockBoard,m=e.ticketToOpenModal,u=e.onDragCard,d=e.setAlert,b=e.doneTickets,p=e.ticketsFetch,g=e.isManager,f=e.history;return o.a.createElement(o.a.Fragment,null,o.a.createElement(vc,{actionPending:o.a.createElement(tt.a,{"aria-label":"New Ticket",color:"primary",onClick:function(){return f.push("/tickets/novo")}},o.a.createElement(tc.a,null)),actionDone:o.a.createElement(o.a.Fragment,null,o.a.createElement(Fa.a,{title:"Aten\xe7\xe3o: Tickets conclu\xeddos acima de 10 dias ser\xe3o automaticamente arquivados.",arrow:!0,placement:"top"},o.a.createElement($o.a,{color:"disabled"})),g&&o.a.createElement(Dc,{doneTickets:b,setAlert:d,ticketsFetch:p})),data:t||[],disableDragDrop:s,loading:c,renderCard:function(e){return o.a.createElement(Tc,{ticket:e,loading:c,onClickCard:i,onCloseModal:l})},onDragEnd:function(e){var t=e.draggableId,a=e.destination,n={variables:{id:t,status:v()(a,"droppableId"),position:v()(a,"index")}};u(n)},columnStyle:xc.column,columnHeaderStyle:xc.header,columnTitleStyle:xc.headerTitle,columnWrapperStyle:xc.wrapper}),o.a.createElement(Wo,{open:!Gr()(m),ticket:m,categories:a,tags:n,assignees:r,onClose:l,setAlert:d}))}));Mc.propTypes={setAlert:ne.a.func,tickets:ne.a.array,tags:ne.a.array,categories:ne.a.array,assignees:ne.a.array,lockBoard:ne.a.bool,loading:ne.a.bool,history:ne.a.object,ticketToOpenModal:ne.a.object,onCloseCardModal:ne.a.func,onDragCard:ne.a.func,onClickCard:ne.a.func,doneTickets:ne.a.array,ticketsFetch:ne.a.func,isManager:ne.a.bool};var Fc=Object(Z.b)(Object($.a)(xc,{withTheme:!0}),h.g)(Mc),Ic=dr.STATUSES,Rc=dr.STATUS_DONE,Lc=Object(N.find)(Ic,(function(e){return e.key===Rc})).key,Bc=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.assigneeId,c=e.setAssigneeId,i=e.code,s=e.setCode,d=e.deadline,b=e.setDeadline,p=e.locationId,g=e.setLocationId,f=e.archived,h=e.setArchived,E=e.tickets,v=e.ticketsFetch,O=e.ticketByCodeFetch,j=e.priority,C=e.setPriority,y=e.ticketTagsData,k=e.ticketTagsError,w=e.ticketTagsLoading,T=e.status,x=e.setStatus,S=e.ticketsError,D=e.ticketsLoading,M=e.ticketCategoriesData,F=e.ticketLoading,R=e.ticketCategoriesError,L=e.ticketCategoriesLoading,B=e.categoryId,_=e.setCategoryId,q=e.ticketAssigneesData,U=e.ticketAssigneesError,z=e.ticketAssigneesLoading,W=e.history,V=e.ticketToOpenModal,H=e.setTicketToOpenModal,Y=e.ticketByCodeLoading,Q=e.moveTicketFetch,J=e.showMoreArchiveds,X=e.setPerPage,K=e.setPage,Z=e.page,$=e.setTickets,ee=e.ticketTagId,ae=e.setTicketTagId,ne=e.showMoreLoading,re=e.setShowMoreLoading,oe=e.subscriptionData,ce=e.viewer,ie=e.currentRole,le=e.isAgent,se=e.isManager,de=Object(Da.a)(),be=Object(Ma.a)(de.breakpoints.down("sm"));if(Object(N.get)(ce,"company.has_ticket_support")){if(!I.isTicketsWelcomeVisited())return o.a.createElement("div",{className:n.root},o.a.createElement(An,null),o.a.createElement(Ko,null));var pe=Object(N.sortBy)(Object(N.get)(ce,"locations",[]),["name"]),fe="MEMBER"===ie,he=Object(N.filter)(E,(function(e){return e.status===Lc})),Ee=Object(N.map)(he,(function(e){return e.id})),ve=Object(N.sortBy)(Object(N.get)(y,"ticketTags",[]),["title"]),Oe=Object(N.sortBy)(Object(N.get)(M,"ticketCategories",[]),["title"]),je=Object(N.sortBy)(Object(N.get)(q,"members",[]),["name","lastname"]),Ce=Object(N.get)(oe,"subscription"),ye=Object(N.get)(ce,"company.trial_expiration"),ke=D||L||w||z||Y||F,Ae=ke,we=dr.PRIORITIES,Te=S||R||U||k,xe=function(e){X(e?20:void 0),K(e?0:void 0),$([])},Se=function(e){H(e),window.history.pushState("","","/#/tickets/".concat(e.id))},Ne=function(e,t){P.isDevelopment&&e&&console.error(e),t&&a({alertMsg:t,alertType:e?"error":"success",showAlert:!0,actionButton:e?null:"Ver ticket",onClickAction:e?null:function(){return W.push("/tickets/".concat(V.id))}}),H(null),f||v(!1),window.history.pushState("","","/#/tickets")},De=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(!1,"",null,t);case 2:v(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(e){var t=e.target.value.replace(/[\D]+/g,"");i!==t&&s(t)},Fe=function(){Object(N.size)(i)&&pt.isMobile()&&(H(null),O(!0))},Ie=function(e){Object(N.size)(i)&&13===e.keyCode&&(H(null),O(!0))},Re=function(e){var t=Object(N.get)(e,"target.value","all");c(t);var a={select_assignee:t};G.hit("Tickets - FilteredByAssignee",a),xe(f),v(!0)},Le=function(e){b(e),G.hit("Tickets - FilteredByDeadline"),xe(f),v(!0)},Be=function(e){var t=Object(N.get)(e,"target.value","all");C(t);var a={priority:j};G.hit("Tickets - FilteredByPriority",a),xe(f),v(!0)},Pe=function(e){var t=Object(N.get)(e,"target.value","all");_(t);var a={select_category:t};G.hit("Tickets - FilteredByCategory",a),xe(f),v(!0)},_e=function(e){var t=Object(N.get)(e,"target.value","all");ae(t);var a={select_tag:t};G.hit("Tickets - FilteredByTicketTag",a),xe(f),v(!0)},qe=function(e){var t=Object(N.get)(e,"target.value","all");g(t);var a={select_location:t};G.hit("Tickets - FilteredByLocation",a),xe(f),v(!0)},Ue=function(e){var t=Object(N.get)(e,"target.value","all");x(t);var a={select_status:t};G.hit("Tickets - FilteredByStatus",a),xe(f),v(!0)},ze=t.showAlert,We=t.alertType,Ve=t.alertMsg,Ye=t.actionButton,Ge=t.onClickAction,Qe=null;ze&&(Qe=o.a.createElement(ct,{message:Ve,type:We,actionButton:Ye,onClickAction:Ge,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1,actionButton:null,onClickAction:null})}}));var Je=function(){return o.a.createElement(me.a,{container:!0,spacing:2},o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:1},o.a.createElement(ht.a,{fullWidth:!0},o.a.createElement(He.a,{label:"Busca",placeholder:"N\u02da",disabled:Ae,value:i,type:"tel",InputLabelProps:{shrink:!0},onKeyDown:Ie,onBlur:Fe,onChange:Me}))),Object(N.size)(pe)>1&&o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(ht.a,{fullWidth:!0},o.a.createElement(He.a,{select:!0,label:"Local",className:n.filterSelect,disabled:Ae,value:p,InputLabelProps:{shrink:!0},onChange:qe},o.a.createElement(Rt.a,{value:"all"},"Todos"),pe.map((function(e){return o.a.createElement(Rt.a,{key:e.id,value:e.id},e.name)}))))),!fe&&o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(ht.a,{fullWidth:!0},o.a.createElement(He.a,{select:!0,label:"Respons\xe1vel",className:n.filterSelect,disabled:Ae,value:r,InputLabelProps:{shrink:!0},onChange:Re},o.a.createElement(Rt.a,{value:"all"},"Todos"),o.a.createElement(Rt.a,{value:""},"Nenhum"),je.map((function(e){return o.a.createElement(Rt.a,{key:e.id,value:e.id},e.fullname)}))))),o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(ht.a,{fullWidth:!0},o.a.createElement(He.a,{select:!0,label:"Categoria",className:n.filterSelect,disabled:Ae,value:B,InputLabelProps:{shrink:!0},onChange:Pe},o.a.createElement(Rt.a,{value:"all"},"Todos"),Oe.map((function(e){return o.a.createElement(Rt.a,{key:e.id,value:e.id},e.title)}))))),Object(N.size)(ve)?o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(ht.a,{fullWidth:!0},o.a.createElement(He.a,{select:!0,label:"Etiqueta",className:n.filterSelect,disabled:Ae,value:ee,InputLabelProps:{shrink:!0},onChange:_e},o.a.createElement(Rt.a,{value:"all"},"Todas"),ve.map((function(e){return o.a.createElement(Rt.a,{key:e.id,value:e.id},e.title)}))))):o.a.createElement(o.a.Fragment,null),f&&o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(ht.a,{fullWidth:!0},o.a.createElement(He.a,{select:!0,label:"Status",className:n.filterSelect,disabled:Ae,value:T,InputLabelProps:{shrink:!0},onChange:Ue},o.a.createElement(Rt.a,{value:"all"},"Todos"),Ic.map((function(e){return o.a.createElement(Rt.a,{key:e.key,value:e.key},e.label)}))))),o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(ht.a,{fullWidth:!0},o.a.createElement(He.a,{select:!0,label:"Prioridade",className:n.filterSelect,disabled:Ae,value:j,InputLabelProps:{shrink:!0},onChange:Be},o.a.createElement(Rt.a,{value:"all"},"Todas"),we.map((function(e){return o.a.createElement(Rt.a,{key:e.key,value:e.key},e.label)}))))),o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:1},o.a.createElement(ht.a,{fullWidth:!0},o.a.createElement(Pt.a,{libInstance:A.a,utils:Bt.a,locale:P.locale},o.a.createElement(_t.a,{autoOk:!0,label:"Prazo",clearable:!0,animateYearScrolling:!0,className:n.filterSelect,disabled:Ae,invalidDateMessage:"Formato inv\xe1lido",InputLabelProps:{shrink:!0},value:d,onChange:Le,placeholder:"DD/MM/YYYY",format:"DD/MM/YYYY",cancelLabel:"Cancelar",clearLabel:"Limpar"})))))},Xe="Tickets".concat(f?" arquivados":"");return o.a.createElement("div",{className:n.root},o.a.createElement(An,{alertBox:Qe,error:Te}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement(er,{trialExpiration:ye,willDowngradeAt:Object(N.get)(Ce,"willDowngradeAt"),willCancelAt:Object(N.get)(Ce,"willCancelAt")}),o.a.createElement(Yn.a,{display:"flex",justifyContent:"space-between",mb:2},o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,Object(N.size)(E)?"".concat(Xe," (").concat(Object(N.size)(E),")"):Xe)),o.a.createElement(Yn.a,{display:"flex"},o.a.createElement(ue.a,{variant:"contained",component:l.b,to:"/tickets/novo",color:"primary",size:"large",disabled:Ae,className:be?n.fab:null},"Novo ticket"),le&&o.a.createElement(Yn.a,{ml:1},o.a.createElement(Hr,{setAlert:a,isArchived:f,onToggleArchived:function(e){h(e),xe(e),v(!0)}})))),be?le&&o.a.createElement(Gn.a,null,o.a.createElement(Qn.a,{expandIcon:o.a.createElement(Kn.a,null)},o.a.createElement(ge.a,{variant:"subtitle1"},"Filtros")),o.a.createElement(Jn.a,null,Je())):le&&Je()),f?o.a.createElement(Jo,{tickets:E,ticketToOpenModal:V,categories:Oe,tags:ve,assignees:je,loading:ke,onOpenTicketModal:Se,onCloseTicketModal:Ne,onShowMoreArchiveds:function(){re(!0),X(20),K(Z+1),v(!1)},showMore:J,showMoreLoading:ne,setAlert:a}):o.a.createElement("div",{className:n.container},o.a.createElement(me.a,{container:!0},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Fc,{isManager:le,ticketsFetch:v,doneTickets:Ee,lockBoard:fe,tickets:E,ticketToOpenModal:V,categories:Oe,tags:ve,assignees:je,loading:ke,onClickCard:Se,onDragCard:De,onCloseCardModal:Ne,setAlert:a}))))))}return o.a.createElement("div",{className:n.root},o.a.createElement(An,null),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement(me.a,{container:!0,spacing:1},o.a.createElement("div",{className:n.centerHeaderView},se?o.a.createElement(ar,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{className:n.emptyHeaderIcon}),o.a.createElement("b",{className:n.emptyHeaderTitle},"Essa conta n\xe3o possui o servi\xe7o de tickets")))))))})),Pc=la(mr.get,{name:"subscription"}),_c=la(ir.getCategories,{name:"ticketCategories"}),qc=la(cr.getTags,{name:"ticketTags"}),Uc=la(or.getAssignables,{name:"ticketAssignees"}),zc=la(or.moveTicket,{name:"moveTicket",init:!1,options:function(e){var t=e.setAlert;return{onRequestError:function(e){var a=e.errors?Object.values(e.errors).flat().join():"Erro ao mover esse ticket";t({alertMsg:a,alertType:"error",showAlert:!0})}}}}),Wc=la(or.getTicketByCode,{name:"ticketByCode",init:!1,options:function(e){var t=e.setAlert,a=e.setCode,n=e.setTicketToOpenModal,r=e.code;return{variables:r,onRequestFinished:function(e){var t=Object(N.get)(e,"ticket");n(t),a(""),window.history.pushState("","","/#/tickets/".concat(t.id))},onRequestError:function(){n(null),t({alertMsg:"Ticket ".concat(r," n\xe3o foi identificado"),alertType:"warning",showAlert:!0}),window.history.pushState("","","/#/tickets")}}}}),Vc=la(or.getTicket,{name:"ticket",init:!1,options:function(e){var t=e.match,a=e.setAlert,n=e.setTicketToOpenModal;return{variables:Object(N.get)(t,"params.id"),onRequestFinished:function(e){var t=Object(N.get)(e,"ticket");n(t),window.history.pushState("","","/#/tickets/".concat(t.id))},onRequestError:function(){n(null),a({alertMsg:"Este ticket n\xe3o foi identificado",alertType:"warning",showAlert:!0}),window.history.pushState("","","/#/tickets")}}}}),Hc=la(or.getTickets,{name:"tickets",init:!1,options:function(e){var t=e.locationId,a=e.assigneeId,n=e.categoryId,r=e.deadline,o=e.priority,c=e.archived,i=e.status,l=e.perPage,s=e.page,m=e.setShowMoreArchiveds,u=e.setTickets,d=e.tickets,b=e.setShowMoreLoading;return{variables:{locationId:t,ticketTagId:e.ticketTagId,assigneeId:a,categoryId:n,deadline:r,priority:o,archived:c,status:i,perPage:l,page:s},onRequestFinished:function(e){var t=Object(N.get)(e,"tickets",[]);c?(m(Object(N.size)(t)>=l),u(d.concat(t))):u(t),b(!1)},onRequestError:function(){b(!1)}}}}),Yc=Object(Z.b)(Object($.a)(Vr,{withTheme:!0}),h.g,Object(Z.h)("assigneeId","setAssigneeId","all"),Object(Z.h)("code","setCode",""),Object(Z.h)("tickets","setTickets",[]),Object(Z.h)("ticketToOpenModal","setTicketToOpenModal"),Object(Z.h)("categoryId","setCategoryId","all"),Object(Z.h)("ticketTagId","setTicketTagId","all"),Object(Z.h)("locationId","setLocationId","all"),Object(Z.h)("priority","setPriority","all"),Object(Z.h)("status","setStatus","all"),Object(Z.h)("deadline","setDeadline",null),Object(Z.h)("archived","setArchived",!1),Object(Z.h)("perPage","setPerPage"),Object(Z.h)("page","setPage"),Object(Z.h)("showMoreArchiveds","setShowMoreArchiveds",!1),Object(Z.h)("showMoreLoading","setShowMoreLoading",!1),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1,actionButton:null,onClickAction:null}),ur,Object(Z.f)((function(e){var t=e.viewer,a=Object(N.get)(t,"role","MEMBER");return{currentRole:a,isAgent:Xe.includes(a),isManager:Je.includes(a)}})),Pc,Hc,Vc,Wc,qc,_c,Object(Z.a)((function(e){return e.isAgent}),Uc),zc,Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.ticketsFetch,a=e.ticketFetch,n=e.ticketToOpenModal,r=e.match,o=Object(N.get)(r,"params.id");Object(N.isEmpty)(n)&&t(!0),Object(N.size)(o)&&a(!1)}}))(Bc),Gc=Object(r.memo)((function(e){var t=e.id,a=e.classes,n=e.required,r=e.disabled,c=e.question,i=e.options,l=e.fieldType,s=e.showBlankError,m=e.onChangeQuestion,u=e.onCheckOption,d=s&&n;return"CHECKBOX"===l?o.a.createElement(ht.a,{component:"fieldset",className:a.checkboxControl,fullWidth:!0,error:d},o.a.createElement(Et.a,{component:"legend"},c),o.a.createElement(Ut.a,null,i.map((function(e){return o.a.createElement(zt.a,{key:e,label:e,control:o.a.createElement(Wt.a,{color:"primary",disabled:r,onChange:function(a){return u(e,a.target.checked,t)}})})}))),d&&o.a.createElement(Et.a,null,"selecione uma op\xe7\xe3o")):"SELECT"===l?o.a.createElement(ht.a,{fullWidth:!0,error:d},o.a.createElement(He.a,{select:!0,label:c,className:a.questionInput,disabled:r,InputLabelProps:{shrink:!0},SelectProps:{native:!0},onChange:function(e){return m(e.target.value,t)},variant:"outlined",error:d},i.map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),d&&o.a.createElement(Et.a,null,"selecione uma op\xe7\xe3o")):o.a.createElement(ht.a,{fullWidth:!0,error:d},o.a.createElement(He.a,{label:c,className:a.questionInput,multiline:"TEXT_AREA"===l,rows:"TEXT_AREA"===l?4:1,rowsMax:"TEXT_AREA"===l?4:1,disabled:r,InputLabelProps:{shrink:!0},onChange:function(e){return m(e.target.value,t)},variant:"outlined",error:d}),d&&o.a.createElement(Et.a,null,"este campo est\xe1 em branco"))})),Qc=Object(Z.b)(Object($.a)((function(e){return{checkboxControl:{margin:e.spacing(2)},questionInput:{marginTop:14}}}),{withTheme:!0}))(Gc),Jc=dr.PRIORITIES,Xc=dr.PRIORITY_NORMAL,Kc=function(){var e=I.getUserData(),t=Object(N.sortBy)(Object(N.get)(e,"locations",[]),["name"]);return{title:"",description:"",category_id:"",deadline:null,priority:Xc,source:"PORTAL",location_id:Object(N.get)(Object(N.first)(t),"id"),attachment_data:null,ticket_form_questions:Object(N.clone)([])}},Zc=function(e,t){var a=Object(N.find)(e,(function(e){return e.id===t})),n=Object(N.get)(a,"ticketFormQuestions",[]);return Object(N.map)(n,(function(e){var t="SELECT"===e.fieldType?Object(N.compact)([Object(N.first)(Object(N.get)(e,"options"))]):[];return Object(f.a)(Object(f.a)({},e),{},{value:t})}))},$c=Object(r.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.ticket,c=e.setTicketState,i=e.ticketLoading,s=e.ticketFetch,m=e.errors,u=e.ticketCategoriesLoading,d=e.categories,b=e.setShowQuestionError,p=e.isUploading,g=e.setIsUploading,f=e.showQuestionError,h=Object(Da.a)(),E=Object(Ma.a)(h.breakpoints.down("sm")),v=I.getUserData(),O=Object(N.get)(v,"company.has_ticket_support"),j=Je.includes(Object(N.get)(v,"role"));if(O){var C=a.showAlert,y=a.alertMsg,k=a.alertType,w=a.actionButton,T=a.onClickAction,x=null;C&&(x=o.a.createElement(ct,{message:y,type:k,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1,actionButton:""})},actionButton:w,onClickAction:T}));var S=Object(N.sortBy)(Object(N.get)(v,"locations",[]),["name"]),D=Xe.includes(Object(N.get)(v,"role")),M=u||i,F=M||p,R=function(){var e=Object(N.get)(r,"ticket_form_questions",[]),t=Object(N.reject)(e,(function(e){return!e.required}));return Boolean(Object(N.size)(Object(N.reject)(t,(function(e){return Object(N.size)(e.value)}))))},L=function(e,t){var a=Object(N.get)(r,"ticket_form_questions",[]),n=Object(N.findIndex)(a,(function(e){return e.id===t}));Object(N.set)(r,"ticket_form_questions[".concat(n,"].value"),[e]),b(R())},B=function(e,t,a){var n=Object(N.get)(r,"ticket_form_questions",[]),o=Object(N.findIndex)(n,(function(e){return e.id===a})),c=n[o].value;c=t?c.concat(e):c.filter((function(t){return t!==e})),Object(N.set)(r,"ticket_form_questions[".concat(o,"].value"),c),b(R())},_=Object(N.get)(r,"ticket_form_questions",[]);return o.a.createElement("div",{className:t.root},o.a.createElement(An,{alertBox:x}),o.a.createElement("section",null,o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Novo ticket"))))),o.a.createElement("br",null),o.a.createElement("form",{className:t.container},o.a.createElement(Xa.a,{className:t.paper},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Solicita\xe7\xe3o")),o.a.createElement(me.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Ot,{label:"No que podemos te ajudar?",errors:Object(N.get)(m,"title",[]),className:t.input,disabled:M,placeholder:"Ex.: Banheiro entupido, m\xe1quina de caf\xe9 com defeito, etc",value:Object(N.get)(r,"title",""),onChange:function(e){return c({title:e.target.value})}}),Object(N.size)(S)>1&&o.a.createElement(Lt,{label:"Local",errors:Object(N.get)(m,"location_id",[]),className:t.input,disabled:M,value:Object(N.get)(r,"location_id"),onChange:function(e){return c({location_id:e.target.value})},options:S,optionValueField:"id",optionLabelField:"name"}),o.a.createElement(Lt,{label:"Categoria",errors:Object(N.get)(m,"category_id",[]),className:t.input,disabled:M,value:Object(N.get)(r,"category_id"),onChange:function(e){var t=e.target.value;c({category_id:t,ticket_form_questions:Zc(d,t)}),b(!1)},options:d,optionValueField:"id",optionLabelField:"title"}),Object(N.map)(_,(function(e){return o.a.createElement(Qc,{key:Object(N.get)(e,"id"),id:Object(N.get)(e,"id"),question:e.question,options:Object(N.get)(e,"options"),fieldType:e.fieldType,required:e.required,disabled:F,showBlankError:f,onChangeQuestion:L,onCheckOption:B})})),o.a.createElement(Ot,{label:"Descri\xe7\xe3o",multiline:!0,rows:4,rowsMax:4,errors:Object(N.get)(m,"comments")||Object(N.get)(m,"description")||[],className:t.input,disabled:M,placeholder:"Descreva mais detalhes sobre esta ocorr\xeancia...",value:Object(N.get)(r,"description",""),onChange:function(e){return c({description:e.target.value})}}))),D&&o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement(ge.a,{variant:"h6",className:t.deadline},o.a.createElement("b",null,"Deadline")),o.a.createElement(me.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht.a,{fullWidth:!0},o.a.createElement(Pt.a,{libInstance:A.a,utils:Bt.a,locale:P.locale},o.a.createElement(_t.a,{autoOk:!0,label:"Prazo",clearable:!0,animateYearScrolling:!0,className:t.input,disabled:M,invalidDateMessage:"Formato inv\xe1lido",variant:"outlined",inputVariant:"outlined",InputLabelProps:{shrink:!0},value:Object(N.get)(r,"deadline"),onChange:function(e){return c({deadline:e})},format:"DD/MM/YYYY",cancelLabel:"Cancelar",clearLabel:"Limpar"})))),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht.a,{fullWidth:!0,error:!!m.priority},o.a.createElement(He.a,{select:!0,label:"Prioridade",error:!!m.priority,className:E?t.priorityIput:"",disabled:M,value:Object(N.get)(r,"priority"),InputLabelProps:{shrink:!0},SelectProps:{native:!0},onChange:function(e){return c({priority:e.target.value})},variant:"outlined"},Object(N.map)(Jc,(function(e){return o.a.createElement("option",{value:e.key,key:e.key},e.label)}))),m.priority&&o.a.createElement(Et.a,null,m.priority))))),o.a.createElement("br",null),o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Mais detalhes")),o.a.createElement("br",null),o.a.createElement(me.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement("div",null,o.a.createElement(ta,{value:Object(N.get)(r,"attachment_data",null),onChange:function(e){c({attachment_data:e}),g(Object(N.get)(e,"progressPercent",100)<100)},disabled:M,accept:"image/*,.doc,.docx,.xls,.xlsx,.pdf,.xml"})),o.a.createElement("div",{className:t.actions},o.a.createElement(ue.a,{component:l.b,to:"/tickets",color:"default",size:"large",disabled:M,className:t.cancel},"Voltar"),o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",disabled:F,onClick:function(){if(Object(N.isEmpty)(S))n({alertMsg:"N\xe3o foi informado o local da ocorr\xeancia",alertType:"error",showAlert:!0});else{var e=R();b(e),e||s(!0)}}},F?"Aguarde...":"Enviar"))))))))}return o.a.createElement("div",{className:t.root},o.a.createElement(An,null),o.a.createElement("section",null,o.a.createElement("div",{className:t.container},o.a.createElement(me.a,{container:!0,spacing:1},o.a.createElement("div",{className:t.centerHeaderView},j?o.a.createElement(ar,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{className:t.emptyHeaderIcon}),o.a.createElement("b",{className:t.emptyHeaderTitle},"Essa conta n\xe3o possui o servi\xe7o de tickets")))))))})),ei=la(ir.getCategories,{name:"ticketCategories",options:function(e){var t=e.setTicketState,a=e.setCategories,n=e.selectedCategory,r=e.selectedLocation;return{onRequestFinished:function(e){var o=I.getUserData(),c=Object(N.sortBy)(Object(N.get)(e,"ticketCategories",[]),["title"]),i=Object(N.sortBy)(Object(N.get)(o,"locations",[]),["name"]),l=function(e,t){var a=Object(N.find)(e,(function(e){return Object(N.toLower)(e.title)===Object(N.toLower)(t)||e.id===t}));return Object(N.get)(a,"id")||Object(N.get)(Object(N.first)(e),"id")}(c,n),s=function(e,t){var a=Object(N.find)(e,(function(e){return Object(N.toLower)(e.name)===Object(N.toLower)(t)||e.id===t}));return Object(N.get)(a,"id")||Object(N.get)(Object(N.first)(e),"id")}(i,r);a(c),t({category_id:l,location_id:s,ticket_form_questions:Zc(c,l)})}}}}),ti=la(or.postTicket,{name:"ticket",init:!1,options:function(e){var t=e.ticket,a=e.setTicketState,n=e.setAlert,r=e.categories,o=e.history,c=e.setErrors;return{variables:t,onRequestFinished:function(e){document.querySelector("form").reset();var t=Object(N.get)(Object(N.first)(r),"id");a(Object(f.a)(Object(f.a)({},Kc()),{},{category_id:t,ticket_form_questions:Zc(r,t)}));var i=Object(N.get)(e,"ticket.id");n({alertMsg:"Ticket registrado com sucesso",alertType:"success",showAlert:!0,actionButton:"Ver ticket",onClickAction:function(){return o.push("/tickets/".concat(i))}}),c({})},onRequestError:function(e){c(Object(N.get)(e,"errors",{})),n({alertMsg:Object(N.get)(e,"error")||"Erro ao registrar esse ticket",alertType:"error",showAlert:!0})}}}}),ai=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{cancel:{marginRight:20},input:{marginTop:0,marginBottom:-8},priorityIput:{marginTop:8},deadline:{marginBottom:20}})}),{withTheme:!0}),h.g,Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("ticket","setTicket",Kc),Object(Z.h)("categories","setCategories",[]),Object(Z.h)("showQuestionError","setShowQuestionError",!1),Object(Z.h)("isUploading","setIsUploading",!1),Object(Z.h)("selectedCategory","setSelectedCategory"),Object(Z.h)("selectedLocation","setSelectedLocation"),Object(Z.h)("errors","setErrors",{}),Object(Z.e)({setTicketState:function(e){var t=e.setTicket,a=e.ticket;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),ei,ti,Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.location,a=e.setTicketState,n=e.setSelectedCategory,r=e.setSelectedLocation,o=new URLSearchParams(t.search),c=(o.get("utm_source")||"").toUpperCase();n(o.get("category")||o.get("category_id")||o.get("categoria")),r(o.get("location")||o.get("location_id")||o.get("local")),"QRCODE"===c&&a({source:"QRCODE"})}}))($c),ni=Object(r.memo)((function(e){var t=e.messageText,a=e.classes;return o.a.createElement("div",{className:a.root},o.a.createElement("section",null,o.a.createElement(me.a,{container:!0,spacing:1},o.a.createElement("div",{className:a.centerHeaderView},o.a.createElement(te.a,{className:a.emptyHeaderIcon}),o.a.createElement("b",{className:a.emptyHeaderTitle},t)))))}));ni.propTypes={classes:ne.a.object,messageText:ne.a.string};var ri=Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0})(ni),oi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.condition,a=e.messageText,n=void 0===a?"Voc\xea n\xe3o possui permiss\xe3o de acesso a esta \xe1rea.":a;return function(e){return ur((function(a){return a.viewer?t(a.viewer)?o.a.createElement(ri,{messageText:n}):o.a.createElement(e,a):null}))}},ci=Object(r.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.children,c=a.showAlert,i=a.alertMsg,l=a.alertType,s=null;return c&&(s=o.a.createElement(ct,{message:i,type:l,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1})}})),o.a.createElement("div",{className:t.root},o.a.createElement(An,{alertBox:s}),o.a.createElement("section",{className:t.container},o.a.cloneElement(r,{setAlert:n})))})),ii=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}))(ci),li=function(e){return function(t){var a=le(e);return o.a.createElement(ii,t,o.a.createElement(a,t))}},si={id:"ALL",name:"Todos"},mi=Object(r.memo)((function(e){var t=e.viewer,a=e.setFormData,n=e.isLoading,r=e.onSubmit,c=e.formData,i=c.location_id,l=c.start_date,s=c.end_date,m=c.validationErrors,u=Object(N.concat)(si,Object(N.sortBy)(Object(N.get)(t,"locations",[]),["name"]));return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{container:!0,spacing:3,alignItems:"center"},o.a.createElement(me.a,{item:!0,xs:12,sm:2},o.a.createElement(Lt,{variant:"standard",label:"Local",errors:m.location_id,disabled:n,value:i,onChangeText:function(e){return a({location_id:e})},options:u,optionValueField:"id",optionLabelField:"name"})),o.a.createElement(me.a,{item:!0,xs:12,sm:2},o.a.createElement(qt,{variant:"standard",errors:m.start_date,label:"Data de in\xedcio",disabled:n,value:l,onChangeValue:function(e){return a({start_date:e})},disableFuture:!0})),o.a.createElement(me.a,{item:!0,xs:12,sm:2},o.a.createElement(qt,{variant:"standard",errors:m.end_date,label:"Data de fim",disabled:n,value:s,onChangeValue:function(e){return a({end_date:e})},disableFuture:!0})),o.a.createElement(me.a,{item:!0,xs:12,sm:3},o.a.createElement(ue.a,{color:"primary",size:"large",variant:"contained",onClick:r,disabled:n},"Gerar Relat\xf3rio"))))})),ui=function(e){return e?A.a.duration(e).humanize():" - "},di=function(e){var t=e.data,a=t.created,n=t.done,r=t.in_progress,c=t.time_to_reply,i=t.time_to_finish;return o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,o.a.createElement(Ta.a,null,o.a.createElement(xa.a,null,"Criados"),o.a.createElement(xa.a,null,"Conclu\xeddos"),o.a.createElement(xa.a,null,"Em Andamento"),o.a.createElement(xa.a,null,"Tempo de Resposta"),o.a.createElement(xa.a,null,"Tempo de Resolu\xe7\xe3o"))),o.a.createElement(Na.a,null,o.a.createElement(Ta.a,null,o.a.createElement(xa.a,null,a),o.a.createElement(xa.a,null,n),o.a.createElement(xa.a,null,r),o.a.createElement(xa.a,null,ui(c)),o.a.createElement(xa.a,null,ui(i)))))},bi=function(e){var t=e.data,a=e.classes;return o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:a.tableSmallCell},"Categoria"),o.a.createElement(xa.a,null,"Criados"),o.a.createElement(xa.a,null,"Conclu\xeddos"),o.a.createElement(xa.a,null,"Em Andamento"),o.a.createElement(xa.a,null,"Tempo de Resposta"),o.a.createElement(xa.a,null,"Tempo de Resolu\xe7\xe3o"))),o.a.createElement(Na.a,null,Object(N.map)(t,(function(e){return o.a.createElement(Ta.a,{key:e.category_title},o.a.createElement(xa.a,{className:a.tableSmallCell},e.category_title),o.a.createElement(xa.a,null,e.created),o.a.createElement(xa.a,null,e.done),o.a.createElement(xa.a,null,e.in_progress),o.a.createElement(xa.a,null,ui(e.time_to_reply)),o.a.createElement(xa.a,null,ui(e.time_to_finish)))}))))},pi=function(e){var t=e.data,a=e.classes;return o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:a.tableSmallCell},"Respons\xe1vel"),o.a.createElement(xa.a,null,"Criados"),o.a.createElement(xa.a,null,"Conclu\xeddos"),o.a.createElement(xa.a,null,"Em Andamento"),o.a.createElement(xa.a,null,"Tempo de Resposta"),o.a.createElement(xa.a,null,"Tempo de Resolu\xe7\xe3o"))),o.a.createElement(Na.a,null,Object(N.map)(t,(function(e){return o.a.createElement(Ta.a,{key:e.assignee_full_name},o.a.createElement(xa.a,{className:a.tableSmallCell},e.assignee_full_name),o.a.createElement(xa.a,null,e.created),o.a.createElement(xa.a,null,e.done),o.a.createElement(xa.a,null,e.in_progress),o.a.createElement(xa.a,null,ui(e.time_to_reply)),o.a.createElement(xa.a,null,ui(e.time_to_finish)))}))))},gi=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),r.memo)((function(e){var t=e.classes,a=e.reportData;return e.isLoading?o.a.createElement(pe,null):a&&a.totals?o.a.createElement(o.a.Fragment,null,o.a.createElement(Yn.a,{mt:2},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Total")),o.a.createElement(di,{data:a.totals})),o.a.createElement(Yn.a,{mt:2},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Por Categoria")),o.a.createElement(bi,{data:a.by_category,classes:t})),o.a.createElement(Yn.a,{mt:2},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Por Respons\xe1vel")),o.a.createElement(pi,{data:a.by_assignee,classes:t}))):null})),fi=la(or.report,{name:"report",init:!1,options:function(e){var t=e.formData,a=e.setFormData,n=e.setAlert;t.validationErrors;return{variables:Object(ft.a)(t,["validationErrors"]),onRequestError:function(e){n({alertMsg:"Erro ao tentar gerar relat\xf3rio",alertType:"error",showAlert:!0}),a({validationErrors:Object(N.get)(e,"errors",{})})}}}}),hi=Object(Z.b)(r.memo,oi({condition:function(e){return!Xe.includes(e.role)}}),li,kr((function(){var e=A()().date()>1?0:1;return{location_id:"ALL",start_date:A()().subtract(e,"month").startOf("month"),end_date:A()()}})),fi)((function(e){var t=e.viewer,a=e.formData,n=e.setFormData,r=e.reportFetch,c=e.reportLoading,i=e.reportData;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Relat\xf3rio de Tickets")),o.a.createElement(mi,{viewer:t,formData:a,setFormData:n,isLoading:c,onSubmit:function(){return r(!0)}}),o.a.createElement(gi,{reportData:i,isLoading:c}))})),Ei={getLocations:function(e){var t=e.listInactive,a=e.listAll,n=rr.a.toSnakeCase({listInactive:t,listAll:a});return U.get("/locations",n)},createLocation:function(e){return U.post("/locations",e)},updateLocation:function(e){var t=e.id,a=e.changes;return U.put("/locations/".concat(t),a)},toggleActive:function(e){return U.delete("/locations/".concat(e,"/toggle_active"))},getLocationsByCompany:function(e){if(e){var t=rr.a.toSnakeCase({companyId:e});return U.get("/public_locations",t)}return null}},vi={getCompany:function(e){return U.get("/public_companies/".concat(e))}},Oi=dr.PRIORITY_NORMAL,ji=function(){return{title:"",description:"",category_id:"",deadline:null,priority:Oi,source:"PORTAL",location_id:"",attachment_data:null,ticket_form_questions:Object(N.clone)([]),email:"",name:"",lastname:""}},Ci=function(e,t){var a=Object(N.find)(e,(function(e){return e.id===t})),n=Object(N.get)(a,"ticket_form_questions",[]);return Object(N.map)(n,(function(e){var t="SELECT"===Object(N.get)(e,"field_type")?Object(N.compact)([Object(N.first)(Object(N.get)(e,"options"))]):[];return Object(f.a)(Object(f.a)({},e),{},{value:t})}))},yi=Object(r.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.ticket,c=e.setTicketState,i=e.ticketLoading,l=e.errors,s=e.ticketFetch,m=e.companyId,u=e.locationsData,d=e.locationsLoading,b=e.showQuestionError,p=e.ticketCategoriesLoading,g=e.categories,f=e.setShowQuestionError,h=e.isUploading,E=e.setIsUploading,v=e.companyData,O=e.companyLoading;if(m){var j=a.showAlert,C=a.alertMsg,y=a.alertType,k=a.actionButton,A=a.onClickAction,w=function(){var e=Object(N.get)(r,"ticket_form_questions",[]),t=Object(N.reject)(e,(function(e){return!e.required}));return Boolean(Object(N.size)(Object(N.reject)(t,(function(e){return Object(N.size)(e.value)}))))},T=function(e,t){var a=Object(N.get)(r,"ticket_form_questions",[]),n=Object(N.findIndex)(a,(function(e){return e.id===t}));Object(N.set)(r,"ticket_form_questions[".concat(n,"].value"),[e]),f(w())},x=function(e,t,a){var n=Object(N.get)(r,"ticket_form_questions",[]),o=Object(N.findIndex)(n,(function(e){return e.id===a})),c=n[o].value;c=t?c.concat(e):c.filter((function(t){return t!==e})),Object(N.set)(r,"ticket_form_questions[".concat(o,"].value"),c),f(w())},S=Object(N.get)(v,"company.name",""),D=Object(N.get)(r,"ticket_form_questions",[]),M=Object(N.sortBy)(Object(N.get)(u,"locations",[]),["name"]),F=Object(N.isEmpty)(M)||Object(N.isEmpty)(g)||p||i||d||O,I=F||h;return o.a.createElement("div",{className:t.root},j&&o.a.createElement(ct,{message:C,type:y,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1,actionButton:""})},actionButton:k,onClickAction:A}),o.a.createElement("section",null,o.a.createElement(me.a,{container:!0,justify:"center",alignContent:"center"},o.a.createElement(me.a,{item:!0,xs:12,sm:8,md:6,lg:4},o.a.createElement("form",{className:t.containerNoSidebar},o.a.createElement(Xa.a,{className:t.paper},o.a.createElement(me.a,{container:!0,spacing:2,justify:"center",alignContent:"center"},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Nova solicita\xe7\xe3o".concat(S&&" - ".concat(S))))),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Ot,{errors:Object(N.get)(l,"title",[]),label:"No que podemos te ajudar?",placeholder:"Ex.: Banheiro entupido, m\xe1quina de caf\xe9 com defeito, etc",disabled:F,value:Object(N.get)(r,"title",""),onChange:function(e){return c({title:e.target.value})}}),Object(N.size)(M)>1&&o.a.createElement(Lt,{label:"Local",errors:Object(N.get)(l,"location_id",[]),value:Object(N.get)(r,"location_id"),disabled:F,onChange:function(e){return c({location_id:e.target.value})},options:M,optionLabelField:"name",optionValueField:"id"}),Object(N.size)(g)>1&&o.a.createElement(Lt,{label:"Categoria",errors:Object(N.get)(l,"category_id",[]),value:Object(N.get)(r,"category_id"),disabled:F,onChange:function(e){var t=e.target.value;c({category_id:t,ticket_form_questions:Ci(g,t)}),f(!1)},options:g,optionLabelField:"title",optionValueField:"id"}),Object(N.map)(D,(function(e){return o.a.createElement(Qc,{key:Object(N.get)(e,"id"),id:Object(N.get)(e,"id"),question:Object(N.get)(e,"question"),options:Object(N.get)(e,"options"),fieldType:Object(N.get)(e,"field_type"),required:Object(N.get)(e,"required"),disabled:I,showBlankError:b,onChangeQuestion:T,onCheckOption:x})})),o.a.createElement(Ot,{errors:Object(N.get)(l,"comments")||Object(N.get)(l,"description")||[],label:"Descri\xe7\xe3o",multiline:!0,rows:4,rowsMax:4,placeholder:"Descreva mais detalhes sobre esta ocorr\xeancia...",disabled:F,value:Object(N.get)(r,"description",""),onChange:function(e){return c({description:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Ot,{errors:Object(N.get)(l,"email",[]),label:"Email",placeholder:"Seu email de trabalho",disabled:F,value:Object(N.get)(r,"email",""),onChange:function(e){return c({email:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:6},o.a.createElement(Ot,{errors:Object(N.get)(l,"name",[]),label:"Nome",disabled:F,className:t.inputControl,value:Object(N.get)(r,"name",""),onChange:function(e){return c({name:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:6},o.a.createElement(Ot,{errors:Object(N.get)(l,"lastname",[]),label:"Sobrenome",disabled:F,className:t.inputControl,value:Object(N.get)(r,"lastname",""),onChange:function(e){return c({lastname:e.target.value})}}))),o.a.createElement("br",null),o.a.createElement(me.a,{container:!0,spacing:2,justify:"center",alignContent:"center"},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement("div",null,o.a.createElement(ta,{value:Object(N.get)(r,"attachment_data",null),onChange:function(e){c({attachment_data:e}),E(Object(N.get)(e,"progressPercent",100)<100)},disabled:F,accept:"image/*,.doc,.docx,.xls,.xlsx,.pdf,.xml"})),o.a.createElement("div",{className:t.actions},o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",disabled:I,onClick:function(){if(Object(N.isEmpty)(Object(N.get)(r,"location_id")))n({alertMsg:"N\xe3o foi informado o local da ocorr\xeancia",alertType:"error",showAlert:!0});else{var e=w();f(e),e||s(!0)}}},I?"Aguarde...":"Enviar"))))))))))}return o.a.createElement("div",{className:t.root},o.a.createElement("section",null,o.a.createElement("div",{className:t.containerNoSidebar},o.a.createElement(me.a,{container:!0,spacing:1},o.a.createElement("div",{className:t.centerHeaderView},o.a.createElement(te.a,{className:t.emptyHeaderIcon}),o.a.createElement("b",{className:t.emptyHeaderTitle},"Esse link inv\xe1lido n\xe3o pode solicitar tickets"))))))})),ki=la(vi.getCompany,{name:"company",options:function(e){var t=e.companyId,a=e.setAlert;return{variables:t,onRequestError:function(){a({alertMsg:"URL inv\xe1lida, n\xe3o foi poss\xedvel abrir este form\xfalario",alertType:"error",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})}}}}),Ai=la(Ei.getLocationsByCompany,{name:"locations",options:function(e){var t=e.companyId,a=e.setAlert,n=e.setTicketState,r=e.selectedLocation;return{variables:t,onRequestFinished:function(e){var t=Object(N.sortBy)(Object(N.get)(e,"locations",[]),["name"]);if(Object(N.size)(t)){var o=function(e,t){var a=Object(N.find)(e,(function(e){return Object(N.toLower)(e.name)===Object(N.toLower)(t)||e.id===t}));return Object(N.get)(a,"id")||Object(N.get)(Object(N.first)(e),"id")}(t,r);n({location_id:o})}else a({alertMsg:"Esta empresa n\xe3o possui um local",alertType:"warning",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})},onRequestError:function(){a({alertMsg:"Erro ao carregar os locais da empresa",alertType:"warning",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})}}}}),wi=la(ir.getCategoriesByCompany,{name:"ticketCategories",options:function(e){var t=e.setTicketState,a=e.companyId,n=e.setCategories,r=e.selectedCategory,o=e.setAlert;return{variables:a,onRequestFinished:function(e){var a=Object(N.sortBy)(Object(N.get)(e,"ticket_categories",[]),["title"]);if(Object(N.size)(a)){var c=function(e,t){var a=Object(N.find)(e,(function(e){return Object(N.toLower)(e.title)===Object(N.toLower)(t)||e.id===t}));return Object(N.get)(a,"id")||Object(N.get)(Object(N.first)(e),"id")}(a,r);n(a),t({category_id:c,ticket_form_questions:Ci(a,c)})}else o({alertMsg:"Esta empresa n\xe3o possui uma categoria",alertType:"warning",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})},onRequestError:function(){o({alertMsg:"Erro ao carregar categorias",alertType:"error",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})}}}}),Ti=la(or.postPublicTicket,{name:"ticket",init:!1,options:function(e){var t=e.ticket,a=e.companyId,n=e.setAlert,r=e.categories,o=e.locationsData,c=e.setErrors,i=e.setSelectedCategory,l=e.setSelectedLocation,s=e.setTicketState;return{variables:{ticket:t,companyId:a},onRequestFinished:function(){document.querySelector("form").reset();var e=Object(N.get)(Object(N.first)(r),"id"),t=Object(N.get)(o,"data[0].id");i(e),l(t),s(Object(f.a)(Object(f.a)({},ji()),{},{category_id:e,location_id:t,ticket_form_questions:Ci(r,e)})),n({alertMsg:"Ticket registrado com sucesso",alertType:"success",showAlert:!0}),c({})},onRequestError:function(e){c(Object(N.get)(e,"errors",{})),n({alertMsg:Object(N.get)(e,"error")||"Erro ao registrar esse ticket",alertType:"error",showAlert:!0})}}}}),xi=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{root:Object(re.a)({flexGrow:1,marginRight:5,marginLeft:5},e.breakpoints.up("md"),{marginRight:100,marginLeft:100}),cancel:{marginRight:20},checkboxControl:{margin:e.spacing(2)},inputControl:{marginTop:-20}})}),{withTheme:!0}),h.g,Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("ticket","setTicket",ji),Object(Z.h)("categories","setCategories",[]),Object(Z.h)("companyId","setCompanyId"),Object(Z.h)("showQuestionError","setShowQuestionError",!1),Object(Z.h)("isUploading","setIsUploading",!1),Object(Z.h)("selectedCategory","setSelectedCategory"),Object(Z.h)("selectedLocation","setSelectedLocation"),Object(Z.h)("errors","setErrors",{}),Object(Z.e)({setTicketState:function(e){var t=e.setTicket,a=e.ticket;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),Ai,wi,Ti,ki,Object(Z.c)({componentDidMount:function(){if(I.isLoggedIn())return window.location.href="/#/tickets/novo",!0;var e=this.props,t=e.location,a=e.setTicketState,n=e.setCompanyId,r=e.setSelectedCategory,o=e.setSelectedLocation,c=new URLSearchParams(t.search),i=(c.get("utm_source")||"").toUpperCase();return r(c.get("category")||c.get("category_id")||c.get("categoria")),o(c.get("location")||c.get("location_id")||c.get("local")),n(c.get("company_id")||c.get("company")||c.get("c")),"QRCODE"===i&&a({source:"QRCODE"}),!0}}))(yi),Si=a(942),Ni={ON_DEMAND:"ON_DEMAND",SUBSCRIPTION:"SUBSCRIPTION"},Di={getServices:function(e){var t=e.serviceType;return U.get("/services",{service_type:t})},getService:function(e){return U.get("/services/".concat(e))}},Mi=a(903),Fi=a(905),Ii=function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{container:{marginLeft:"auto",marginRight:"auto",marginBottom:20}})},Ri=Object(r.memo)((function(e){var t=e.classes,a=e.service,n=e.history;return o.a.createElement(Oc.a,{onClick:function(){return n.push("/servicos/".concat(a.id,"/solicitar-servico"))}},o.a.createElement(Mi.a,null,o.a.createElement(Fi.a,{className:t.media,image:a.image_url,title:a.title}),o.a.createElement(jc.a,{className:t.content},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("small",null,o.a.createElement("b",null,a.title))))))}));Ri.propTypes={classes:ne.a.object,service:ne.a.object,history:ne.a.object};var Li=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Ii(e)),{},{media:{minHeight:150}})}),{withTheme:!0}),h.g)(Ri),Bi=Object(r.memo)((function(e){var t=e.history,a=e.classes,n=e.servicesData;if(e.servicesLoading)return o.a.createElement(pe,null);var r=Object(N.get)(n,"services",[]),c=Object(N.groupBy)(r,"category");return o.a.createElement(o.a.Fragment,null,o.a.createElement(Si.a,{freeSolo:!0,options:Object(N.sortBy)(r,"title"),getOptionLabel:function(e){return e.title},onChange:function(e,a){return t.push("/servicos/".concat(a.id,"/solicitar-servico"))},style:{width:300},renderInput:function(e){return o.a.createElement(He.a,Object.assign({},e,{label:"Qual servi\xe7o procura?",variant:"outlined"}))}}),Object(N.map)(c,(function(e,t){return o.a.createElement("div",{className:a.categoryContainer,key:t},o.a.createElement(ge.a,{className:a.categoryName,variant:"h6"},o.a.createElement("b",null,t)),o.a.createElement(me.a,{container:!0,spacing:2},Object(N.map)(e,(function(e){return o.a.createElement(me.a,{key:e.id,item:!0,xs:12,sm:4,md:3},o.a.createElement(Li,{service:e}))}))))})))})),Pi=la(Di.getServices,{name:"services",options:function(e){var t=e.setAlert;return{variables:{serviceType:Ni.ON_DEMAND},onRequestError:function(){t({alertMsg:"Erro ao carregar lista de servi\xe7os",alertType:"error",showAlert:!0})}}}}),_i=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{categoryContainer:{marginTop:40},categoryName:{marginTop:15,marginBottom:10}})}),{withTheme:!0}),h.g,Pi)(Bi),qi={createServiceRequest:function(e){var t=e.serviceId,a=e.dynamicQuestions,n=Object(N.mapValues)(a,(function(e){return e.originalFileObj?{id:e.id,storage:e.storage,metadata:e.metadata,base64Data:e.base64Data}:e}));return U.post("/service_requests",{service_id:t,dynamic_questions:n})},getServiceRequests:function(e){var t=e.status;return U.get("/service_requests",{status:t})},getServiceRequest:function(e){return U.get("/service_requests/".concat(e))},deleteServiceRequest:function(e){return U.put("/service_requests/".concat(e))}},Ui=qi,zi=la(Di.getService,{name:"service",options:function(e){return{variables:e.match.params.serviceId}}}),Wi=la(Ui.createServiceRequest,{name:"createServiceRequest",init:!1,options:function(e){var t=e.serviceData,a=e.formData,n=e.resetFormData,r=e.setFormData,o=e.setAlert,c=a.changedFields;return{variables:{serviceId:Object(N.get)(t,"service.id"),dynamicQuestions:c},onRequestFinished:function(){o({alertMsg:"Recebemos! Em breve nosso especialista vai entrar em contato com voc\xea!",alertType:"success",showAlert:!0}),n()},onRequestError:function(e){o({alertMsg:"Erro ao solicitar servi\xe7o",alertType:"error",showAlert:!0}),r({validationErrors:Object(N.get)(e,"errors",{})})}}}}),Vi=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Ii(e)),{},{title:{marginBottom:e.spacing(4)},subtitlesContainer:{marginBottom:e.spacing(1)},marginLeftContainer:{paddingLeft:e.spacing(4)},benefitsList:{margin:0,padding:0,paddingLeft:"1em"},textContentsContainer:{marginBottom:e.spacing(4)},questionContainer:{marginTop:e.spacing(3)},goBackButton:{marginRight:e.spacing(2)}})}),{withTheme:!0}),h.g,zi,(function(e){return function(t){return t.serviceLoading?o.a.createElement(pe,null):o.a.createElement(e,t)}}),r.memo,kr((function(e){return Object(N.zipObject)(Object(N.map)(Object(N.get)(e,"serviceData.service.form_questions"),(function(e){return e.question})),Object(N.map)(Object(N.get)(e,"serviceData.service.form_questions"),(function(e){return"ATTACHMENT"===e.field_type?{}:"CHECKBOX"===e.field_type?[]:""})))})),Wi)((function(e){var t=e.classes,a=e.serviceData,n=e.formData,r=e.setFormData,c=e.createServiceRequestFetch,i=e.createServiceRequestLoading,s=n.validationErrors||{},m=function(){return c(!0)},u=function(e){e.ctrlKey&&13===e.keyCode&&m()},d=a.service;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{className:t.title,variant:"h4"},d.title),o.a.createElement(me.a,{container:!0,className:t.subtitlesContainer},o.a.createElement(me.a,{item:!0,xs:6},o.a.createElement(ge.a,{variant:"subtitle1"},o.a.createElement("b",null,d.subtitle)))),o.a.createElement(me.a,{container:!0,className:t.textContentsContainer},o.a.createElement(me.a,{item:!0,xs:6},o.a.createElement(ge.a,{variant:"body2"},d.description)),o.a.createElement(me.a,{item:!0,xs:6,className:t.marginLeftContainer},o.a.createElement("ul",{className:t.benefitsList},Object(N.map)(d.benefits,(function(e){return o.a.createElement("li",{key:e},o.a.createElement(ge.a,{variant:"body2"},e))}))))),o.a.createElement(Xa.a,{className:"".concat(t.container," ").concat(t.paper)},o.a.createElement(me.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},o.a.createElement(me.a,{item:!0,xs:12},Object(N.map)(d.form_questions,(function(e){return o.a.createElement("div",{key:e.id,className:t.questionContainer},o.a.createElement(ge.a,{variant:"subtitle1"},o.a.createElement("b",null,e.question)),o.a.createElement(ia,{fieldType:e.field_type,onKeyDown:u,value:n[e.question],onChangeValue:function(t){return r(Object(re.a)({},e.question,t))},errors:s["dynamic_questions.".concat(e.question)],options:Object(N.map)(e.options,(function(e){return{label:e,value:e}})),emptyOptionLabel:" ",uploadFileFunc:Qt,required:e.required,disabled:i}))})),o.a.createElement("div",{className:t.actions},o.a.createElement(ue.a,{className:t.goBackButton,component:l.b,to:"/servicos",color:"default",size:"large",disabled:i},"Voltar"),o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",onClick:m,disabled:i},i?"Aguarde...":"Enviar"))))))})),Hi=Object(r.memo)((function(e){var t=e.classes,n=e.history,r=Object(Da.a)(),c=Object(Ma.a)(r.breakpoints.down("sm")),i=c?275:380,l=c?133:184;return o.a.createElement("section",{className:t.welcome},o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.root},o.a.createElement(ge.a,{variant:"h5",className:t.center},o.a.createElement("b",null,"Solicite servi\xe7os e conecte-se com nossos parceiros")),o.a.createElement("p",{className:t.center},"Receba or\xe7amentos e contrate o que precisar sem a dor de cabe\xe7a de lidar com v\xe1rios fornecedores.",o.a.createElement("br",null),"N\xf3s lidamos com eles com carinho e voc\xea fica no controle."),o.a.createElement("p",{className:t.center},o.a.createElement("img",{src:a(734),width:i,height:l,alt:"Todos os servi\xe7os em um \xfanico lugar"})),o.a.createElement("br",null),o.a.createElement("p",{className:t.center},o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",onClick:function(){I.setServicesWelcomeVisited(),n.replace("/servicos")}},"Come\xe7ar")))))})),Yi=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{welcome:{marginTop:30},container:{paddingLeft:0}})}),{withTheme:!0}),h.g)(Hi),Gi=Object(r.memo)((function(e){var t=e.classes,a=e.setAlert,n=e.children;return I.isServicesWelcomeVisited()?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Servi\xe7os"))))),o.a.createElement("div",{className:t.container},o.a.cloneElement(n,{setAlert:a}))):o.a.createElement(Yi,null)})),Qi=Object(Z.b)(Object($.a)(Ii,{withTheme:!0}),li)(Gi),Ji=Object(r.memo)((function(){return o.a.createElement(h.d,null,o.a.createElement(h.b,{exact:!0,path:"/servicos"},o.a.createElement(Qi,null,o.a.createElement(_i,null))),o.a.createElement(h.b,{exact:!0,path:"/servicos/sobdemanda"},o.a.createElement(h.a,{to:{pathname:"/servicos"}})),o.a.createElement(h.b,{exact:!0,path:"/servicos/recorrentes"},o.a.createElement(h.a,{to:{pathname:"/servicos"}})),o.a.createElement(h.b,{path:"/servicos/:serviceId/solicitar-servico"},o.a.createElement(ii,null,o.a.createElement(Vi,null))))})),Xi=Ji,Ki=Object(r.memo)((function(e){var t=e.classes,a=e.onClose,n=e.setAlert,r=e.formData,c=e.setFormData,i=e.checkEmailStep,l=e.refetch,s=e.setCheckEmailStep,d=e.loading,b=e.setLoading,p=e.errors,g=e.setErrors,h=e.locationsData,E=Object(Da.a)(),v=Object(Ma.a)(E.breakpoints.down("sm")),O=d||Object(N.isEmpty)(r.email),j=Object(N.get)(h,"locations",[]),C=function(e){c(Object(f.a)(Object(f.a)({},r),e))},y=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=16;break}return e.prev=1,g({}),b(!0),e.next=6,No.emailCheck(r.email);case 6:s(!1),G.hit("EmailChecked - Success"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),g(Object(N.mapValues)(Object(N.get)(e.t0,"errors",{}),(function(e){return e[0]})));case 13:b(!1),e.next=33;break;case 16:return e.prev=16,g({}),b(!0),e.next=21,No.createMember(Object(f.a)({},r));case 21:G.hit("MemberCreated - Success"),n({alertMsg:"Usu\xe1rio criado com sucesso",alertType:"success",showAlert:!0}),b(!1),a(),l(!0),e.next=33;break;case 28:e.prev=28,e.t1=e.catch(16),g(Object(N.mapValues)(Object(N.get)(e.t1,"errors",{}),(function(e){return e[0]}))),n({alertMsg:"N\xe3o foi poss\xedvel criar o usu\xe1rio",alertType:"error",showAlert:!0}),b(!1);case 33:case"end":return e.stop()}}),e,null,[[1,10],[16,28]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(Ar.a,{fullScreen:v,keepMounted:!0,fullWidth:!i,maxWidth:i?"sm":"md",classes:{paper:t.dialogMemberForm},open:!0},o.a.createElement(wr.a,null,"Convidar usu\xe1rio",o.a.createElement(tt.a,{className:t.closeButton,onClick:a,disabled:d},o.a.createElement(et.a,null))),o.a.createElement(Tr.a,{className:t.content},o.a.createElement(me.a,{container:!0,direction:"row",spacing:1},i&&o.a.createElement(me.a,{item:!0,xs:12,className:t.gridSizeMedium},o.a.createElement(Ot,{label:"Email",disabled:d,errors:Object(N.get)(p,"email",[]),value:Object(N.get)(r,"email",""),onChangeText:function(e){return C({email:e})}})),!i&&o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Ot,{label:"E-mail",disabled:!0,errors:Object(N.get)(p,"email",[]),value:Object(N.get)(r,"email",""),onChangeText:function(e){return C({email:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{label:"Nome",disabled:d,errors:Object(N.get)(p,"name",[]),value:Object(N.get)(r,"name",""),onChangeText:function(e){return C({name:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{label:"Sobrenome",disabled:d,errors:Object(N.get)(p,"lastname",[]),value:Object(N.get)(r,"lastname",""),onChangeText:function(e){return C({lastname:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{label:"Cargo",disabled:d,value:Object(N.get)(r,"jobRole",""),onChangeText:function(e){return C({jobRole:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Mt,{label:"Telefone celular",disabled:d,value:Object(N.get)(r,"phone",""),onChange:function(e){return C({phone:(e.target.value||"").replace(/[\D]+/g,"").slice(0,15)})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ge.a,{variant:"h6",className:t.blockTitle},"Permiss\xe3o"),o.a.createElement(Lt,{label:"N\xedvel de acesso",errors:Object(N.get)(p,"role",[]),value:Object(N.get)(r,"role",""),disabled:d,onChange:function(e){return C({role:e.target.value})},options:Qe})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ge.a,{variant:"h6",className:t.blockTitle},"Locais de acesso"),o.a.createElement(ht.a,{fullWidth:!0,error:!!p.location_ids},p.location_ids&&o.a.createElement(Et.a,null,p.location_ids),j.map((function(e){return o.a.createElement(zt.a,{key:e.id,className:t.checkBox,classes:{label:t.checkboxLabel},control:o.a.createElement(Wt.a,{checked:e.checked,disabled:d,onChange:function(){return function(e){var t=[];t=Object(N.includes)(Object(N.get)(r,"locationIds",[]),e)?Object(N.pull)(r.locationIds,e):r.locationIds.concat([e]),c(Object(f.a)(Object(f.a)({},r),{},{locationIds:t}))}(e.id)},value:e.id}),label:e.name})}))))))),o.a.createElement(xr.a,{className:t.actions},o.a.createElement(me.a,{container:!0,justify:i?"flex-start":"space-between",spacing:2},!i&&o.a.createElement(me.a,{item:!0,xs:12,sm:8}),o.a.createElement(me.a,{item:!0,xs:6,sm:i?6:2},o.a.createElement(ue.a,{fullWidth:!0,color:"default",size:"large",variant:"contained",onClick:function(){a()},disabled:d},"CANCELAR")),o.a.createElement(me.a,{item:!0,xs:6,sm:i?6:2},o.a.createElement(ue.a,{fullWidth:!0,color:"primary",size:"large",variant:"contained",onClick:y,disabled:O},i?"PR\xd3XIMO":"SALVAR")))))})),Zi=la(Ei.getLocations,{name:"locations",options:function(){return{variables:{listInactive:!1,listAll:!0}}}}),$i={role:Object(N.first)(Qe).value,locationIds:[]},el=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{actions:{margin:15,marginBottom:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"},blockTitle:{marginTop:15},checkboxLabel:{fontSize:e.typography.caption.fontSize},gridSizeMedium:{width:400}})}),{withTheme:!0}),Object(Z.h)("formData","setFormData",$i),Object(Z.h)("loading","setLoading",!1),Object(Z.h)("errors","setErrors",{}),Object(Z.h)("checkEmailStep","setCheckEmailStep",!0),Zi)(Ki),tl=Object(r.memo)((function(e){var t=e.setLocationOptionChecked,a=e.isLoading,n=e.formData,r=e.setFormData,c=e.classes,i=e.isSubmiting;if(a)return o.a.createElement(pe,null);var l=n.locationsOptions,s=n.validationErrors||{},m=I.getUserData(),u=m.role,d=m.id;return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{container:!0,direction:"row",spacing:1},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{errors:Object(N.get)(s,"name",[]),label:"Nome",disabled:i,value:Object(N.get)(n,"name")||"",onChangeText:function(e){return r({name:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{errors:Object(N.get)(s,"lastname",[]),label:"Sobrenome",disabled:i,value:Object(N.get)(n,"lastname")||"",onChangeText:function(e){return r({lastname:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{errors:Object(N.get)(s,"email",[]),label:"E-mail",disabled:!0,value:Object(N.get)(n,"email")||"",onChangeText:function(e){return r({email:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Mt,{errors:Object(N.get)(s,"phone",[]),label:"Telefone celular",disabled:i,value:Object(N.get)(n,"phone")||"",onChangeValue:function(e){return r({phone:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{label:"Cargo",value:Object(N.get)(n,"job_role")||"",onChangeText:function(e){return r({job_role:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6}),!("ADMIN"===u&&Object(N.get)(n,"id")===d)&&o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ge.a,{variant:"h6"},"Permiss\xe3o"),o.a.createElement(Lt,{errors:Object(N.get)(s,"role",[]),label:"N\xedvel de acesso",value:Object(N.get)(n,"role")||"",disabled:i,onChange:function(e){return r({role:e.target.value})},options:Qe})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ge.a,{variant:"h6"},"Locais de acesso"),o.a.createElement(ht.a,{fullWidth:!0,error:!!s.location_ids},s.location_ids&&o.a.createElement(Et.a,null,s.location_ids),l.map((function(e){return o.a.createElement(zt.a,{key:e.value,classes:{label:c.checkboxLabel},control:o.a.createElement(Wt.a,{checked:e.checked,disabled:i,onChange:function(a){t({locationId:e.value,checked:a.target.checked})},value:e.value}),label:e.label})}))))))})),al=Object(Z.b)(le,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{checkboxLabel:{fontSize:e.typography.caption.fontSize}})}),{withTheme:!0}),ur,Object(Z.e)({setLocationOptionChecked:function(e){var t=e.formData,a=e.setFormData;return function(e){var n=e.locationId,r=e.checked,o=t.locationsOptions;a({locationsOptions:Object(N.map)(o,(function(e){return e.value===n?Object(f.a)(Object(f.a)({},e),{},{checked:r}):e}))})}}}),Object(Z.g)(["viewer","member"],(function(e){var t=e.member,a=e.viewer,n=e.setFormData;if(!a)return null;var r=Object(N.get)(t,"locations",[]),o=Object(N.get)(a,"locations",[]).map((function(e){return{label:e.name,value:e.id,checked:r.some((function(t){return e.id===t.id}))}})),c=Object(f.a)({locationsOptions:o},t);return n(Object(f.a)(Object(f.a)({},c),{},{previousValues:c})),!0})))(tl),nl=al,rl=Object(r.memo)((function(e){var t=e.member,a=e.isLoading,n=e.open,r=e.classes,c=e.formData,i=e.setFormData,l=e.onClose,s=e.updateMemberFetch,m=e.updateMemberLoading,u=e.blockMemberFetch,d=e.blockMemberLoading,b=Object(Da.a)(),p=Object(Ma.a)(b.breakpoints.down("sm")),g=a,f=m||d;return o.a.createElement(Ar.a,{fullScreen:p,keepMounted:!0,fullWidth:!0,maxWidth:"md",classes:{paper:r.dialogMemberForm},open:n,onClose:function(){return l({shouldRefetch:!1})}},o.a.createElement(wr.a,null,"Editar usu\xe1rio",o.a.createElement(tt.a,{className:r.closeButton,onClick:function(){return l({shouldRefetch:!1})}},o.a.createElement(et.a,null))),o.a.createElement(Tr.a,{className:r.content},o.a.createElement(nl,{member:t,formData:c,setFormData:i,isLoading:g,isSubmiting:f})),o.a.createElement(xr.a,{className:r.actions},o.a.createElement(me.a,{container:!0,justify:"space-between",spacing:2},o.a.createElement(me.a,{item:!0,xs:12,sm:8},o.a.createElement(ue.a,{fullWidth:p,color:"secondary",size:"large",variant:p?"outlined":"contained",onClick:function(){window.confirm("Tem certeza em bloquear esse usu\xe1rio?")&&u(!0,"",null,Object(N.get)(t,"id",""))},disabled:g||f},"DESATIVAR USU\xc1RIO")),o.a.createElement(me.a,{item:!0,xs:6,sm:2},o.a.createElement(ue.a,{fullWidth:!0,color:"default",size:"large",variant:"contained",onClick:function(){return l({shouldRefetch:!1})},disabled:g||f},"CANCELAR")),o.a.createElement(me.a,{item:!0,xs:6,sm:2},o.a.createElement(ue.a,{fullWidth:!0,color:"primary",size:"large",variant:"contained",onClick:function(){return s(!0).catch((function(){}))},disabled:g||f},"SALVAR")))))})),ol=la(No.updateMember,{name:"updateMember",init:!1,options:function(e){var t=e.formData,a=e.setFormData,n=e.member,r=e.setAlert,o=e.onClose,c=Object(N.pickBy)(t,(function(e,a){var n=t.previousValues[a];return!Object(N.isEqual)(n,e)})),i={};c.locationsOptions&&(i={locationIds:Object(N.map)(Object(N.pickBy)(c.locationsOptions,{checked:!0}),(function(e){return e.value}))});return{variables:Object(f.a)(Object(f.a)({id:n.id},c),i),onRequestFinished:function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getViewer();case 2:t=e.sent,I.setUserData(Object(N.get)(t,"member")),r({alertMsg:"Usu\xe1rio alterado com sucesso",alertType:"success",showAlert:!0}),o({shouldRefetch:!0});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){var t=Object(N.get)(e,"error","");r({alertMsg:t||"Erro ao alterar este usu\xe1rio",alertType:"error",showAlert:!0});var n=Object(N.mapValues)(Object(N.get)(e,"errors",{}),(function(e){return e[0]}));a({validationErrors:n})}}}}),cl=la(No.blockMember,{name:"blockMember",init:!1,options:function(e){var t=e.member,a=e.onClose,n=e.setAlert;return{variables:Object(N.get)(t,"id"),onRequestFinished:function(){n({alertMsg:"Usu\xe1rio bloqueado com sucesso",alertType:"success",showAlert:!0}),a({shouldRefetch:!0})},onRequestError:function(e){n({alertMsg:Object.values(e.errors).flat().join()||"Erro ao bloquear este usu\xe1rio",alertType:"error",showAlert:!0})}}}}),il=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{actions:{margin:15,marginBottom:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"}})}),{withTheme:!0}),Object(Z.h)("formData","setFormDataRaw",{locationsOptions:[],previousValues:{},validationErrors:{}}),Object(Z.e)({setFormData:function(e){var t=e.setFormDataRaw,a=e.formData;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),cl,ol)(rl),ll=function(e){return Object(f.a)({},oe(e))},sl=la(No.unblockMember,{name:"unblockMember",init:!1,options:function(e){var t=e.memberId,a=e.setAlert,n=e.refetch;return{variables:t,onRequestFinished:function(){a({alertMsg:"Usu\xe1rio desbloqueado com sucesso",alertType:"success",showAlert:!0}),G.hit("UnblockUser",{memberId:t}),n(!1)},onRequestError:function(){a({alertMsg:"Erro ao desbloquear usu\xe1rio",alertType:"error",showAlert:!0})}}}}),ml=Object(Z.b)(sl)((function(e){var t=e.unblockMemberFetch,a=e.unblockMember;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{variant:"outlined",size:"large",onClick:function(){return t(!0)},disabled:a},"Reativar conta"))})),ul=Object(Z.b)(Object(Z.h)("openModal","setOpenModal",!1),Object(Z.h)("canResendInivitation","setCanResendInivitation",!0))((function(e){var t=e.classes,a=e.canResendInivitation,n=e.setCanResendInivitation,r=e.setAlert,c=e.member,i=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!1),e.next=4,No.resendInvitationEmail(c.id);case 4:G.hit("NewMemberInvitation - Resend"),r({alertMsg:"Convite enviado com sucesso",alertType:"success",showAlert:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r({alertMsg:"Erro ao enviar email",alertType:"error",showAlert:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{className:t.smallScreenResendButton,variant:"outlined",size:"large",onClick:i,disabled:!a},a?"Reenviar convite":"Convite enviado"))})),dl=la(No.getMember,{name:"member",init:!1,options:function(e){return{variables:e.memberId}}}),bl=Object(Z.b)(Object(Z.h)("openModal","setOpenModal",!1),dl,Object(Z.g)(["openModal"],(function(e){var t=e.openModal,a=e.memberFetch;t&&a(!0)})))((function(e){var t=e.memberData,a=e.memberLoading,n=e.refetch,r=e.openModal,c=e.setOpenModal,i=e.setAlert,l=Object(N.get)(t,"member"),s=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.shouldRefetch){e.next=4;break}return e.next=4,n(!1);case 4:G.hit("MembersFormModal - Closed"),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{variant:"outlined",size:"large",onClick:function(){G.hit("MembersFormModal - Opened"),c(!0)}},"Editar"),r&&o.a.createElement(il,{isLoading:a,member:l,open:r,onClose:s,setAlert:i}))})),pl=Object(r.memo)((function(e){var t=e.viewer,a=e.index,n=e.member,r=e.classes,c=e.refetch,i=e.setAlert;if(!t)return null;var l=Object(N.get)(I.getUserData(),"id"),s=Object(N.get)(Object(N.find)(Qe,(function(e){return e.value===Object(N.get)(n,"role")})),"label"),m=Object(N.get)(n,"id"),u="".concat(Object(N.get)(n,"name")," ").concat(Object(N.get)(n,"lastname")),d=Object(N.get)(n,"email"),b=Object(N.get)(n,"photo_url"),p=Object(N.get)(n,"must_change_password",!1),g=Object(N.get)(n,"blocked_at"),f=Object(N.get)(n,"locations"),h=Object(N.map)(f,(function(e){return e.name})).join(", "),E=Je.includes(t.role),v=l!==m&&p;return o.a.createElement(Ta.a,{className:a%2?r.bgWhite:r.bgGray},o.a.createElement(xa.a,{className:r.tableSmallCell},o.a.createElement("div",{className:r.avatarNameContainer},o.a.createElement(Ya,{name:u,photoUrl:b}),o.a.createElement("span",{className:"".concat(r.cellText," ").concat(r.userName)},u))),o.a.createElement(xa.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},d)),o.a.createElement(xa.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},s)),o.a.createElement(xa.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},h)),o.a.createElement(xa.a,{className:r.tableMediumCell},o.a.createElement(me.a,{container:!0,item:!0},o.a.createElement(me.a,{item:!0,xs:12},g&&o.a.createElement(ml,{memberId:n.id,refetch:c,setAlert:i})),o.a.createElement(me.a,{item:!0,xs:12},E&&!g&&o.a.createElement(bl,{memberId:n.id,refetch:c,setAlert:i})),o.a.createElement(me.a,{item:!0,xs:12},v&&!g&&o.a.createElement(ul,{member:n,refetch:c,setAlert:i,classes:r})))))})),gl=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},ll(e)),{},{cellText:{color:"#313131",fontSize:14},userName:{marginRight:5,marginLeft:10},avatarNameContainer:{display:"flex",alignItems:"center"},smallScreenResendButton:{marginTop:10}})}),{withTheme:!0}),ur)(pl),fl=Object(r.memo)((function(e){var t=e.membersData,a=e.membersLoading,n=e.openCreateMemberModal,r=e.setOpenCreateMemberModal,c=e.classes,i=e.membersFetch,l=e.setAlert,s=e.onlyActive,m=e.setOnlyChecked,u=Object(N.get)(I.getUserData(),"id"),d=Object(N.get)(t,"members");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:c.container},o.a.createElement("div",{className:c.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Usu\xe1rios (".concat(Object(N.size)(d),")")))),o.a.createElement("aside",null,o.a.createElement("div",{className:c.headerButtonAndActiveFilter},o.a.createElement(Ut.a,{row:!0},o.a.createElement(zt.a,{control:o.a.createElement(Wt.a,{checked:s,onChange:function(e){m(e.target.checked),i(!0)},color:"primary",disabled:a}),label:"Usu\xe1rios ativos"})),o.a.createElement(ue.a,{size:"large",color:"primary",variant:"contained",onClick:function(){r(!0),G.hit("NewMemberModal - Opened")}},"CONVIDAR USU\xc1RIO"))))),o.a.createElement("div",{className:c.container},o.a.createElement(Xa.a,{className:c.tablePaper},o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:c.tableCell},"NOME"),o.a.createElement(xa.a,{className:c.tableCell},"EMAIL"),o.a.createElement(xa.a,{className:c.tableCell},"PERMISS\xc3O DE ACESSO"),o.a.createElement(xa.a,{className:c.tableCell},"LOCAIS"))),o.a.createElement(Na.a,null,a?o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{colSpan:5,align:"center"},o.a.createElement(pe,null))):Object(N.size)(d)?d.map((function(e,t){return o.a.createElement(gl,{loggedMemberId:u,refetch:i,setAlert:l,index:t,key:e.id,member:e,loading:a})})):o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:c.empty,colSpan:5,align:"center"},"Nenhum usu\xe1rio cadastrado")),n&&o.a.createElement(el,{onClose:function(){r(!1)},setAlert:l,refetch:i}))))))})),hl=la(No.getMembers,{name:"members",options:function(e){var t=e.setAlert;return{variables:{onlyActive:e.onlyActive},onRequestError:function(){t({alertMsg:"Erro ao carregar dados do servidor",alertType:"error",showAlert:!0})}}}}),El=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},ll(e)),{},{container:{marginBottom:30,marginTop:30},empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14},titleTableCell:{fontSize:20},headerButtonAndActiveFilter:{display:"flex",flexDirection:"row",alignItems:"center"},activeFilter:{marginRight:10}})}),{withTheme:!0}),Object(Z.h)("openCreateMemberModal","setOpenCreateMemberModal",!1),Object(Z.h)("onlyActive","setOnlyChecked",!0),oi({condition:function(e){return!Je.includes(e.role)}}),hl)(fl),vl=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=t.showAlert,c=t.alertMsg,i=t.alertType,l=null;return r&&(l=o.a.createElement(ct,{message:c,type:i,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}})),o.a.createElement("div",{className:n.root},o.a.createElement(An,{alertBox:l}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:n.container},o.a.createElement(Ln,null)),o.a.createElement("div",{className:n.container},o.a.createElement(El,{setAlert:a}))))})),Ol=Object(Z.b)(Object($.a)(ll,{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}))(vl),jl=Object(Z.b)(li,r.memo,Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}))((function(e){var t=e.classes,a=e.setAlert,n=e.WrappedComponent,r=Object(ft.a)(e,["classes","setAlert","WrappedComponent"]),c=le(n);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es")))),o.a.createElement(Ln,null),o.a.createElement(c,Object.assign({setAlert:a},r)))})),Cl=function(e){return function(t){return o.a.createElement(jl,Object.assign({},t,{WrappedComponent:e}))}},yl=[{label:"AC",value:"AC"},{label:"AL",value:"AL"},{label:"AP",value:"AP"},{label:"AM",value:"AM"},{label:"BA",value:"BA"},{label:"CE",value:"CE"},{label:"DF",value:"DF"},{label:"ES",value:"ES"},{label:"GO",value:"GO"},{label:"MA",value:"MA"},{label:"MT",value:"MT"},{label:"MS",value:"MS"},{label:"MG",value:"MG"},{label:"PA",value:"PA"},{label:"PB",value:"PB"},{label:"PR",value:"PR"},{label:"PE",value:"PE"},{label:"PI",value:"PI"},{label:"RJ",value:"RJ"},{label:"RN",value:"RN"},{label:"RS",value:"RS"},{label:"RO",value:"RO"},{label:"RR",value:"RR"},{label:"SC",value:"SC"},{label:"SP",value:"SP"},{label:"SE",value:"SE"},{label:"TO",value:"TO"}],kl=Object(r.memo)((function(e){var t=e.formData,a=e.setFormData,n=e.isLoading;if(n)return o.a.createElement(pe,null);var r=t.validationErrors||{};return o.a.createElement(me.a,{container:!0,direction:"row",spacing:1},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{errors:r.name,label:"Apelido",placeholder:"Endere\xe7o principal, Nome da sede, etc",disabled:n,value:t.name,onChange:function(e){return a({name:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{errors:r.address,label:"Endere\xe7o completo",placeholder:"Rua Monteiro Lobato, 555",disabled:n,value:t.address,onChange:function(e){return a({address:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{errors:r.complement,label:"Complemento",disabled:n,value:t.complement,onChange:function(e){return a({complement:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{errors:r.neighborhood,label:"Bairro",disabled:n,value:t.neighborhood,onChange:function(e){return a({neighborhood:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{errors:r.city,label:"Cidade",disabled:n,value:t.city,onChange:function(e){return a({city:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:6,sm:3},o.a.createElement(Lt,{errors:r.state,label:"Estado",disabled:n,value:t.state,onChange:function(e){return a({state:e.target.value})},options:yl,emptyOptionLabel:"Estado"})),o.a.createElement(me.a,{item:!0,xs:6,sm:3},o.a.createElement(St,{errors:r.zip_code,label:"CEP",disabled:n,value:t.zip_code,onChangeText:function(e){return a({zip_code:e})}})))})),Al=Object(r.memo)((function(e){var t=e.classes,a=e.open,n=e.onClose,r=e.modalTitle,c=e.formData,i=e.setFormData,l=e.onSubmit,s=e.isLoading,m=Object(Da.a)(),u=Object(Ma.a)(m.breakpoints.down("sm"));return o.a.createElement(Ar.a,{fullScreen:u,keepMounted:!0,fullWidth:!0,maxWidth:"md",classes:{paper:t.dialogMemberForm},open:a,onClose:n},o.a.createElement(wr.a,null,r,o.a.createElement(tt.a,{className:t.closeButton,onClick:function(){return n({shouldRefetch:!1})}},o.a.createElement(et.a,null))),o.a.createElement(Tr.a,{className:t.content},o.a.createElement(kl,{formData:c,setFormData:i,isLoading:s})),o.a.createElement(xr.a,{className:t.actions},o.a.createElement(me.a,{container:!0,justify:"flex-end",spacing:2},o.a.createElement(me.a,{item:!0,xs:6,sm:2},o.a.createElement(ue.a,{fullWidth:!0,color:"default",size:"large",variant:"contained",onClick:n,disabled:s},"CANCELAR")),o.a.createElement(me.a,{item:!0,xs:6,sm:2},o.a.createElement(ue.a,{fullWidth:!0,color:"primary",size:"large",variant:"contained",onClick:l,disabled:s},"SALVAR")))))})),wl=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{actions:{margin:15,marginBottom:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"}})}),{withTheme:!0})(Al),Tl=Object(r.memo)((function(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.onClose,r=e.formData,c=e.setFormData,i=e.updateLocationFetch,l=e.updateLocationLoading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{variant:"outlined",size:"large",onClick:function(){G.hit("EditLocationModal - Opened"),a(!0)}},"EDITAR"),t&&o.a.createElement(wl,{open:t,onClose:n,modalTitle:"Editar Local",formData:r,setFormData:c,onSubmit:function(){return i(!0).catch((function(){}))},isLoading:l}))})),xl=la(Ei.updateLocation,{name:"updateLocation",init:!1,options:function(e){var t=e.location,a=e.formData.changedFields,n=e.setFormData,r=e.setAlert,o=e.onUpdated,c=e.onClose;return{variables:{id:t.id,changes:a},onRequestFinished:function(){r({alertMsg:"Local criado alterado sucesso",alertType:"success",showAlert:!0}),o(),c()},onRequestError:function(e){r({alertMsg:"Erro ao alterar este local",alertType:"error",showAlert:!0}),n({validationErrors:Object(N.get)(e,"errors",{})})}}}}),Sl=Object(Z.b)(Object(Z.h)("isModalOpen","setIsModalOpen",!1),kr((function(e){return e.location})),Object(Z.e)({onClose:function(e){var t=e.resetFormData,a=e.setIsModalOpen;return function(){G.hit("EditLocationModal - Closed"),t(),a(!1)}}}),xl)(Tl),Nl=Object(r.memo)((function(e){var t=e.classes,a=e.setAlert,n=e.refetch,r=e.index,c=e.location,i=e.toggleActiveFetch,l=e.toggleActiveLoading,s=e.isActive,m=e.setIsActive,u=c||{},d=u.name,b=u.complement,p=u.address,g=u.city,f=u.state,h=b?"".concat(p,", ").concat(b):p,E=g&&f?"".concat(g,"/").concat(f):"";return o.a.createElement(Ta.a,{className:r%2?t.bgWhite:t.bgGray},o.a.createElement(xa.a,{className:t.tableSmallCell},o.a.createElement("span",{className:t.cellText},d)),o.a.createElement(xa.a,{className:t.tableSmallCell},o.a.createElement("span",{className:t.cellText},h)),o.a.createElement(xa.a,{className:t.tableSmallCell},o.a.createElement("span",{className:t.cellText},E)),o.a.createElement(xa.a,{className:t.tableSmallCell},o.a.createElement(so.a,{color:"primary",disabled:l,checked:s,onChange:function(){m(!s),i(!0)}})),o.a.createElement(xa.a,{className:t.tableSmallCell},o.a.createElement(Sl,{setAlert:a,onUpdated:n,location:c})))})),Dl=la(Ei.toggleActive,{name:"toggleActive",init:!1,options:function(e){var t=e.location,a=e.refetch,n=e.setAlert,r=e.isActive,o=e.setIsActive;return{variables:t.id,onRequestFinished:function(){a()},onRequestError:function(e){n({alertMsg:Object(N.get)(e,"error","Erro ao desabilitar este local")}),o(!r)}}}}),Ml=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{cellText:{color:"#313131",fontSize:14}})}),{withTheme:!0}),Object(Z.h)("isActive","setIsActive",(function(e){var t=e.location;return Object(N.isEmpty)(t.deleted_at)})),Dl)(Nl),Fl=Object(r.memo)((function(e){var t=e.locationsData,a=e.locationsLoading,n=e.locationsFetch,r=e.setAlert,c=e.classes,i=Object(N.get)(t,"locations",[]);return o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:c.tableCell},"NOME"),o.a.createElement(xa.a,{className:c.tableCell},"ENDERE\xc7O"),o.a.createElement(xa.a,{className:c.tableCell},"CIDADE"),o.a.createElement(xa.a,{className:c.tableCell},"HABILITAR"),o.a.createElement(xa.a,{className:c.tableCell}))),o.a.createElement(Na.a,null,a?o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{colSpan:5,align:"center"},o.a.createElement(pe,null))):Object(N.size)(i)?i.map((function(e,t){return o.a.createElement(Ml,{key:e.id,setAlert:r,index:t,location:e,refetch:n})})):o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:c.empty,colSpan:5,align:"center"},"Nenhum local cadastrado"))))})),Il=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14}})}),{withTheme:!0})(Fl),Rl={validationErrors:{},name:"",address:"",neighborhood:"",city:"",state:"",zip_code:"",complement:""},Ll=Object(r.memo)((function(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.onClose,r=e.formData,c=e.setFormData,i=e.createLocationFetch,l=e.createLocationLoading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{color:"primary",size:"large",variant:"contained",onClick:function(){G.hit("NewLocationModal - Opened"),a(!0)}},"NOVO LOCAL"),t&&o.a.createElement(wl,{open:t,onClose:n,modalTitle:"Novo Local",formData:r,setFormData:c,onSubmit:function(){return i(!0)},isLoading:l}))})),Bl=la(Ei.createLocation,{name:"createLocation",init:!1,options:function(e){var t=e.formData,a=e.setFormData,n=e.setAlert,r=e.onCreated,o=e.onClose;t.validationErrors;return{variables:Object(ft.a)(t,["validationErrors"]),onRequestFinished:function(){n({alertMsg:"Local criado com sucesso",alertType:"success",showAlert:!0}),r(),o()},onRequestError:function(e){n({alertMsg:"Erro ao criar local",alertType:"error",showAlert:!0}),a({validationErrors:Object(N.get)(e,"errors",{})})}}}}),Pl=Object(Z.b)(Object(Z.h)("isModalOpen","setIsModalOpen",!1),Object(Z.h)("formData","setFormDataRaw",Rl),Object(Z.e)({setFormData:function(e){var t=e.setFormDataRaw,a=e.formData;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),Object(Z.e)({onClose:function(e){var t=e.setFormData,a=e.setIsModalOpen;return function(){G.hit("NewLocationModal - Closed"),t(Rl),a(!1)}}}),Bl)(Ll),_l=Object(r.memo)((function(e){var t=e.locationsData,a=e.locationsLoading,n=e.locationsFetch,r=e.classes,c=e.setAlert;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:r.headerContainer},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Locais (".concat(Object(N.get)(t,"meta.totalCount",0),")"))),o.a.createElement(Pl,{setAlert:c,onCreated:n})),o.a.createElement(Xa.a,{className:r.tablePaper},o.a.createElement(Il,{setAlert:c,locationsData:t,locationsLoading:a,locationsFetch:n})))})),ql=la(Ei.getLocations,{name:"locations",options:function(e){var t=e.setAlert;return{variables:{listInactive:!0,listAll:!0},onRequestFinished:function(e){var t=Object(N.reject)(Object(N.get)(e,"locations",[]),(function(e){return Object(N.get)(e,"deleted_at")}));I.setUserData(Object(N.set)(I.getUserData(),"locations",t))},onRequestError:function(){t({alertMsg:"Erro ao carregar dados do servidor",alertType:"error",showAlert:!0})}}}}),Ul=Object(Z.b)(Cl,oi({condition:function(e){return!Je.includes(e.role)}}),Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:30,marginBottom:30}})}),{withTheme:!0}),ql)(_l),zl=a(547),Wl=a.n(zl),Vl={encryptCreditCard:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cardNumber,n=t.cardHolderName,r=t.cardExpirationDate,o=t.cardCvv,e.next=3,Wl.a.client.connect({encryption_key:P.pagarmeEncryptionKey});case 3:return c=e.sent,e.next=6,c.security.encrypt({card_number:a.replace(/\D+/g,""),card_holder_name:n,card_expiration_date:r.replace(/\D+/g,""),card_cvv:o});case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Hl={list:function(){return U.get("/plans").then((function(e){return rr.a.toCamelCase(e)}))}},Yl={list:function(){return U.get("/credit_cards").then((function(e){return rr.a.toCamelCase(e)}))}},Gl=function(e){if(null===e)return null;var t=/(\d{1,4})(?:-(\d{0,4}))?(?:-(\d{0,4}))?(?:-(\d{0,4}))?/.exec(e);if(!t)return t;var a=Object(N.filter)(t.slice(1),(function(e){return e}));return a.length<4&&4===Object(N.last)(a).length?"".concat(a.join("-"),"-"):a.join("-")},Ql=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{changeCard:{cursor:"pointer",display:"flex",justifyContent:"flex-end",alignItems:"flex-end",textDecoration:"underline"},changeCardIcon:{paddingTop:5,textDecoration:"none"}})}),{withTheme:!0}))((function(e){var t=e.isLoading,a=e.currentCreditCard,n=e.onSetNewCreditCard,r=e.classes,c=e.setFormData,i=e.formData,l=i.cardHolderName,s=i.cardNumber,m=i.cardCvv,u=i.cardExpirationDate;return a?o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Dados do cart\xe3o de cr\xe9dito")),o.a.createElement(Yn.a,{pt:2},o.a.createElement(ge.a,{variant:"body1"},o.a.createElement("b",null,"Titular: "),a.holderName),o.a.createElement(ge.a,{variant:"body1"},o.a.createElement("b",null,"Cart\xe3o: "),"****-****-****-".concat(a.lastDigits," (").concat(Object(N.capitalize)(a.brand),")")),o.a.createElement(ge.a,{variant:"body1"},o.a.createElement("b",null,"Data de expira\xe7\xe3o: "),A()(a.expiration,"MM/YY").format("MM/YY"))),o.a.createElement("span",{className:r.changeCard,onClick:n},o.a.createElement(Xr.a,{className:r.changeCardIcon}),"Mudar de cart\xe3o")):o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Dados do cart\xe3o de cr\xe9dito")),o.a.createElement(me.a,{container:!0,alignItems:"center"},o.a.createElement(me.a,{item:!0,xs:12,sm:12},o.a.createElement(Ot,{label:"Titular",placeholder:"Nome do t\xedtular",disabled:t,value:l,onChangeText:function(e){return c({cardHolderName:e})}})),o.a.createElement(me.a,{container:!0,alignItems:"center",spacing:1},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Ot,{label:"N\xfamero",placeholder:"N\xfamero do cart\xe3o",disabled:t,value:s||"",onChangeText:function(e){return c({cardNumber:e})},maskFunction:Gl})),o.a.createElement(me.a,{item:!0,xs:5,sm:3},o.a.createElement(jt,{label:"CVV",disabled:t,value:m,onChangeText:function(e){return c({cardCvv:e})},max:999})),o.a.createElement(me.a,{item:!0,xs:7,sm:3},o.a.createElement(Ot,{placeholder:"MM/AA",label:"Data de expira\xe7\xe3o",disabled:t,value:u||"",onChangeText:function(e){return c({cardExpirationDate:e})},maskFunction:function(e){return function(e){var t=e.oldValue,a=e.newValue;if(null===a)return null;var n=/(\d{1,2})(?:\/?(\d{0,2}))?/.exec(a);if(!n)return n;var r=Object(N.filter)(n.slice(1),(function(e){return e})),o=Object(xt.a)(r,2),c=o[0],i=o[1];return Number(c)>12?t:1===c.length&&Number(c)>1?"0".concat(c,"/"):2!==c.length?c:"".concat(c,"/").concat(i||"")}({newValue:e,oldValue:u})}})))))})),Jl=Object(Z.b)(r.memo)((function(e){var t=e.isLoading,a=e.setFormData,n=e.formData,r=n.cnpj,c=n.addressZipcode,i=n.addressNumber,l=n.addressComplementary,s=n.phone;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Dados do cliente")),o.a.createElement(me.a,{container:!0,alignItems:"center"},o.a.createElement(me.a,{container:!0,alignItems:"center",spacing:1},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(jt,{label:"CNPJ",placeholder:"CNPJ da empresa (Somente n\xfameros)",disabled:t,value:r,onChangeText:function(e){return a({cnpj:e})},max:99999999999999})),o.a.createElement(me.a,{item:!0,xs:8,sm:6},o.a.createElement(Mt,{label:"Telefone",placeholder:"Contato da empresa",disabled:t,value:s,onChangeText:function(e){return a({phone:e})}}))),o.a.createElement(me.a,{container:!0,alignItems:"center",spacing:1},o.a.createElement(me.a,{item:!0,xs:8,sm:5},o.a.createElement(St,{label:"CEP",placeholder:"CEP da empresa",disabled:t,value:c,onChangeText:function(e){return a({addressZipcode:e})}})),o.a.createElement(me.a,{item:!0,xs:6,sm:3},o.a.createElement(jt,{label:"N\xfamero",placeholder:"N\xfamero logradouro do CEP",disabled:t,value:i,onChangeText:function(e){return a({addressNumber:e})}})),o.a.createElement(me.a,{item:!0,xs:6,sm:4},o.a.createElement(Ot,{label:"Complemento",placeholder:"Complemento do CEP",disabled:t,value:l,onChangeText:function(e){return a({addressComplementary:e})}})))))})),Xl=function(e){var t=e.item,a=e.classes;return o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:a.tableMediumCell},o.a.createElement(ge.a,{variant:"body1"},t.title),Object(N.get)(t,"description","").split("\n").map((function(e){return o.a.createElement("div",{key:e},o.a.createElement(ge.a,{variant:"body1"},o.a.createElement("small",null,e)))}))),o.a.createElement(xa.a,{className:a.priceCell},o.a.createElement(ge.a,{variant:"h6",component:"span"},o.a.createElement("b",null,Kr.toCurrency(t.value)))))},Kl=function(e){var t=e.item,a=e.disabled,n=e.classes,r=e.onAmountChange;return o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:n.tableMediumCell},o.a.createElement(ge.a,{variant:"body1"},t.title,"\xa0-\xa0",o.a.createElement("b",null,Kr.toCurrency(t.unitPrice))),Object(N.get)(t,"description","").split("\n").map((function(e){return o.a.createElement("div",{key:e},o.a.createElement(ge.a,{variant:"body1"},o.a.createElement("small",null,e)))}))),o.a.createElement(xa.a,{className:n.numberFieldCell},!t.disableAmount&&o.a.createElement(Tt,{value:t.amount,disabled:a,onChangeText:r,min:1})))},Zl=Object(Z.b)(r.memo,Object($.a)((function(e){var t=oe(e);return Object(f.a)(Object(f.a)({},t),{},{tableSmallCell:Object(f.a)(Object(f.a)({},t.tableSmallCell),{},{borderBottom:"none",padding:e.spacing(1),paddingLeft:0}),tableMediumCell:Object(f.a)(Object(f.a)({},t.tableMediumCell),{},{borderBottom:"none",padding:e.spacing(1),paddingLeft:0}),priceCell:Object(f.a)(Object(f.a)({},t.tableSmallCell),{},{borderBottom:"none",padding:e.spacing(1),paddingLeft:0,textAlign:"right"}),numberFieldCell:Object(f.a)(Object(f.a)({},t.tableSmallCell),{},{borderBottom:"none",padding:e.spacing(1),paddingLeft:0,verticalAlign:"text-top",textAlign:"right"})})}),{withTheme:!0}),Object(Z.e)({setItemAmount:function(e){var t=e.formData.items,a=e.setFormData;return function(e,n){var r=t.slice(0,e),o=Object(f.a)(Object(f.a)({},t[e]),{},{amount:n}),c=t.slice(e+1,t.length-1);a({items:r.concat(o).concat(c)})}}}))((function(e){var t=e.classes,a=e.isDowngrade,n=e.formData,r=n.items,c=n.refundItems,i=e.nextCharge,l=e.disabled,s=e.setItemAmount,m=a?0:Object(N.max)([0,Object(N.sumBy)(r,(function(e){return e.unitPrice*e.amount}))-Object(N.sumBy)(c,(function(e){return e.value}))]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Sum\xe1rio")),o.a.createElement(Aa.a,null,o.a.createElement(Na.a,null,Object(N.map)(r,(function(e,a){return o.a.createElement(Kl,{key:"#".concat(a).concat(e.title),item:e,disabled:l,classes:t,onAmountChange:function(e){return s(a,e)}})})),!Object(N.isEmpty)(i)&&o.a.createElement(Xl,{item:i,classes:t}),!a&&Object(N.map)(c,(function(e,a){return o.a.createElement(Xl,{key:"#".concat(a).concat(e.title),item:{title:e.title,value:-1*e.value||0},classes:t})})),o.a.createElement(Xl,{item:{title:"Valor cobrado hoje",description:a?"* Ao reduzir lugares, o plano ser\xe1 atualizado na pr\xf3xima cobran\xe7a.":"",value:m},classes:t}))))})),$l=P.isProduction?30:1,es=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.currentCreditCard,n=t.formFields,e.prev=1,!Object(N.isEmpty)(a)){e.next=8;break}return e.next=5,Vl.encryptCreditCard(n);case 5:r=e.sent,e.next=9;break;case 8:o=Object(N.get)(a,"id");case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),r=null;case 15:return e.abrupt("return",{creditCardHash:r,creditCardId:o});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),ts=la((function(){return Promise.all([Hl.list().catch((function(e){return e})),Yl.list().catch((function(e){return e})),mr.get().catch((function(e){return e}))])}),{name:"preload",props:function(e){var t=e.preloadData;return t?{plan:Object(N.first)(Object(N.get)(Object(N.find)(t,(function(e){return e.plans})),"plans")),currentSubscription:Object(N.get)(Object(N.find)(t,(function(e){return e.subscription})),"subscription")}:{}},options:function(e){var t=e.setAlert,a=e.setCurrentCreditCard;return{onRequestFinished:function(e){var t=Object(N.first)(Object(N.get)(Object(N.find)(e,(function(e){return e.creditCards})),"creditCards"));a(t)},onRequestError:function(e){console.error(e),t({alertMsg:"Erro ao carregar informa\xe7\xf5es sobre assinar plano",alertType:"error",showAlert:!0})}}}}),as=la(mr.create,{name:"create",init:!1,options:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,i,l,s,d,b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.currentCreditCard,c=t.setAlert,i=t.plan,l=t.history,a.validationErrors,s=Object(ft.a)(a,["validationErrors"]),d=Object(N.get)(Object(N.first)(s.items),"amount"),e.next=5,es({formFields:s,currentCreditCard:o});case 5:return b=e.sent,e.abrupt("return",{variables:Object(f.a)(Object(f.a)(Object(f.a)({},a),b),{},{planName:i.planName,planSeats:d}),onRequestFinished:function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({alertMsg:"Assinatura de plano efetuada com sucesso.",alertType:"success",showAlert:!0}),r(),e.next=4,z.getViewer();case 4:t=e.sent,I.setUserData(Object(N.get)(t,"member")),setTimeout((function(){l.push("/configuracoes/meu-plano")}),2e3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){c({alertMsg:Object(N.get)(e,"error","Erro ao assinar plano, fique tranquilo, nenhuma cobran\xe7a foi efetuada."),alertType:"error",showAlert:!0}),n({validationErrors:Object(N.get)(e,"errors",{})})}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),ns=la(mr.update,{name:"update",init:!1,options:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,i,l,s,d,b,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentSubscription,n=t.currentCreditCard,r=t.setAlert,o=t.formData,c=t.setFormData,i=t.resetFormData,l=t.plan,s=t.history,o.validationErrors,d=Object(ft.a)(o,["validationErrors"]),b=Object(N.get)(Object(N.first)(d.items),"amount"),e.next=5,es({formFields:d,currentCreditCard:n});case 5:return p=e.sent,e.abrupt("return",{variables:Object(f.a)({id:a.id,planName:l.planName,planSeats:b},p),onRequestFinished:function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({alertMsg:"Assinatura de plano atualizada com sucesso.",alertType:"success",showAlert:!0}),i(),e.next=4,z.getViewer();case 4:t=e.sent,I.setUserData(Object(N.get)(t,"member")),setTimeout((function(){s.push("/configuracoes/meu-plano")}),2e3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){r({alertMsg:Object(N.get)(e,"error","Erro ao atualizar plano, fique tranquilo, nenhuma cobran\xe7a foi efetuada."),alertType:"error",showAlert:!0}),c({validationErrors:Object(N.get)(e,"errors",{})})}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),rs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),li,oi({condition:function(e){return!Je.includes(e.role)}}),h.g,r.memo,Object(Z.h)("currentCreditCard","setCurrentCreditCard",null),ts,Object(Z.f)((function(e){var t=e.currentSubscription,a=Object(N.get)(t,"periodEnd");return{hasActiveSubscription:a&&new Date(a)>new Date}})),kr((function(e){var t=Object(N.get)(e,"viewer.company"),a=Object(N.get)(e,"plan"),n=Object(N.get)(e,"currentSubscription"),r=Object(N.get)(e,"hasActiveSubscription"),o=Object(N.get)(n,"plan.seats")||Object(N.get)(t,"total_paid_users")||1,c=r?function(e){var t=e.periodStart,a=e.periodEnd,n=e.currentPrice,r=A()(a).endOf("day"),o=A()(t).endOf("day"),c=r.diff(o,"days");return A()(r).diff(A()(),"days")/c*n}(n):0,i=c?[{title:"Valor de desconto do per\xedodo atual",value:c}]:[];return{cardHolderName:"",cardNumber:"",cardCvv:null,cardExpirationDate:"",cnpj:"",addressZipcode:"",addressNumber:"",addressComplementary:"",phone:"",items:[{title:Object(N.get)(a,"planName"),description:"Acesso a ferramenta de gest\xe3o das solicita\xe7\xf5es dos colaboradores de forma centralizada. Seus colaboradores podem abrir tickets para voc\xea e seu time facilmente, seja no computador, celular, QR code ou integrado ao Slack. Tenha mais visibilidade e produtividade na gest\xe3o das suas tarefas.",unitPrice:Object(N.get)(a,"planPrice"),amount:o}],refundItems:i}})),Object(Z.f)((function(e){var t=e.currentSubscription,a=e.hasActiveSubscription,n=e.formData,r=Object(N.first)(n.items),o=Object(N.get)(t,"plan.seats"),c=Object(N.get)(r,"amount"),i=c<o,l=a?A()(t.periodEnd):A()().add($l,"days");return{isDowngrade:i,nextCharge:a?{title:"Pr\xf3xima cobran\xe7a em ".concat(l.format("DD/MM/YYYY")),value:r.unitPrice*c}:null}})),as,ns,Object(Z.e)({onSubmit:function(e){var t=e.createFetch,a=e.updateFetch,n=e.hasActiveSubscription;return function(){return n?a(!0):t(!0)}}}))((function(e){var t=e.formData,a=e.setFormData,n=e.onSubmit,r=e.createLoading,c=e.updateLoading,i=e.preloadError,l=e.preloadLoading,s=e.currentCreditCard,m=e.setCurrentCreditCard,u=e.nextCharge,d=e.isDowngrade,b=e.hasActiveSubscription,p=e.history,g=e.plan,f=e.classes;if(l)return o.a.createElement(pe,null);var h=c||r,E=h||i;return Object(N.isEmpty)(g)?o.a.createElement("div",{className:f.centerHeaderView},o.a.createElement(te.a,{className:f.emptyHeaderIcon}),o.a.createElement("b",{className:f.emptyHeaderTitle},"Sistema de assinatura esta temporariamente fora de servi\xe7o")):o.a.createElement(me.a,{item:!0,xs:12,sm:9},o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Assinar plano")),o.a.createElement(Yn.a,{mt:3,mb:2},o.a.createElement(Ql,{currentCreditCard:s,formData:t,setFormData:a,isLoading:h,onSetNewCreditCard:function(){return m(null)}}),!b&&o.a.createElement(Yn.a,{mt:2},o.a.createElement(Jl,{formData:t,setFormData:a,disabled:h})),o.a.createElement(Yn.a,{mt:2},o.a.createElement(Zl,{formData:t,setFormData:a,disabled:h,nextCharge:u,isDowngrade:d}))),o.a.createElement(me.a,{justify:"flex-end",container:!0,item:!0,xs:12},o.a.createElement(ue.a,{color:"default",size:"large",onClick:function(){return p.push("/configuracoes/meu-plano")}},"Voltar"),"\xa0\xa0\xa0",o.a.createElement(ue.a,{color:"primary",size:"large",variant:"contained",onClick:n,disabled:E},b?"Atualizar Plano":"Assinar Plano")))})),os=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{boxItemText:{margin:e.spacing(2)},boxPad:{padding:e.spacing(2)},borderRight:{borderWidth:"thin",borderRight:"solid",borderRightColor:e.palette.grey[300]}})}),{withTheme:!0}),h.g)((function(e){var t=e.classes,a=e.history;return o.a.createElement(Xa.a,{className:t.tablePaper},o.a.createElement(me.a,{container:!0,justify:"center",alignItems:"flex-start"},o.a.createElement(me.a,{item:!0,xs:12,sm:!0,align:"center",className:t.boxPad},o.a.createElement(ge.a,{variant:"h6"},"Plano atual"),o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Essencial (Gratuito)")),o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",className:t.boxItemText,onClick:function(){return a.push("/assinar-plano")}},"ASSINAR PLANO PROFISSIONAL"))))})),cs=la(mr.cancel,{name:"cancel",init:!1,options:function(e){var t=e.setAlert,a=e.subscription,n=e.onCancelSuccess;return{variables:a.id,onRequestFinished:function(){t({alertMsg:"Cancelamento de assinatura foi agendado com sucesso",alertType:"success",showAlert:!0}),n&&n()},onRequestError:function(e){t({alertMsg:Object(N.get)(e,"error","N\xe3o foi poss\xedvel cancelar sua assinatura."),alertType:"error",showAlert:!0})}}}}),is=Object(Z.b)(r.memo,cs,Object(Z.e)({onClick:function(e){var t=e.cancelFetch;return function(){window.confirm("Deseja mesmo cancelar sua assinatura?")&&t(!0)}}}))((function(e){var t=e.className,a=e.onClick;return o.a.createElement(ue.a,{className:t,onClick:a},"CANCELAR PLANO")})),ls=la(mr.undoCancelation,{name:"undocancelation",init:!1,options:function(e){var t=e.setAlert,a=e.onSuccess;return{onRequestFinished:function(){t({alertMsg:"Sua assinatura foi reativada sucesso.",alertType:"success",showAlert:!0}),a&&a()},onRequestError:function(e){console.error(e),t({alertMsg:Object(N.get)(e,"error","N\xe3o foi poss\xedvel reativar sua assinatura."),alertType:"error",showAlert:!0})}}}}),ss=Object(Z.b)(r.memo,ls,Object(Z.e)({onClick:function(e){var t=e.undocancelationFetch;return function(){return t(!0)}}}))((function(e){var t=e.className,a=e.onClick;return o.a.createElement(ue.a,{variant:"outlined",className:t,onClick:a},"REATIVAR PLANO")})),ms=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{boxItemText:{margin:e.spacing(2)},updateSeats:{marginTop:-3},centerBox:{borderWidth:"thin",borderLeft:"solid",borderLeftColor:e.palette.grey[300],borderRight:"solid",borderRightColor:e.palette.grey[300],marginBottom:20}})}),{withTheme:!0}),ur,h.g)((function(e){var t=e.classes,a=e.setAlert,n=e.viewer,r=e.subscription,c=e.refetch,i=e.history;if(!n||!r)return null;var l=Object(N.get)(r,"plan",{}),s=Object(N.get)(n,"company.total_paid_users",0);return o.a.createElement(Xa.a,{className:t.tablePaper},o.a.createElement(me.a,{container:!0,justify:"center",alignItems:"flex-start"},o.a.createElement(me.a,{item:!0,xs:12,sm:!0,align:"center"},o.a.createElement(ge.a,{variant:"h6",className:t.boxItemText},"Administradores"),o.a.createElement(ge.a,{variant:"h5",className:t.boxItemText},o.a.createElement("b",null,"".concat(s,"/").concat(l.seats))),o.a.createElement(ue.a,{variant:"outlined",className:t.boxItemText,onClick:function(){return i.push("/configuracoes/usuarios")}},"GERENCIAR USU\xc1RIOS")),o.a.createElement(me.a,{item:!0,xs:12,sm:!0,align:"center",className:t.centerBox},o.a.createElement(ge.a,{variant:"h6",className:t.boxItemText},"Valor da assinatura"),o.a.createElement("div",{className:t.boxItemText},o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,Kr.toCurrency(r.currentPrice))),o.a.createElement("small",null,r.willCancelAt?"Termina em: ".concat(A()(r.willCancelAt).format("DD/MM/YYYY")):"Pr\xf3xima cobran\xe7a: ".concat(A()(r.periodEnd).format("DD/MM/YYYY HH:mm")))),!r.willCancelAt&&o.a.createElement(ue.a,{variant:"outlined",className:t.updateSeats,onClick:function(){return i.push("/assinar-plano")}},"ADICIONAR LUGARES")),o.a.createElement(me.a,{item:!0,xs:12,sm:!0,align:"center"},o.a.createElement(ge.a,{variant:"h6",className:t.boxItemText},"Plano atual"),o.a.createElement(ge.a,{variant:"h5",className:t.boxItemText},o.a.createElement("b",null,l.name)),r.willCancelAt?o.a.createElement(ss,{setAlert:a,className:t.boxItemText,subscription:r,onSuccess:c}):o.a.createElement(is,{setAlert:a,className:t.boxItemText,subscription:r,onCancelSuccess:c}))))})),us={getInvoices:function(){return U.get("/invoices")}},ds=[{label:"Boleto",key:"BOLETO"},{label:"Cart\xe3o de cr\xe9dito",key:"CREDIT_CARD"}],bs=[{label:"Processando",value:"PROCESSING"},{label:"Autorizado",value:"AUTHORIZED"},{label:"Estornado",value:"REFUNDED"},{label:"Aguardando Pagamento",value:"WAITING_PAYMENT"},{label:"Aguardando Estorno",value:"PENDING_REFUND"},{label:"Pago",value:"PAID"},{label:"Recusado",value:"REFUSED"}],ps=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{cellText:{color:"#313131",fontSize:14},userName:{marginRight:5,marginLeft:10},avatarNameContainer:{display:"flex",alignItems:"center"},smallScreenResendButton:{marginTop:10}})}),{withTheme:!0}))((function(e){var t=e.index,a=e.classes,n=e.invoice,r=Object(N.get)(Object(N.find)(ds,(function(e){return e.key===n.payment_type})),"label"),c=Object(N.get)(Object(N.find)(bs,(function(e){return e.value===n.status})),"label"),i=A()(n.created_at).format("DD/MM/YYYY");return o.a.createElement(Ta.a,{className:t%2?a.bgWhite:a.bgGray},o.a.createElement(xa.a,{className:a.tableSmallCell},o.a.createElement("span",{className:a.cellText},n.description)),o.a.createElement(xa.a,{className:a.tableSmallCell},o.a.createElement("span",{className:a.cellText},Kr.toCurrency(n.amount))),o.a.createElement(xa.a,{className:a.tableSmallCell},o.a.createElement("span",{className:"".concat(a.cellText)},r)),o.a.createElement(xa.a,{className:a.tableSmallCell},n.boleto_link&&o.a.createElement("a",{href:n.boleto_link,className:a.cellText,target:"_blank",rel:"noopener noreferrer"},"Ver boleto")),o.a.createElement(xa.a,{className:a.tableSmallCell},o.a.createElement("span",{className:a.cellText},c)),o.a.createElement(xa.a,{className:a.tableSmallCell},o.a.createElement("span",{className:a.cellText},i)))})),gs=Object(r.memo)((function(e){var t=e.invoicesData,a=e.invoicesLoading,n=e.classes,r=e.setAlert,c=Object(N.get)(t,"invoices");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Pagamentos (".concat(Object(N.size)(c),")")))))),o.a.createElement("div",{className:n.container},o.a.createElement(Xa.a,{className:n.tablePaper},o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:n.tableSmallCell},"DESCRI\xc7\xc3O"),o.a.createElement(xa.a,{className:n.tableSmallCell},"VALOR"),o.a.createElement(xa.a,{className:n.tableSmallCell},"FORMA DE PGTO"),o.a.createElement(xa.a,{className:n.tableSmallCell},"LINK BOLETO"),o.a.createElement(xa.a,{className:n.tableSmallCell},"STATUS"),o.a.createElement(xa.a,{className:n.tableSmallCell},"DATA"))),o.a.createElement(Na.a,null,a?o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{colSpan:6,align:"center"},o.a.createElement(pe,null))):Object(N.size)(c)?c.map((function(e,t){return o.a.createElement(ps,{setAlert:r,index:t,key:e.id,invoice:e,loading:a})})):o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:n.empty,colSpan:6,align:"center"},"Nenhum pagamento realizado")))))))})),fs=la(us.getInvoices,{name:"invoices",options:function(e){var t=e.setAlert;return{onRequestError:function(){t({alertMsg:"Erro ao carregar hist\xf3rico de pagamentos",alertType:"error",showAlert:!0})}}}}),hs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{container:{marginBottom:30,marginTop:30},empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14},titleTableCell:{fontSize:20},headerButtonAndActiveFilter:{display:"flex",flexDirection:"row",alignItems:"center"},activeFilter:{marginRight:10}})}),{withTheme:!0}),oi({condition:function(e){return!Je.includes(e.role)}}),fs)(gs),Es=la(mr.get,{name:"subscription",options:function(e){var t=e.setAlert;return{onRequestError:function(){t({alertMsg:"Erro ao carregar dados do servidor",alertType:"error",showAlert:!0})}}}}),vs=Object(Z.b)(r.memo,oi({condition:function(e){return!Je.includes(e.role)}}),ur,Object(Z.h)("loading","setLoading",!0),Cl,Es)((function(e){var t,a=e.viewer,n=e.setAlert,r=e.subscriptionData,c=e.subscriptionLoading,i=e.subscriptionError,l=e.subscriptionFetch,s=Object(N.get)(a,"company.trial_expiration"),m=Object(N.get)(r,"subscription");if(c)return o.a.createElement(pe,null);Object(N.isEmpty)(i)&&(t=m&&new Date(m.periodEnd)>new Date?o.a.createElement(ms,{setAlert:n,subscription:m,refetch:function(){return l(!0)}}):o.a.createElement(os,{setAlert:n}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(er,{trialExpiration:s,willDowngradeAt:Object(N.get)(m,"willDowngradeAt"),willCancelAt:Object(N.get)(m,"willCancelAt")}),o.a.createElement(Yn.a,{mb:4,mt:2},t,o.a.createElement(hs,{setAlert:n})))})),Os={toggleNewTicket:function(){return U.put("/notification_settings/toggle_new_ticket",{}).then((function(e){return rr.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=rr.a.toCamelCase(e.errors)),e}))},toggleTicketUpdates:function(){return U.put("/notification_settings/toggle_ticket_updates",{}).then((function(e){return rr.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=rr.a.toCamelCase(e.errors)),e}))}},js=la(Os.toggleNewTicket,{init:!1,props:function(e){return e.data||{}},options:function(e){var t=e.setAlert,a=e.viewer;return{onRequestFinished:function(){I.setUserData(Object(f.a)(Object(f.a)({},a),{},{notify_new_ticket:!a.notify_new_ticket}))},onRequestError:function(e){var a=e.errors?Object.values(e.errors).flat().join():"Erro ao comunicar com servidor";t({alertMsg:a,alertType:"error",showAlert:!0})}}}}),Cs=Object(Z.b)(r.memo,ur,js,Object(Z.e)({onSubmit:function(e){var t=e.fetch;return function(){return t(!0)}}}))((function(e){var t=e.viewer,a=e.loading,n=e.onSubmit;return o.a.createElement("div",null,o.a.createElement(so.a,{color:"primary",disabled:a,checked:t.notify_new_ticket,onChange:n}),o.a.createElement(ge.a,{variant:"body1",component:"span"},"Receber notifica\xe7\xf5es de novos tickets abertos"))})),ys=la(Os.toggleTicketUpdates,{init:!1,props:function(e){return e.data||{}},options:function(e){var t=e.setAlert,a=e.viewer;return{onRequestFinished:function(){I.setUserData(Object(f.a)(Object(f.a)({},a),{},{notify_ticket_updates:!a.notify_ticket_updates}))},onRequestError:function(e){var a=e.errors?Object.values(e.errors).flat().join():"Erro ao comunicar com servidor";t({alertMsg:a,alertType:"error",showAlert:!0})}}}}),ks=Object(Z.b)(r.memo,ur,ys,Object(Z.e)({onSubmit:function(e){var t=e.fetch;return function(){return t(!0)}}}))((function(e){var t=e.viewer,a=e.loading,n=e.onSubmit;return o.a.createElement("div",null,o.a.createElement(so.a,{color:"primary",disabled:a,checked:t.notify_ticket_updates,onChange:n}),o.a.createElement(ge.a,{variant:"body1",component:"span"},"Receber notifica\xe7\xf5es de atualiza\xe7\xf5es de tickets que fa\xe7o parte"))})),As=Object(Z.b)(r.memo,Cl,Object($.a)(oe,{withTheme:!0}),ur)((function(e){var t=e.classes,a=e.setAlert,n=e.viewer;return o.a.createElement(Yn.a,{mt:5},o.a.createElement(Xa.a,{className:t.paper},"MEMBER"!==n.role&&o.a.createElement(Cs,{setAlert:a}),o.a.createElement(ks,{setAlert:a})))})),ws=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.updateMemberFetch,c=e.updateMemberLoading,i=e.errors,l=e.email,s=e.name,m=e.lastname,u=e.setName,d=e.setLastname,b=e.jobRole,p=e.setJobRole,g=t.showAlert,f=t.alertMsg,h=t.alertType,E=null;g&&(E=o.a.createElement(ct,{message:f,type:h,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}}));var O=c;return o.a.createElement("div",{className:n.root},o.a.createElement(An,{alertBox:E}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:n.container},o.a.createElement(Ln,null)),o.a.createElement("br",null),o.a.createElement("div",{className:n.container},o.a.createElement(Xa.a,{className:n.paper},o.a.createElement(me.a,{container:!0,item:!0,xs:12,sm:6,md:4},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Ot,{errors:v()(i,"name",[]),label:"Nome",className:n.input,disabled:O,value:s,onChange:function(e){return u(e.target.value)}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Ot,{errors:v()(i,"lastname",[]),label:"Sobrenome",className:n.input,disabled:O,value:m,onChange:function(e){return d(e.target.value)}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Ot,{disabled:!0,label:"Email",className:n.input,value:l})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Ot,{errors:v()(i,"jobRole",[]),label:"Departamento",className:n.input,value:b,disabled:O,onChange:function(e){return p(e.target.value)}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement("div",{className:n.actions},o.a.createElement(ue.a,{onClick:function(){return r(!0)},size:"large",color:"primary",variant:"contained",disabled:O},"Atualizar"))))))))})),Ts=la(z.updateMember,{name:"updateMember",init:!1,options:function(e){var t=e.name,a=e.lastname,n=e.jobRole,r=e.setAlert,o=e.setName,c=e.setLastname,i=e.setJobRole,l=e.setErrors;return{variables:{name:t,lastname:a,jobRole:n},onRequestFinished:function(){var e=Object(u.a)(m.a.mark((function e(){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getViewer();case 3:s=e.sent,I.setUserData(v()(s,"member")),o(t),c(a),i(n),r({alertMsg:"Perfil atualizado com sucesso",alertType:"success",showAlert:!0}),l({}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r({alertMsg:"Erro ao atualizar perfil",alertType:"error",showAlert:!0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){l(v()(e,"errors",{})),r({alertMsg:"Erro ao atualizar perfil",alertType:"error",showAlert:!0})}}}}),xs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{input:{marginBottom:0}})}),{withTheme:!0}),h.g,Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("disabled","setDisabled",!1),Object(Z.h)("name","setName",""),Object(Z.h)("lastname","setLastname",""),Object(Z.h)("email","setEmail",""),Object(Z.h)("jobRole","setJobRole",""),Object(Z.h)("errors","setErrors",{}),Ts,Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.setName,a=e.setLastname,n=e.setEmail,r=e.setJobRole,o=I.getUserData();t(v()(o,"name")),a(v()(o,"lastname")),n(v()(o,"email")),r(v()(o,"job_role"))}}))(ws),Ss=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.password,c=e.errors,i=e.confirmPassword,l=e.setPassword,s=e.setConfirmPassword,m=e.updateMemberFetch,u=e.updateMemberLoading,d=t.showAlert,b=t.alertMsg,p=t.alertType,g=null;d&&(g=o.a.createElement(ct,{message:b,type:p,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}}));var f=u;return o.a.createElement("div",{className:n.root},o.a.createElement(An,{alertBox:g}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:n.container},o.a.createElement(Ln,null)),o.a.createElement("br",null),o.a.createElement("div",{className:n.container},o.a.createElement(Xa.a,{className:n.paper},o.a.createElement(me.a,{container:!0,item:!0,xs:12,sm:6,md:4},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Ot,{errors:v()(c,"password",[]),label:"Nova senha",type:"password",className:n.input,disabled:f,value:r,onChange:function(e){return l(e.target.value)}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Ot,{label:"Confirmar nova senha",type:"password",className:n.input,disabled:f,value:i,onChange:function(e){return s(e.target.value)}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement("div",{className:n.actions},o.a.createElement(ue.a,{onClick:function(){r===i?m(!0):a({alertMsg:"As senhas est\xe3o diferentes",alertType:"error",showAlert:!0})},size:"large",color:"primary",variant:"contained",disabled:f},"Atualizar"))))))))})),Ns=la(z.updateMemberPassword,{name:"updateMember",init:!1,options:function(e){var t=e.password,a=e.setAlert,n=e.setPassword,r=e.setConfirmPassword,o=e.setErrors;return{variables:{password:t},onRequestFinished:function(){a({alertMsg:"Perfil atualizado com sucesso",alertType:"success",showAlert:!0}),n(""),r(""),o({})},onRequestError:function(e){o(v()(e,"errors",{})),a({alertMsg:"Erro ao atualizar perfil",alertType:"error",showAlert:!0})}}}}),Ds=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{input:{marginBottom:0}})}),{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("password","setPassword",""),Object(Z.h)("confirmPassword","setConfirmPassword",""),Object(Z.h)("errors","setErrors",{}),Ns)(Ss),Ms=function(e){return Object(f.a)({},oe(e))},Fs=la(or.getAssignables,{name:"assignables",props:function(e){var t=e.assignablesData;return{assignables:Object(N.get)(t,"members",[])}}}),Is=la(ir.createCategory,{name:"create",init:!1,options:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.setAlert,c=t.onClose,i=t.refetch,e.abrupt("return",{variables:a.changedFields,onRequestFinished:function(){G.hit("TicketCategory - Created"),r(),i(!0),o({alertMsg:"Categoria criada com sucesso",alertType:"success",showAlert:!0}),c()},onRequestError:function(e){n({validationErrors:Object(N.get)(e,"errors",{})}),o({alertMsg:"Erro ao criar categoria",alertType:"error",showAlert:!0})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Rs=la(ir.updateCategory,{name:"update",init:!1,options:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.setAlert,c=t.onClose,i=t.refetch,l=t.ticketCategory,e.abrupt("return",{variables:Object(f.a)(Object(f.a)({},a.changedFields),{},{ticketFormQuestions:a.ticketFormQuestions,id:l.id}),onRequestFinished:function(){G.hit("TicketCategory - Updated"),r(),i(!0),o({alertMsg:"Categoria atualizada com sucesso",alertType:"success",showAlert:!0}),c()},onRequestError:function(e){n({validationErrors:Object(N.get)(e,"errors",{})}),o({alertMsg:"Erro ao atualizar categoria",alertType:"error",showAlert:!0})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Ls=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Ms(e)),{},{actions:{margin:15,marginBottom:20},toggleRequired:{marginTop:20,marginLeft:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"},deleteVisitorButton:{fontWeight:"bold",backgroundColor:"#EE3C3C",color:"#FFF","&:hover":{backgroundColor:"#EE3C3C"},maxWidth:"40px",maxHeight:"40px",minWidth:"40px",minHeight:"40px",marginTop:"5px",marginLeft:"10px"}})}),{withTheme:!0}),r.memo,kr((function(e){return e.ticketCategory?e.ticketCategory:{title:"",assigneeIds:[],deadlineInDays:"",ticketFormQuestions:[]}})),Object(Z.e)({onClose:function(e){var t=e.onClose,a=e.resetFormData;return function(){a(),t()}}}),Fs,Is,Rs,Object(Z.f)((function(e){var t=e.formData,a=e.assignablesLoading,n=e.createLoading,r=e.updateLoading,o=e.ticketCategory,c=a||n||r;return{loading:c,disableNextButton:c||Object(N.isEmpty)(t.title),isNew:!o}})),Object(Z.e)({onSubmit:function(e){var t=e.createFetch,a=e.updateFetch,n=e.ticketCategory;return function(){return n?a(!0):t(!0)}},onAddFormQuestion:function(e){var t=e.setFormData,a=e.formData.ticketFormQuestions;return function(){var e={question:"",fieldType:"TEXT_FIELD",options:"",required:!1};t({ticketFormQuestions:Object(N.concat)(a,e)})}},onRemoveFormQuestion:function(e){var t=e.setFormData,a=e.formData.ticketFormQuestions;return function(e){a.splice(e,1),t({ticketFormQuestions:Object(N.cloneDeep)(a)})}},onUpdateFormQuestion:function(e){var t=e.setFormData,a=e.formData.ticketFormQuestions;return function(e,n,r){a[r][e]=n,t({ticketFormQuestions:Object(N.cloneDeep)(a)})}}}))((function(e){var t=e.classes,a=e.openModal,n=e.formData,r=n.validationErrors,c=n.title,i=n.assigneeIds,l=n.deadlineInDays,s=n.ticketFormQuestions,m=e.setFormData,u=e.onSubmit,d=e.loading,b=e.assignables,p=e.onClose,g=e.disableNextButton,f=e.onAddFormQuestion,h=e.onRemoveFormQuestion,E=e.onUpdateFormQuestion,v=e.isNew;return o.a.createElement(Sr,{onClose:p,modalTitle:v?"Nova categoria":"Editar categoria",content:o.a.createElement(me.a,{container:!0,direction:"row",spacing:1},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Ot,{disabled:d,label:"T\xedtulo",errors:r.title,value:c||"",onChangeValue:function(e){return m({title:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Lt,{multiple:!0,label:"Respons\xe1veis",errors:r.assigneeIds,value:i,disabled:d,onChangeValue:function(e){return m({assigneeIds:e})},options:b.map((function(e){return{label:e.fullname,value:e.id}})),emptyOptionLabel:"Nenhum respons\xe1vel"})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(jt,{label:"Prazo de resolu\xe7\xe3o (em dias)",disabled:d,errors:r.deadlineInDays,value:l||"",onChangeValue:function(e){return m({deadlineInDays:e})}})),o.a.createElement(me.a,{item:!0,xs:12},Object(N.map)(s,(function(e,a){return o.a.createElement(me.a,{container:!0,direction:"row",spacing:1,key:a.toString()},o.a.createElement(me.a,{item:!0,xs:2,sm:1},o.a.createElement(ht.a,{fullWidth:!0,margin:"normal"},o.a.createElement(ue.a,{onClick:function(){return h(a)},variant:"contained",disabled:d,className:t.deleteVisitorButton},"-"))),o.a.createElement(me.a,{item:!0,xs:10,sm:11},o.a.createElement(Ot,{disabled:d,label:"T\xedtulo da pergunta",errors:Object(N.get)(r,"ticketFormQuestions[".concat(a,"].question")),value:e.question,onChangeValue:function(e){return E("question",e,a)}})),o.a.createElement(me.a,{item:!0,xs:2,sm:1}),o.a.createElement(me.a,{item:!0,xs:6,sm:8},o.a.createElement(Lt,{disabled:d,label:"Tipo do campo resposta",errors:Object(N.get)(r,"ticketFormQuestions[".concat(a,"].fieldType")),value:e.fieldType,onChangeValue:function(e){return E("fieldType",e,a)},options:Ht,optionValueField:"key"})),o.a.createElement(me.a,{item:!0,xs:4,sm:3},o.a.createElement(Ut.a,{className:t.toggleRequired},o.a.createElement(zt.a,{control:o.a.createElement(so.a,{color:"primary",disabled:d,checked:!!Object(N.get)(e,"required"),value:"",onChange:function(){return E("required",!e.required,a)}}),label:o.a.createElement("small",null,"Obrigat\xf3rio")}))),o.a.createElement(me.a,{item:!0,xs:2,sm:1}),Yt.includes(e.fieldType)&&o.a.createElement(me.a,{item:!0,xs:10,sm:11},o.a.createElement(Ot,{disabled:d,label:"Op\xe7\xf5es de respostas",placeholder:"Separe por v\xedrgula, ex: Item1,Item2,Item3",errors:Object(N.get)(r,"ticketFormQuestions[".concat(a,"].options")),value:e.options,onChangeValue:function(e){return E("options",e,a)}})))})))),actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(Yn.a,{style:{width:"100%"},display:"flex",justifyContent:v?"flex-end":"space-between"},!v&&o.a.createElement(ue.a,{color:"primary",size:"large",variant:"outlined",disabled:d,onClick:f},"ADICIONAR PERGUNTA"),o.a.createElement(Yn.a,{display:"flex"},o.a.createElement(ue.a,{color:"default",size:"large",variant:"contained",onClick:p,disabled:d},"CANCELAR"),o.a.createElement(Yn.a,{ml:2},o.a.createElement(ue.a,{color:"primary",size:"large",variant:"contained",onClick:u,disabled:g},"SALVAR"))))),fullWidth:!0,open:a})})),Bs=Object(Z.b)(Object(Z.h)("openModal","setOpenModal",!1))((function(e){var t=e.ticketCategory,a=e.refetch,n=e.openModal,r=e.setOpenModal,c=e.setAlert,i=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.hit("TicketCategoryModal - Closed"),r(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{variant:"outlined",size:"medium",onClick:function(){G.hit("TicketCategoryModal - Opened"),r(!0)}},"Editar"),o.a.createElement(Ls,{ticketCategory:t,onClose:i,setAlert:c,refetch:a,openModal:n}))})),Ps=Object(r.memo)((function(e){var t=e.viewer,a=e.index,n=e.classes,r=e.setAlert,c=e.ticketCategory,i=e.loading,l=e.setLoading,s=e.refetch,d=e.isManager,b=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Deseja realmente excluir essa categoria?")){e.next=13;break}return l(!0),e.prev=2,e.next=5,ir.toggleCategory(c.id);case 5:r({alertMsg:"A categoria foi exclu\xedda",alertType:"success",showAlert:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),r({alertMsg:"Erro ao excluir categoria",alertType:"error",showAlert:!0});case 11:l(!1),s();case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),p=c.deadlineInDays;return t?o.a.createElement(Ta.a,{className:a%2?n.bgWhite:n.bgGray},o.a.createElement(xa.a,{className:n.tableSmallCell},o.a.createElement("span",{className:n.cellText},c.title)),o.a.createElement(xa.a,{className:n.tableSmallCell},Object(N.map)(c.assignees,(function(e){return o.a.createElement("div",{key:e.id,className:n.avatarNameContainer},o.a.createElement(Ya,{name:e.fullname,photoUrl:e.photoUrl}),o.a.createElement("span",{className:"".concat(n.cellText," ").concat(n.userName)},e.fullname))}))),o.a.createElement(xa.a,{className:n.tableSmallCell},o.a.createElement("span",{className:n.cellText},p?"".concat(p," ").concat(p>1?"dias \xfateis":"dia \xfatil"):"")),d&&o.a.createElement(xa.a,{className:n.tableSmallCell},o.a.createElement(Bs,{ticketCategory:c,setAlert:r,refetch:s}),"\xa0\xa0\xa0",o.a.createElement(tt.a,{disabled:i,onClick:b},o.a.createElement(po.a,null)))):null})),_s=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Ms(e)),{},{cellText:{color:"#313131",fontSize:14},userName:{marginRight:5,marginLeft:10},avatarNameContainer:{display:"flex",alignItems:"center",marginTop:e.spacing(1)},smallScreenResendButton:{marginTop:e.spacing(2)}})}),{withTheme:!0}),Object(Z.h)("loading","setLoading",!1),ur)(Ps),qs=Object(r.memo)((function(e){var t=e.ticketCategories,a=e.ticketCategoriesLoading,n=e.openTicketCategoryModal,r=e.setOpenTicketCategoryModal,c=e.classes,i=e.setAlert,l=e.ticketCategoriesFetch,s=I.getUserData(),m=Je.includes(Object(N.get)(s,"role")),u=a,d=m?4:3;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:c.container},o.a.createElement("div",{className:c.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Categorias (".concat(Object(N.size)(t),")")))),o.a.createElement("aside",null,m&&o.a.createElement(ue.a,{size:"large",color:"primary",variant:"contained",onClick:function(){G.hit("TicketCategory - Opened"),r(!0)}},"Nova Categoria")))),o.a.createElement("div",{className:c.container},o.a.createElement(Xa.a,{className:c.tablePaper},o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:c.tableCell},"T\xcdTULO"),o.a.createElement(xa.a,{className:c.tableCell},"RESPONS\xc1VEIS"),o.a.createElement(xa.a,{className:c.tableCell},"PRAZO DE RESOLU\xc7\xc3O"),m&&o.a.createElement(xa.a,{className:c.tableCell},"A\xc7\xd5ES"))),o.a.createElement(Na.a,null,u?o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{colSpan:d,align:"center"},o.a.createElement(pe,null))):Object(N.size)(t)?t.map((function(e,t){return o.a.createElement(_s,{isManager:m,setAlert:i,index:t,key:e.id,ticketCategory:e,isLoading:u,refetch:l})})):o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:c.empty,colSpan:d,align:"center"},"Nenhuma categoria cadastrada")),o.a.createElement(Ls,{onClose:function(){G.hit("TicketCategory - Closed"),r(!1)},openModal:m&&n,setAlert:i,refetch:l}))))))})),Us=la(ir.getCategories,{name:"ticketCategories",props:function(e){var t=e.ticketCategoriesData;return{ticketCategories:Object(N.get)(t,"ticketCategories")}},options:function(e){var t=e.setAlert;return{variables:!1,onRequestError:function(){t({alertMsg:"Erro ao carregar categorias",alertType:"error",showAlert:!0})}}}}),zs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Ms(e)),{},{container:{marginBottom:30,marginTop:30},empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14},titleTableCell:{fontSize:20}})}),{withTheme:!0}),Object(Z.h)("openTicketCategoryModal","setOpenTicketCategoryModal",!1),oi({condition:function(e){return!Je.includes(e.role)}}),Us)(qs),Ws=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=t.showAlert,c=t.alertMsg,i=t.alertType,l=null;return r&&(l=o.a.createElement(ct,{message:c,type:i,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}})),o.a.createElement("div",{className:n.root},o.a.createElement(An,{alertBox:l}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:n.container},o.a.createElement(Ln,null)),o.a.createElement("div",{className:n.container},o.a.createElement(zs,{setAlert:a}))))})),Vs=Object(Z.b)(Object($.a)(Ms,{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}))(Ws),Hs=function(e){return Object(f.a)({},oe(e))},Ys=la(cr.createTag,{name:"create",init:!1,options:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.setAlert,c=t.onClose,i=t.refetch,e.abrupt("return",{variables:a.changedFields,onRequestFinished:function(){G.hit("TicketTag - Created"),r(),i(!0),o({alertMsg:"Etiqueta criada com sucesso",alertType:"success",showAlert:!0}),c()},onRequestError:function(e){n({validationErrors:Object(N.get)(e,"errors",{})}),o({alertMsg:"Erro ao criar etiqueta",alertType:"error",showAlert:!0})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Gs=la(cr.updateTag,{name:"update",init:!1,options:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.setAlert,c=t.onClose,i=t.refetch,l=t.ticketTag,e.abrupt("return",{variables:Object(f.a)(Object(f.a)({},a.changedFields),{},{id:l.id}),onRequestFinished:function(){G.hit("TicketTag - Updated"),r(),i(!0),o({alertMsg:"Etiqueta atualizada com sucesso",alertType:"success",showAlert:!0}),c()},onRequestError:function(e){n({validationErrors:Object(N.get)(e,"errors",{})}),o({alertMsg:"Erro ao atualizar etiqueta",alertType:"error",showAlert:!0})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Qs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Hs(e)),{},{actions:{margin:15,marginBottom:20},toggleRequired:{marginTop:20,marginLeft:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"},deleteVisitorButton:{fontWeight:"bold",backgroundColor:"#EE3C3C",color:"#FFF","&:hover":{backgroundColor:"#EE3C3C"},maxWidth:"40px",maxHeight:"40px",minWidth:"40px",minHeight:"40px",marginTop:"5px",marginLeft:"10px"}})}),{withTheme:!0}),r.memo,kr((function(e){return e.ticketTag?e.ticketTag:{title:""}})),Object(Z.e)({onClose:function(e){var t=e.onClose,a=e.resetFormData;return function(){a(),t()}}}),Ys,Gs,Object(Z.f)((function(e){var t=e.formData,a=e.createLoading,n=e.updateLoading,r=e.ticketTag,o=a||n;return{loading:o,disableNextButton:o||Object(N.isEmpty)(t.title),isNew:!r}})),Object(Z.e)({onSubmit:function(e){var t=e.createFetch,a=e.updateFetch,n=e.ticketTag;return function(){return n?a(!0):t(!0)}}}))((function(e){var t=e.openModal,a=e.formData,n=a.validationErrors,r=a.title,c=e.setFormData,i=e.onSubmit,l=e.loading,s=e.onClose,m=e.disableNextButton,u=e.isNew;return o.a.createElement(Sr,{onClose:s,modalTitle:u?"Nova etiqueta":"Editar etiqueta",content:o.a.createElement(me.a,{container:!0,direction:"row",spacing:1},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Ot,{disabled:l,label:"T\xedtulo",errors:n.title,value:r||"",onChangeValue:function(e){return c({title:e})}}))),actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(Yn.a,{style:{width:"100%"},display:"flex",justifyContent:"flex-end"},o.a.createElement(Yn.a,{display:"flex"},o.a.createElement(ue.a,{color:"default",size:"large",variant:"contained",onClick:s,disabled:l},"CANCELAR"),o.a.createElement(Yn.a,{ml:2},o.a.createElement(ue.a,{color:"primary",size:"large",variant:"contained",onClick:i,disabled:m},"SALVAR"))))),fullWidth:!0,open:t})})),Js=Object(Z.b)(Object(Z.h)("openModal","setOpenModal",!1))((function(e){var t=e.ticketTag,a=e.refetch,n=e.openModal,r=e.setOpenModal,c=e.setAlert,i=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.hit("TicketTagModal - Closed"),r(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{variant:"outlined",size:"medium",onClick:function(){G.hit("TicketTagModal - Opened"),r(!0)}},"Editar"),o.a.createElement(Qs,{ticketTag:t,onClose:i,setAlert:c,refetch:a,openModal:n}))})),Xs=Object(r.memo)((function(e){var t=e.viewer,a=e.index,n=e.classes,r=e.setAlert,c=e.ticketTag,i=e.loading,l=e.ticketTagDeleteFetch,s=e.refetch,d=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Deseja realmente excluir essa etiqueta?")&&l(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?o.a.createElement(Ta.a,{className:a%2?n.bgWhite:n.bgGray},o.a.createElement(xa.a,{className:n.tableSmallCell},o.a.createElement("span",{className:n.cellText},c.title)),o.a.createElement(xa.a,{className:n.tableSmallCell},o.a.createElement(Js,{ticketTag:c,setAlert:r,refetch:s}),"\xa0\xa0\xa0",o.a.createElement(tt.a,{disabled:i,onClick:d},o.a.createElement(po.a,null)))):null})),Ks=la(cr.deleteTag,{name:"ticketTagDelete",init:!1,options:function(e){var t=e.ticketTag,a=e.setAlert,n=e.refetch;return{variables:t.id,onRequestFinished:function(){a({alertMsg:"Etiqueta foi exclu\xedda",alertType:"success",showAlert:!0}),n(!0)},onRequestError:function(){a({alertMsg:"Erro ao excluir etiqueta",alertType:"error",showAlert:!0})}}}}),Zs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Hs(e)),{},{cellText:{color:"#313131",fontSize:14}})}),{withTheme:!0}),Object(Z.h)("loading","setLoading",!1),Ks,ur)(Xs),$s=Object(r.memo)((function(e){var t=e.ticketTags,a=e.ticketTagsLoading,n=e.openTicketTagModal,r=e.setOpenTicketTagModal,c=e.classes,i=e.setAlert,l=e.ticketTagsFetch,s=a;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:c.container},o.a.createElement("div",{className:c.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Etiquetas (".concat(Object(N.size)(t),")")))),o.a.createElement("aside",null,o.a.createElement(ue.a,{size:"large",color:"primary",variant:"contained",onClick:function(){return r(!0)}},"Nova Etiqueta")))),o.a.createElement("div",{className:c.container},o.a.createElement(Xa.a,{className:c.tablePaper},o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:c.tableCell},"T\xcdTULO"),o.a.createElement(xa.a,{className:c.tableSmallCell},"A\xc7\xd5ES"))),o.a.createElement(Na.a,null,s?o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{colSpan:2,align:"center"},o.a.createElement(pe,null))):Object(N.size)(t)?t.map((function(e,t){return o.a.createElement(Zs,{setAlert:i,index:t,key:e.id,ticketTag:e,isLoading:s,refetch:l})})):o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{className:c.empty,colSpan:2,align:"center"},"Nenhuma etiqueta cadastrada")),o.a.createElement(Qs,{onClose:function(){return r(!1)},openModal:n,setAlert:i,refetch:l}))))))})),em=la(cr.getTags,{name:"ticketTags",props:function(e){var t=e.ticketTagsData;return{ticketTags:Object(N.get)(t,"ticketTags")}},options:function(e){var t=e.setAlert;return{variables:!1,onRequestError:function(){t({alertMsg:"Erro ao carregar etiquetas",alertType:"error",showAlert:!0})}}}}),tm=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Hs(e)),{},{container:{marginBottom:30,marginTop:30},empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14},titleTableCell:{fontSize:20}})}),{withTheme:!0}),Object(Z.h)("openTicketTagModal","setOpenTicketTagModal",!1),oi({condition:function(e){return!Je.includes(e.role)}}),em)($s),am=Object(r.memo)((function(e){var t=e.setAlert,a=e.classes;return o.a.createElement("div",{className:a.tablePaper},o.a.createElement(tm,{setAlert:t}))})),nm=Object(Z.b)(Cl,Object($.a)(Hs,{withTheme:!0}))(am),rm=a(140),om={avatarNameContainer:{display:"flex",alignItems:"center"},userName:{marginRight:5,marginLeft:10},image:{width:240,height:120,marginRight:30},container:{display:"flex",flexDirection:"row"},innerContainerTexts:{display:"flex",flexDirection:"column"},title:{marginTop:15,fontSize:20,marginBottom:10},subtitle:{color:"rgba(0, 0, 0, 0.54)"},buttonContainer:{display:"flex",justifyContent:"flex-end"},statusContainerCanceled:{color:"#FFFFFF",backgroundColor:rm.a[400],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50},statusContainerInProgress:{color:"#FFFFFF",backgroundColor:Pa.a[900],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50,wordWrap:"initial"},statusContainerDone:{color:"#FFFFFF",backgroundColor:at.a[500],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50}},cm=Object(r.memo)((function(e){var t=e.viewer,a=e.classes,n=e.serviceRequest,r=e.isSmallScreen;if(!t)return null;var c=n.member,i=Object(N.get)(n,"service.title",""),s=Object(N.get)(n,"created_at",""),m=Object(N.get)(n,"service.image_url","");return r?o.a.createElement(Ta.a,null,o.a.createElement(xa.a,null,o.a.createElement("img",{src:m,alt:i,className:a.image}),o.a.createElement("p",{className:a.title},o.a.createElement("b",null,i)),o.a.createElement("p",{className:a.subtitle},"Enviado em ".concat(A()(s).format("DD/MM/YYYY"))),o.a.createElement("p",null,o.a.createElement("div",{className:a.avatarNameContainer},o.a.createElement(Ya,{name:c.fullname,photoUrl:c.photo_url}),o.a.createElement("span",{className:"".concat(a.cellText," ").concat(a.userName)},c.fullname))),o.a.createElement("br",null),o.a.createElement(ue.a,{fullWidth:!0,variant:"outlined",component:l.b,to:"/meus-pedidos/".concat(n.id),color:"primary",size:"large"},"Ver Solicita\xe7\xe3o"))):o.a.createElement(Ta.a,null,o.a.createElement(xa.a,null,o.a.createElement("div",{className:a.container},o.a.createElement("img",{src:m,alt:i,className:a.image}),o.a.createElement("div",{className:a.innerContainerTexts},o.a.createElement("p",{className:a.title},o.a.createElement("b",null,i)),o.a.createElement("p",{className:a.subtitle},"Enviado em ".concat(A()(s).format("DD/MM/YYYY")))))),o.a.createElement(xa.a,null,o.a.createElement("div",{className:a.avatarNameContainer},o.a.createElement(Ya,{name:c.fullname,photoUrl:c.photo_url}),o.a.createElement("span",{className:"".concat(a.cellText," ").concat(a.userName)},c.fullname))),o.a.createElement(xa.a,null,o.a.createElement("div",{className:a.buttonContainer},o.a.createElement(ue.a,{variant:"outlined",component:l.b,to:"/meus-pedidos/".concat(n.id),color:"primary",size:"large"},"Ver Solicita\xe7\xe3o"))))})),im=Object(Z.b)(Object($.a)(om,{withTheme:!0}),h.g,ur)(cm),lm=Object(r.memo)((function(e){var t=e.classes,a=e.serviceRequests,n=e.serviceRequestsLoading,r=Object(Da.a)(),c=Object(Ma.a)(r.breakpoints.down("md")),i=c?1:3,l=n;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(Xa.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,o.a.createElement(Ta.a,null,o.a.createElement(xa.a,null,"SERVI\xc7O"),!c&&o.a.createElement(o.a.Fragment,null,o.a.createElement(xa.a,{className:t.tableLargeCell},"SOLICITANTE"),o.a.createElement(xa.a,{className:t.tableLargeCell})))),o.a.createElement(Na.a,null,l?o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{colSpan:i,align:"center"},o.a.createElement(pe,null))):Object(N.size)(a)?Object(N.map)(a,(function(e,t){return o.a.createElement(im,{serviceRequest:e,index:t,isSmallScreen:c,key:e.id})})):o.a.createElement(Ta.a,null,o.a.createElement(xa.a,{colSpan:i,align:"center"},"Nenhum servi\xe7o solicitado")))))))})),sm=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{statusColumn:{minWidth:400}})}),{withTheme:!0}))(lm),mm=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.serviceRequestsData,c=e.serviceRequestsLoading,i=e.status,l=Object(N.get)(r,"service_requests"),s=t.showAlert,m=t.alertMsg,u=t.alertType,d=null;s&&(d=o.a.createElement(ct,{message:m,type:u,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}}));var b=c?"":"(".concat(Object(N.size)(l),")");return o.a.createElement("div",{className:n.root},o.a.createElement(An,{alertBox:d}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement(me.a,{container:!0},o.a.createElement(me.a,{item:!0,xs:12,md:12},o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Pedidos ".concat(b))))))),o.a.createElement("div",{className:n.container},c?o.a.createElement(pe,null):o.a.createElement(sm,{filteredStatus:i,serviceRequests:l,serviceRequestsLoading:c}))))})),um=la(Ui.getServiceRequests,{name:"serviceRequests",options:function(e){var t=e.setAlert,a=e.status;return{variables:{status:void 0===a?null:a},onRequestError:function(){t({alertMsg:"Erro ao carregar lista de pedidos",alertType:"error",showAlert:!0})}}}}),dm=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("status","setStatus",""),um)(mm),bm="CANCELED",pm=la(Ui.getServiceRequest,{name:"serviceRequest",options:function(e){var t=e.match,a=e.setAlert;return{variables:Object(N.get)(t,"params.id"),onRequestError:function(){a({alertMsg:"Erro ao carregar solicita\xe7\xe3o",alertType:"error",showAlert:!0})}}}}),gm=la(Ui.deleteServiceRequest,{name:"deleteServiceRequest",init:!1,options:function(e){var t=e.match,a=e.setAlert,n=e.serviceRequestFetch;return{variables:Object(N.get)(t,"params.id"),onRequestFinished:function(){a({alertMsg:"Solicita\xe7\xe3o cancelada com sucesso",alertType:"success",showAlert:!0}),n(!0)},onRequestError:function(){a({alertMsg:"Erro ao cancelar solicita\xe7\xe3o",alertType:"error",showAlert:!0})}}}}),fm=Object(Z.b)(li,pm,gm,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{paperTitle:{marginLeft:20,fontSize:20,paddingTop:10},paperSubtitle:{paddingTop:10,marginLeft:20,color:"rgba(0, 0, 0, 0.54)"},paperDateInfo:{marginLeft:20,color:"rgba(0, 0, 0, 0.54)"},paperContainer:{paddingBottom:20,paddingTop:20,marginTop:20},serviceSubtitle:{fontSize:18},serviceDescription:{color:"rgba(0, 0, 0, 0.54)"},statusContainerCanceled:{color:"#FFFFFF",backgroundColor:rm.a[400],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50},statusContainerInProgress:{color:"#FFFFFF",backgroundColor:Pa.a[900],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50,wordWrap:"initial"},statusContainerDone:{color:"#FFFFFF",backgroundColor:at.a[500],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50},mobileButton:{marginTop:25,justifyContent:"flex-end"}})}),{withTheme:!0}))((function(e){var t=e.classes,a=e.serviceRequestData,n=e.serviceRequestLoading,r=e.deleteServiceRequestFetch,c=e.deleteServiceRequestLoading,i=pt.isMobile(),l=Object(N.get)(a,"service_request",""),s=Object(N.get)(l,"service_data",""),m=Object(N.get)(l,"status","")===bm;return o.a.createElement(o.a.Fragment,null,n?o.a.createElement(pe,null):o.a.createElement(o.a.Fragment,null,s?o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{container:!0},o.a.createElement(me.a,{item:!0,xs:12,md:8},o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,s.title))),o.a.createElement(me.a,{item:!0,xs:12,md:4},!m&&o.a.createElement(ue.a,{className:i?t.mobileButton:"",variant:"outlined",color:"secondary",size:"large",onClick:function(){window.confirm("Deseja excluir o pedido?")&&r(!0)},disabled:c},"Cancelar"))),o.a.createElement(me.a,{container:!0},o.a.createElement(me.a,{item:!0,xs:12,md:5},o.a.createElement("p",{className:t.serviceSubtitle},o.a.createElement("b",null,s.subtitle)),o.a.createElement("p",{className:t.serviceDescription},s.description)),o.a.createElement(me.a,{item:!0,xs:12,md:3}),o.a.createElement(me.a,{item:!0,xs:12,md:9},o.a.createElement(Xa.a,{className:t.paperContainer},o.a.createElement("span",{className:t.paperDateInfo},"Enviado em ".concat(A()(l.created_at).format("DD/MM/YYYY"))),Object(N.map)(Object(N.get)(l,"details","").match(/(.+)\n.+/g),(function(e){var a=e.split("\n"),n=Object(xt.a)(a,2),r=n[0],c=n[1];return o.a.createElement("div",{key:r},o.a.createElement("p",{className:t.paperTitle},o.a.createElement("b",null,r)),o.a.createElement("p",{className:t.paperSubtitle},c))})))))):""))})),hm=Xi,Em=Xi,vm=Xi;K.setup(),A.a.locale(P.locale);var Om=y()(j()(Ve,(function(e,t){return e.submenus?j()(e.submenus,(function(t,a){return Object(f.a)(Object(f.a)({},t),{},{path:"".concat(e.path).concat(t.path),key:a,page:n[a]})})):Object(f.a)(Object(f.a)({},e),{},{key:t,page:n[t]})}))),jm=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setIOSManifest(),this.setState({loading:!0},Object(u.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!I.isLoggedIn()){t.next=6;break}return t.next=4,z.getViewer();case 4:a=t.sent,I.setUserData(v()(a,"member"));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),I.isUnauthorized(t.t0)&&I.clear();case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])}))))}},{key:"setIOSManifest",value:function(){P.isiOS&&document.querySelector('link[rel="manifest"]').setAttribute("rel","no-on-ios")}},{key:"render",value:function(){var e=this.state.loading;return o.a.createElement(T.a,{theme:Oe},o.a.createElement(w.a,null),o.a.createElement(r.Suspense,{fallback:o.a.createElement(pe,{hasRefreshMsg:!0})},e?o.a.createElement(pe,{hasRefreshMsg:!0}):o.a.createElement(o.a.Fragment,null,o.a.createElement(h.d,null,j()(Om,(function(e){return o.a.createElement(h.b,{key:e.path,exact:e.exact,path:e.path,render:function(t){try{if(e.private&&I.isLoggedIn()||!e.private){var a=Q(e.page,e.trackPage);return o.a.createElement(a,t)}var n="".concat(t.location.pathname).concat(t.location.search);return M.save("redirectUrl",n),o.a.createElement(h.a,{to:{pathname:"/",state:{from:t.location}}})}catch(r){return o.a.createElement(h.a,{to:{pathname:"/",state:{from:t.location}}})}}})})),o.a.createElement(h.b,{component:he})))))}}]),a}(r.PureComponent),Cm=le(jm),ym=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,947)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};i.a.render(o.a.createElement(l.a,null,o.a.createElement(Cm,null)),document.querySelector("main")),ym()}},[[561,1,2]]]);
//# sourceMappingURL=main.55642de3.chunk.js.map