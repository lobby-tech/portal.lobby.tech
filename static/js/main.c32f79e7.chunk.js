(this["webpackJsonplobby-portal"]=this["webpackJsonplobby-portal"]||[]).push([[0],{298:function(e,t,a){e.exports=a(452)},412:function(e,t,a){e.exports=a.p+"static/media/logo.7f12e1c7.png"},420:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAADcCAYAAACs2N87AAAXdUlEQVR4AezBgQAAAAACoDH2Jx3kKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL86dusQEaMoisLohSwBjECUZDCNv0DSNU18BYAogVHI5mIGz2k3AeByVlh11/2NHMyHtcbATCgA8Fs+O3AaemjMIBQAEFggsACoBBYILAAQWAgsABBY7UFgAYDAQmABgMACgQWAwAKBBQACC4EFAAILBBYAAgsEFgACS2AhsABAYIHAAkBgXYaLV8CDwHorAATW6MFEKC+CkYNdgQWAwBJYCCwAEFgILAAQWLRBYAGAwEJgAYDAAoEFgMASWAgsABBYCCwAEFg0Q2ABgMBCYAGAwAKBBYDAElgILAAQWAgsABBYtE9gAYDAQmABgMCibQILAAQWAgsABBZtE1gAILAQWAAgsGiSwAIAgYXAAgCBhcASWIuh+4DlUFJgELoPmAslsb3QvdN2KCCwEFh/30boP2AnlBS4Dv0HLISS2GPo3+k+FBBYCCyB9e8hsILAQmCBwBJYCKwfJLAQWCCwBBYCS2AhsAQWAktgIbAEFggsBJbAohJYCQgsBBYILIGFwBJYCCyBhcASWAgsgQUCC4ElsKgEVgICC4EFAktgIbAEFgJLYCGwBBYCS2CBwEJgCSwqgZWAwEJggcASWAgsgYXAElgILIGFwBJYILAQWAKLSmAlILAQWCCwBBYCS2AhsAQWAktgIbAEFggsBJbAohJYCQgsBBYILIGFwBJYCCyBhcASWAgsgQUCC4ElsKgEVgICC4EFAktgIbAEFgJLYCGwBBYCq0UCC4EFAktgIbAEFgJrK9y8012c55iAQGAJLASWwEJg/TwQWAILgSWwEFggsAQWAktggcBCYAmsJ/buOcqSLGvY+K5q20hna8207cK4bay2bdu2Mtu2bdsufG132Xbu77n5xqtaneude3bgROb+47diWH2T96lzIvYJ5zyw6tAT//oD66LOA2sms7bMx3UZ/KsDy/K/WQRSbi7SF+ZcZIHlgeU8sGqxE25AP0yA/hvG43Ncjl352V4IEpVsA2s1nICH8TOmQf8PMzAEz+Bs9K6ZrWU2SHm4aF+Ycx5YHlhZq5+ntTvXGvTCPjgYJ+K6xLE4GHuiV+UJ6No5WmaBRCj9wOLj5XoEPkEbNAXT8RYONTzwFHtgrYVrMAiakuG4Bf+sm7ulO8TFLdoX5pwHlgdW2urmbOnOdQOchZcD31jH4GWchg0MwRVzYK2GuzANmqFJuAXLln2LsHb2llm5boOPoRn7BYfUzN4yG8TFKdoX5pwHlgdWitbA1fgNmrIhuBordIItwkY8Cc3ZNNyJurIFVsN8rd2SsOoHzdnvOKQSd5C08GcujxcNHmYXYo5IdkK2M34sq3W+m9yd88DywLLbCG9Cc/IKNixhYK2HczAVWqCJOKFxgdZukLwYAmt5vAktWF+sBUnR01CDIyFFqqzwcf0RGqiPYTvWtwidbxF6YHVKq+F9aEFexkolCqyB0Ih8gWUiX8EahUnQSLThYqJi1pR2EFbFDGigwUWvYiX3VarBdvAxDc5XsDywPLBqZm2Zi+tFmAqNwAXB2zcBDIEVo5HYOuLAitUHaIak4DaowekFr179YFkVrNyzCQmV/AvnYuOB5YFVtT+jHzQyX2HFaFew4neSB1bVBmADiEXyFOl4aKAx/BkLQ3JnX73a3geNuvLzFSwPLLutMQ4aqYnYzgMr2F2VkRqQDBgCK2oT0RtidAnU4BxIniqrxsbVqzd8krsrPw8sDyy7E6ElcbwHVrA7rVs2Hek4sDyykm33Yca5Z42QHO0NNehVeGDJ5A9bMalKU7pN/nAxCJzriAeWB5YhrqJ2qQdWsJN9i7BqE1J44OJAqMENkDxU5tKlsXoVQ2DdAK1W+QPLeWB5YHlcmVzogRVsdw+sqg3kvqQFISGSaPneOOdseUgOtspt9coDy3lgeWD55yI6M7C3B1aQqVjZA6tqb1ieaE1myqnBo5AcfBzD6pUHlvPA8sAqo16YBi25yejRSQJrBibgP2nGvmTO0ZwQu0IDawomJCZDM3YKJMRSi7RPrH8darAKJEObG+eI9fbAciXmgeWBZTBryxJcR2Z8ZMuUmUyHZuR3PqaFIHa5BtbvuBo7YWX+2YtC/lPydVoDu+MWDIGm7NySrWDNwCs4Hf9C3UyDOGev/Gf4J07BS5iRftSbjnRaE2rwDiRDH0EDPQzxwHKl5oHlgWXwODRF43Ev9sKqlSemIDOZN4mF/fBoBisN95doBeuBkL/l187Zfg/PRvgg5dWf5UoQWGNxJhoC/kKxCNfj8Cs0Ja9DDO6DGvwDkoHNoAYremA5Aw+sUvPA2gWakm+xX8g2UxJcB6X8prdV5IH1PtaHpGBjfAVNwcMRB9YUXEUkLQCxqKx0JStf9ri3HwGzjHGL/i1ImpZatH378sMYVq88sJwHVql4YFVCiOuAlFasjqybq6U7xCLZ0jkqpTe9nyp/HsQig8Bqwxn82bNB0pLMVroWmoKVIgysAegJSdmK6Ac16mP4GUhj+OjOkBRtGsH3kAeW88DywCql86BGX2I5SMqWRl+o0WGRrWBNwBY5fE9Pt65iRRZYfbBkhvchzs/1BajRZobXsDDXwcbjoyQNjQu2r159EMHqlQeW88DywCrl6tU4qMGTrJrMA8lCspr1HNRgkG0VK9XAmoBekBzskEJk1UcSWG/z/TAnJFNsGdojyzyS4ASowQGQFGwSwX18HljOA8sDq5QOgho82DBfazdIhtKKrN0jWMFqw9aQHB0HNTgngsD6GktC8pBE1ifGpxobgleOFmjtZhw+OuA/n6IM1WRfvboOYuCB5TywSs0D6wtooHcrN6VDckFkGR8VfyeCwLoAUoB7oIG+b2ZOEySELbAMw0/tao3nBJ4BMdgVanA4xGBj49es0QOrS3IeWPDAWg4aaCjqCpjVtaRhVlcbli4wsD6vmb1lNkje+LzNxz9/eEGP2VsD6zhIQXazfL0Lnj011nKEj3H16nqIB1aX5Dyw4IF1BjTQ9pCC7FrQze7WwPobpEB7QwOdVFBg9TdsdZklIwo+hgaYQagsZhxu26OggbEbGQcKN3hgdVnOA8sDyzDb5kNIUZoXNs3lebGgwHoLUqTkUOHfoQGeKiiwdoMYFH2j904Qo6eggcZUnkoMCLsPratXHljl5TywPLDsN/FOhQbYtMRvehMLCqztIRE4ExpgUNNCrd0g1TIE1qjUZoTZb/b+ERrg4pRGlbRBA90AqcK/LEGHJT2wujLngeUrWGtAA/wGKVpyPMyAPAcfGgJr/H8eE1S05GPXIIH38xgC63ZIDAzDP5+BpOB64w3n9YaVbcMTpx5YXY/zwPLA2gMa4BJIJC6HBtgx58B6ARILw2rMOjlvEe4EicSG0AC/pPRwx+Jcx+dwJudG+WxH2hn+zx5YmXIeWB5Y50AD9IBEYnPDDdt5BtZZkIg8DA2wb86B1QSJQWUFMnBLfTIkJacZ53KtkvHq1bkQX8Hq6pwHlgfWVdAqTbcfrpuqBQK/Zq05B9bukIicBA2wT46BNb5+7tbukFjwmoYEjgapSTHyBkADPVr+1StfwXIeWB5Y8XsZWqVxkFg08TQh10HQKt2dc2BtAInI/tAAV+QYWGMhkXk1gpW4PaEGf81o9eo8iK9gOeeBlfDAqtJHkMh8B63SXTkH1uqQiGxZgsB6BxKZV4oOrMqgWq6fWs5zzGD1amAOK9u+guU8sErsr5bHsAvjgfUstEqfemBFH1hfeWBlcIQNsAUECfPU9iMgvoLlnAdWR9aFBrjTA6tQz0Cr9DEkwNXQAJtBIrJXXkfWGAJrjAfWH6ucC8n1Bct0/Mb5W7tBYF69KmrSvu3/7IHlPLDytHbsE7ojeLPoB4nM93ltERqGdO5Z/pvcTU8RhpwdOYn3wTkhseA1/RBybAw3p88DSVOyKjoNmsKokteggY6E+AqWcx5YHar8MueqAUZDSuhaaJWmQGLRuGDuN7kf2Em2ke+ABtgGEuAtaIDlI/v9MCkkFKP7OgI/Jqc5rGZcvZoT4itYznlgdajySDjXYdAAK3SJMQ1APSQKTBYP/BhuMs3dKv8q5zd5TsA3zN3aFRIDQ4h8AMlIDSYaDz5/vAyrV76C5Tywyu9taIATSvnUZPnf9LbMedDo0tAAE9nWmTeSo3LqoAGmh50LaNpavQcSiZOh9u3o1F0KDTQMGugbiAeWcx5YWf+y+hhSMhtZV38icCU0wA6QnKeS7wyJwFHQAF9CAm0BDTA2lvuweC1fQAMclfGE+bmDBqDa7eqB5ZwHVjU2gwbqBSkNpi4HfpwjamdvmRVSqDnaD3v+CRpgRetYiACvQCLQBxrgRsP32hJc26ABdoMUbD1ooPUgGTsSahfp6pUHlvPAKr/KNg7XifY30PhVHtPm+luJtwlD74eaADE4AhpoTUiBtoMG2hZi8FXom3klpiHFMN1DNrp2zpZZIFlqmK+1W8ATjha7emA554FlPw7Dvg0Us3tC5+gUuYqVvKF8DA3wPMRgGWiRNzwbJoD/XNQ9ZPwZZ0MDHQwpyD+hge6NdPXdvnrlgeWcB1aAfaCBBqEGEj37uWYHlfR1HwMx+gQa6FhIAa6GBnoMYrQ8NNBYNBX0lOpP0EBbRveQjt2O8MByzgMreJtwNDTQ5/xing9SAgsks600wHgsBclZLUZBA7ShueB7XqagJyRHO6Itgi2hPtBAH+b5c1U/T/vYlqcsT+jlfYN+6LDkKrwHgQeWcx5Ywa6AGjxh30LLR9hRMwA+4c1ofkgeKm9YxoNuP4JYJWE61fh4/IqQHPTGBMswybTugUrmLqnBk3VztXSHZKlh3vYt6DuhBpdBCvAQNCMbQeCB5ZwHVrAmtEENPq5sMUCilsySMnimbs6W7pAsJXH1MtRgb0hKroMaI2tlSIY2NsUVcErK09AHQg0ezXKmWPJ06h1Qg+lohhRgGbRBU/Y+JOGB5ZwHlsm1UKNfsA4kctYnkF7NcvsmuRfmJajB77zBz57idkw9pkENpmTxYETjAu0rMCel8EY7Mu1z9P5zDpfRpxndk1WPt6BGd0EKdHHGq1ceWM55YJksiYnQFFyLOkikDoUa9cefISlbGV9BjQ7ObNCp3V1E5JIprUiugnehBoYHAnJYxQLG4LA0Vk/r/2NL8GCMghpNQl3BM+4W5zocahDw9KsHlnMeWIbwMJiMW7AGJCbJoa/9oEYTcXwa9+yw2lF5Iz4dU6FGAzo45sUkGdY6BJqC8TjfsLW0Bh6EpuSrymgHSNqSmVqakk+xd8j3XDIFfS/8CE3J6ZAIHA9NQRvW98DywHIeWGmHx+xcP4SmbBgexinYEdtgpUBLpX50jt2POLTyBgapRjL1+3QMgKZku4yf0NOUvY3j0aOj+/j47xqwMa7Ed9CU/TXXeXN2o3Eb9u7oAYLk/qrVcDDuxihoir6y34SfjspDNrye76FGT0Fi5IHlPLDKrwmToJF6A5KSu6EpmoincTh6dDAjbDlshFPxJtQu9zeI+6AZasOX6IPfoRm7MKct+OHQDI1BHyDzn+HpWAkSkb1S+L5b0wPLA8t5YGVp6y4RWIxcMByfE6NBlRUxSMbmNw6kjMlHAQ8DBDAddxSjgyAR6gMN9DSkKh5YznlgBTilFIFltyamQEtuBjbM+fH48dASG0wsLpLzmJCToCV3S6QHui/EdUwOq1ceWM55YJldU4rAstsDWnK7QXLWo8SRNQTLQ/LUvEj7E3y3Qkvq1crZmJDY8NrOscy3g8TMA8t5YHlklS+wgKOhJXUe5N/mkTXUEFdmTQu2R9Zt0JJ51zD0NFO8tkaMgwaYZhi54oHlnAeWyTloizKwPLLOhwAeWfa4ykfD/KWLrGdijasksK6HBroVUhQPLOeB5XbC5OgDy+4YaAm04UhIJNbG79CI9YtppaJu7pbuXE/ADGjEWgzjGDKXrF5NNaxeLQUpkgeW88Byq+Dr6APLbqfIb3wfhy0jvMl4UcP5iVm7PzkGJ8bVl79jRKTfZ3tDYmY8S/E2SOE8sJwHlqtMCOd6ESbFH1jmmPwhxrECMf+Nu4aBj8kq4ARoBEaV4Wc4Oe7lMWgkPsXykMitDA00FUtDYuKB5Tyw3J/wUvSBZT9H7kpoBCbgbPuxPPlIxjg8DS3QbaiFlMg2GAAtyCAcVDmvEBI7XusjnXX1ygPLeWC5Hngm6sCyWxNvQgvyMJaBlNDaeAWao/vwJ0gZJWdlHm6/py3gbEjOm4SUAa93LWigCWWJbw8s54HlmnE+vok2sOw2yTG0puNerAPpBNbGvZgIzcBY3Bjd4/b2FdQ98QE0I31wcOWwcUiZGH8WL4aUhwcW4Dyw3Ko4Hs9hWMyBZYiFazI6W+4LnF65YRzS2VRuNE8eIrgXQ6EGv+BObMm9X7NBOqvkDMvT8C6mQg0+xZlYFVJSfzOtXiUrdWVi+D97YHVGHliufp72eT+N6IG9cQIuMzgEEoPKRGuuPXEKng0Ihun4FnfgSDRAuooG7vPhugz2wmV4DG/h1z/wKh7EBdgVTc0Lt3aDdDXJFuJfcAyuxfPoj19n8v/wPG7DsdjYHhaR4C9aXWT1ylewnAeWc40Mj2SFZm7+9frYCvt3YEMsV3mj/P/t3QPM9eYfx+H7PPobs20EsxnOthfOthXOthljtrfOtm2j09P9Zqt333en3ZXkyomOwk++VUi/H/D1ApqzXo0XkgVLYCGwAPjuDvj3t+DJBxas1kBgAbBWRly9GgvzP0Jqo4w3C6xfhMACcJPjkcx7hG0fUgYLVucgsADYvFXrlQWLFhBYAB7R9cJYXq8sWGH2kH4NCCyA1tonI65eq7leWbDCkiF1DAILgKEjxonXtzICa4uQ6rFgrRASdC6wANg7I64em3TkiKGQ2i7vzWWxe6hq2DYk6FRgATB5eCcjsDYI8TkWrA1DVcNZIUGnAguAozLi6vHv1isL1jyhquGZkKAzgQXAZJkPtt4wJAtW6JXFv1JZfBSqGuYLCToRWACcar36Tv4HlMV9oarhhJCg9YEFwGyhyrBSSF2S/wFlcWioavgwTBIStDqwADgvI65unfL/R/ZC6pL8DyiLJUJV07EhQWsDC4AFQ5Vh6ZAsWD8yWBZDqSxeyoiseUKCVgYWAFflrFdT/OfIXkhd08iHZNxw9AtP98pi/JCgVc8iBGDxUGVYNqQuauZDymLOUGW4bqAsRkIKAVoQWADcmHXu1X+P7IXURc19UFlcHqoMF/TK4t8hQd8vWACsHqoMi4TUVc19UFksGKpM94SpQwKBBdDX7suIq4tCEli/U+6K9bU3wjoh0ZcEFgBrhyrDvCH9fgJrrjAaqgZcHeYPif4gsACYZPiI4Xh91nqVGVg1IuvgUDXonrBLmG2oLAZD4q9BYAH0pU1DlWE+gVVDryz+ncriwVCNAW+FW8IF4fAM8/3hNWXoiP/F/zsiHD7WcLPA6h8Ak4wcMWS9yg2s/EOF74eqT21Y43DVpKFqAQTWmAKwd6hqGg2zCqz8yFpHYHWDwALg6yM5b4aqptNDEljNRNYBAqsTBBYAe4YqwwwCq9nIOkhgtZ7AAmCqMEtN04QksPo7sgQWAgsAgfV1ZG0XRgUWAgsAgdVsZC0dXhZYCCwABFazkTVpuFhgIbAAEFjNh9bG4VWBhcACQGA1qFcW4319K4d3BBYCCwCB1Xxo7RFeFFgILAAEVoOGy2IglcWy4fTwksBCYAEgsBr0j7LopbKYO2weTg13hDKMCiwEFgACq0GDZTGcymLGHL2y+G9If8SkXz1BfMYWYOiI/4b0ZwGAP/oGAAAEFgCAwAIAEFgAAAgsAACBBQAgsAAABBYAAAILAEBgAQAILAAABBYAgMACABBYAAAILAAAgQUAILAAABBYAAACCwBAYAEACCwAAAQWAIDAAgAQWAAACCwAAIEFACCwAAAQWAAAAgsAQGABAPA5vJFvdTUb5IYAAAAASUVORK5CYII="},421:function(e,t,a){},452:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"Signin",(function(){return ye})),a.d(n,"Spaces",(function(){return kt})),a.d(n,"SpaceCalendar",(function(){return ca})),a.d(n,"Visitors",(function(){return Ua})),a.d(n,"Tickets",(function(){return Pn})),a.d(n,"NewTicket",(function(){return zn})),a.d(n,"Deliveries",(function(){return nr})),a.d(n,"Members",(function(){return Nr}));var r=a(14),i=a.n(r),o=a(20),l=a(42),c=a(43),s=a(45),u=a(46),m=(a(300),a(0)),d=a.n(m),p=a(13),g=a.n(p),b=a(74),h=a(30),f=a(5),E=a.n(f),v=a(31),A=a.n(v),k=a(8),y=a.n(k),C=a(538),w=a(537),B=a(257),O=a.n(B),D={save:function(e,t){return localStorage.setItem(e,JSON.stringify(t))},get:function(e){try{var t=localStorage.getItem(e);return JSON.parse(t)}catch(a){return{}}},delete:function(e){return localStorage.removeItem(e)}},j={setUserToken:function(e){return D.save("userToken",e)},getUserToken:function(){return D.get("userToken")||""},setUserData:function(e){return D.save("userData",e)},getUserData:function(){return D.get("userData")||{}},clear:function(){D.delete("userToken"),D.delete("userData")},getAuthToken:function(){var e=D.get("userToken");if(e)return e;throw new Error("No authToken")},getBearerToken:function(){var e=D.get("userToken");return"Bearer: ".concat(e)},isLoggedIn:function(){var e=D.get("userToken");return!!e},isAuthorized:function(e){return e&&"unauthorized"!==e.error}},x=a(258),M={companyName:"Lobby",appName:"Lobby Portal",appNamespace:a.n(x)()("Lobby Portal"),apiURL:"https://api.lobby.tech",wsURL:"wss://api.lobby.tech",env:"production",apiRequestTimeout:1e4,mixpanelToken:"edc68e4e1788a9a91e92f329276c65f7",locale:"pt-br",isiOS:!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},N=function(e){var t=E()(e,"response.data");return t||(t={error:E()(e,"message")}),t},T={request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return new Promise(function(){var r=Object(o.a)(i.a.mark((function r(o,l){var c,s,u,m;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c=j.getBearerToken(),s=O.a.create({baseURL:"".concat(M.apiURL,"/").concat(M.appNamespace),timeout:M.apiRequestTimeout,headers:{"Content-Type":"application/json",Authorization:c},responseType:"json"}),r.next=5,s[e](t,a,n);case 5:return u=r.sent,m=u.data,r.abrupt("return",o(m));case 10:return r.prev=10,r.t0=r.catch(0),r.abrupt("return",l(N(r.t0)));case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,t){return r.apply(this,arguments)}}())},get:function(e,t){return this.request("get",e,{params:t})},post:function(e,t,a){return this.request("post",e,t,a)},put:function(e,t,a){return this.request("put",e,t,a)},delete:function(e,t,a){return this.request("delete",e,t,a)}},S={getEnterpriseUser:function(){return T.get("/enterprise_user")},setCurrentBuilding:function(e){return T.put("/enterprise_user",{building_id:e})}},I=a(128),W=a.n(I),L=a(259),F=a.n(L);W.a.init(M.mixpanelToken);var Y={prepareTrackUser:function(){var e=j.getUserData();if(e&&E()(e,"member.id")){var t={app_id:M.appNamespace,app_name:M.appName,user_id:E()(e,"member.id"),email:E()(e,"member.email"),phone:E()(e,"member.phone"),name:"".concat(E()(e,"member.name")," ").concat(E()(e,"member.lastname")),company:E()(e,"member.company.name"),company_id:E()(e,"member.company.id"),building:E()(e,"building.name"),building_id:E()(e,"building.id"),created_at:E()(e,"member.created_at"),verified_at:E()(e,"member.verified_at")};return W.a.identify(t.user_id),W.a.people.set(t),t}return{}},hit:function(e,t){var a=this.prepareTrackUser(),n=F()(t,a);return W.a.track(e,n)},trackScreenView:function(e){this.hit("".concat(e," - Viewed"),{screen:e})}},R=function(e,t){return function(a){return Object(m.useEffect)((function(){return Y.trackScreenView(t)})),d.a.createElement(e,a)}},P=a(510),H=a(506),V=a(171),q=a(6),U=function(e){return{progress:{margin:e.spacing(2)},middle:{marginTop:20},center:{justifyContent:"center",textAlign:"center"}}},G=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={slowConnection:!1},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.hasRefreshMsg&&(this.timeoutConnection=setTimeout((function(){e.setState({slowConnection:!0})}),M.apiRequestTimeout))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutConnection)}},{key:"render",value:function(){var e=this.props,t=e.hasRefreshMsg,a=e.classes,n=e.theme.mainColor,r=this.state.slowConnection;return d.a.createElement(H.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:a.middle},d.a.createElement(P.a,{color:n,className:a.progress,variant:"indeterminate",disableShrink:!0,thickness:5}),d.a.createElement("b",null,"Carregando..."),t&&r?d.a.createElement("div",{className:a.center},d.a.createElement("br",null),d.a.createElement("b",null,"H\xe1 problemas de conex\xe3o com a internet"),d.a.createElement(V.a,{onClick:function(){return window.location.reload()},size:"large",color:"primary",variant:"contained"},d.a.createElement("b",null,"Recarregar"))):null)}}]),a}(m.PureComponent),z=Object(q.a)(U,{withTheme:!0})(G),Q=a(278),_=a(166),J=Object(Q.a)({palette:{primary:{main:"#1177FF"},secondary:{main:_.a[500]},background:{default:"#F5F5F5"}},typography:{useNextVariants:!0},maxContainerWidth:1440,menuWidth:200}),K=a(263),X=a.n(K),Z=a(265),$=a.n(Z),ee=a(264),te=a.n(ee),ae=a(266),ne=a.n(ae),re={Signin:{label:"Signin",trackPage:"Signin",path:"/",icon:d.a.createElement(X.a,null),exact:!0,hideMenu:!0},NewTicket:{label:"Novo ticket",trackPage:"NewTicket",path:"/tickets/novo",hideMenu:!0},Tickets:{label:"Tickets",trackPage:"Tickets",path:"/tickets/:id*",icon:d.a.createElement(te.a,null)},Visitors:{label:"Visitantes",trackPage:"Visitors",path:"/visitantes",icon:d.a.createElement($.a,null)},SpaceCalendar:{label:"Espa\xe7os",trackPage:"SpaceCalendar",path:"/espacos/:id",hideMenu:!0},Spaces:{label:"Reservas",trackPage:"Spaces",path:"/espacos",icon:d.a.createElement(ne.a,null)},Members:{label:"Usu\xe1rios",trackPage:"Members",path:"/configuracoes/usuarios",settingsMenu:!0}},ie=a(11),oe=a(153),le=a.n(oe),ce=a(513),se=a(67),ue={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},content:{display:"flex",flexDirection:"column",width:350,marginTop:40,alignItems:"center",justifyContent:"center"},form:{width:"100%",marginTop:5},button:{marginTop:15,height:60},logo:{marginBottom:30}},me={postSignin:function(e,t){var a={email:e,password:t};return T.post("/auth/signin",a)}},de=a(542),pe=a(512),ge=a(154),be=a.n(ge),he=a(453),fe=a(168),Ee=a(511),ve=function(e){return{success:{backgroundColor:fe.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:"#1177FF"},warning:{backgroundColor:Ee.a[700]},closeIcon:{fontSize:20,opacity:.9,justifyContent:"center"},message:{fontSize:20,display:"flex",alignItems:"center"}}},Ae=Object(m.memo)((function(e){var t=e.message,a=e.type,n=e.actionButton,r=e.onClickAction,i=e.onClose,o=e.classes,l=[];return n&&l.push(d.a.createElement(V.a,{key:"action",color:"inherit",variant:"outlined",className:o[a||"info"]||o.info,onClick:r},n)),i&&l.push(d.a.createElement(he.a,{key:"action",color:"inherit",onClick:i},d.a.createElement(be.a,{className:o.closeIcon}))),d.a.createElement(de.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,autoHideDuration:i?3e3:null,onClose:function(){return i&&i()}},d.a.createElement(pe.a,{className:o[a||"info"]||o.info,message:d.a.createElement("span",{className:o.message},t),action:l}))})),ke=Object(q.a)(ve,{withTheme:!0})(Ae),ye=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",errorMsg:"",submit:!1},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password,l=e.props.history;e.setState({submit:!0},Object(o.a)(i.a.mark((function t(){var a,o,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n||!r){t.next=14;break}return t.next=4,me.postSignin(n,r);case 4:return a=t.sent,o=a.token,j.setUserToken(o),t.next=9,S.getEnterpriseUser();case 9:return c=t.sent,s=E()(c,"enterprise_user"),j.setUserData(Object(ie.a)({},s,{},{buildings:le()(E()(s,"buildings"),["name"])})),e.setState({submit:!1},(function(){return l.push("/visitantes")})),t.abrupt("return",!0);case 14:throw new Error("Blank fields");case 17:return t.prev=17,t.t0=t.catch(0),e.setState({submit:!1,errorMsg:"Credencial inv\xe1lida, tente novamente."}),t.abrupt("return",!0);case 21:case"end":return t.stop()}}),t,null,[[0,17]])}))))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.history;try{j.isLoggedIn()&&e.push("/visitantes")}catch(t){j.clear()}}},{key:"render",value:function(){var e=this,t=this.state,n=t.username,r=t.password,i=t.submit,o=t.errorMsg;return d.a.createElement("div",{style:ue.container},d.a.createElement("div",{style:ue.content},o&&d.a.createElement(ke,{message:o,type:"warning",onClose:function(){return e.setState({errorMsg:""})}}),d.a.createElement("img",{src:a(412),width:150,alt:M.appName,style:ue.logo}),d.a.createElement(se.a,{component:"h1",variant:"h5"},"Portal da empresa"),d.a.createElement("form",{onSubmit:this.onSubmit,style:ue.form},d.a.createElement(ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Email",type:"text",disabled:i,value:n,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({username:t.target.value.toLowerCase()})}}),d.a.createElement(ce.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Senha",type:"password",disabled:i,value:r,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({password:t.target.value})}}),d.a.createElement(V.a,{disabled:i,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:ue.button,type:"submit"},i?"Carregando...":"Entrar"))))}}]),n}(m.PureComponent),Ce=a(22),we=a.n(Ce),Be=a(47),Oe=a.n(Be),De=a(158),je=a.n(De),xe=a(457),Me=a(7),Ne=a(27),Te=function(e,t){var a=t.name,n=void 0===a?null:a,r=t.init,p=void 0===r||r,g=t.options,b=void 0===g?function(){return{}}:g;return function(t){return function(a){Object(u.a)(m,a);var r=Object(s.a)(m);function m(){var t;Object(l.a)(this,m);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(t=r.call.apply(r,[this].concat(c))).state={loading:!0,reloadedMsg:"",error:null,data:null},t.loadingProperty=n?"".concat(n,"Loading"):"loading",t.reloadedMsgProperty=n?"".concat(n,"ReloadedMsg"):"reloadedMsg",t.errorProperty=n?"".concat(n,"Error"):"error",t.dataProperty=n?"".concat(n,"Data"):"data",t.clearProperty=n?"".concat(n,"Clear"):"clear",t.fetchProperty=n?"".concat(n,"Fetch"):"fetch",t.resolveOptions=function(e){return Object(ie.a)({},b(t.props),{},e)},t.loadDataSource=function(){var a=Object(o.a)(i.a.mark((function a(n,r){var o,l,c,s,u;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=t.resolveOptions(r),l=E()(o,"variables"),c=E()(o,"onRequestFinished"),s=E()(o,"onRequestError"),a.prev=4,a.next=7,e(l);case 7:if(u=a.sent,!c){a.next=11;break}return a.next=11,c(u);case 11:return a.abrupt("return",n(null,u));case 14:if(a.prev=14,a.t0=a.catch(4),!s){a.next=19;break}return a.next=19,s(a.t0);case 19:return a.abrupt("return",n(a.t0,null));case 20:case"end":return a.stop()}}),a,null,[[4,14]])})));return function(e,t){return a.apply(this,arguments)}}(),t.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(i,o){t.setState({loading:e},(function(){t.loadDataSource((function(e,r){t.setState({data:r,error:e,loading:!1,reloadedMsg:a},(function(){return e?o(e):i(r),n&&n()}))}),r)}))}))},t.clear=function(e){return t.setState({data:null,error:null,loading:!1},e)},t}return Object(c.a)(m,[{key:"componentDidMount",value:function(){p?this.fetch(!0):this.setState({loading:!1,data:{}})}},{key:"render",value:function(){var e,a=Object(ie.a)({},this.props,(e={},Object(Ne.a)(e,this.errorProperty,this.state.error),Object(Ne.a)(e,this.dataProperty,this.state.data),Object(Ne.a)(e,this.loadingProperty,this.state.loading),Object(Ne.a)(e,this.reloadedMsgProperty,this.state.reloadedMsg),Object(Ne.a)(e,this.fetchProperty,this.fetch),Object(Ne.a)(e,this.clearProperty,this.clear),e));return d.a.createElement(t,a)}}]),m}(m.PureComponent)}},Se={getSpace:function(e){return T.get("/spaces/".concat(e))},getSpaces:function(e){return T.get("/buildings/".concat(e,"/spaces"))}},Ie=a(515),We=a(516),Le=a(518),Fe=a(517),Ye=Object(m.memo)((function(e){var t=e.classes,a=e.space,n=e.history,r=E()(a,"in_maintenance"),i=r?t.cardDisabled:t.card;return d.a.createElement(H.a,{item:!0,xs:12,sm:6,md:4},d.a.createElement(Ie.a,{className:i,onClick:function(){r||n.push("/espacos/".concat(a.id))}},d.a.createElement(We.a,null,d.a.createElement(Fe.a,{className:t.media,image:a.photo_url,title:a.name}),d.a.createElement(Le.a,null,d.a.createElement(se.a,{variant:"h6"},d.a.createElement("small",null,a.name,"\xa0"),r&&d.a.createElement("small",{className:t.danger},"(Manuten\xe7\xe3o)"))))))})),Re=Object(Me.a)(Object(q.a)((function(){return{card:{marginBottom:10},cardDisabled:{marginBottom:10,background:"#EDEDED"},danger:{color:"red"},media:{height:100}}}),{withTheme:!0}),h.f)(Ye),Pe=a(524),He=a(525),Ve=a(545),qe=a(514),Ue=a(541),Ge=a(521),ze=a(280),Qe=a(526),_e=a(271),Je=a.n(_e),Ke=a(270),Xe=a.n(Ke),Ze=a(272),$e=a.n(Ze),et=a(463),tt=a(522),at=a(523),nt=a(546),rt=a(2),it=a.n(rt),ot=a(111),lt=a.n(ot),ct=a(519),st=a(520),ut=a(167),mt={width:32,height:32},dt=Object(m.memo)((function(e){var t=e.classes,a=e.name,n=e.photoUrl;return d.a.createElement(nt.a,{alt:a,src:n,className:t.orange},(lt()(a)||"").toUpperCase())}));dt.propTypes={classes:it.a.object,name:it.a.string,photoUrl:it.a.string};var pt=Object(q.a)((function(e){return{orange:Object(ie.a)({color:e.palette.getContrastText(ct.a[500]),backgroundColor:ct.a[500]},mt),purple:Object(ie.a)({color:e.palette.getContrastText(st.a[500]),backgroundColor:st.a[500]},mt),red:Object(ie.a)({color:e.palette.getContrastText(_.a[500]),backgroundColor:_.a[500]},mt),green:Object(ie.a)({color:e.palette.getContrastText(fe.a[500]),backgroundColor:fe.a[500]},mt),blue:Object(ie.a)({color:e.palette.getContrastText(ut.a[500]),backgroundColor:ut.a[500]},mt)}}),{withTheme:!0})(dt),gt=Object.values(re).filter((function(e){return!e.hideMenu&&!e.settingsMenu})),bt=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={userName:"",userDataError:!1,sideMenuOpen:!1,profileMenuAnchor:null},e.loadData=function(){var t=j.getUserData(),a=E()(t,"member.name","");e.setState({userName:a})},e.onLogout=function(){e.setState({profileMenuAnchor:null},(function(){if(window.confirm("Voc\xea deseja sair?")){var t=e.props.history;Y.hit("Logout"),j.clear(),t.push("/")}}))},e.onSettings=function(){e.setState({profileMenuAnchor:null},(function(){var t=e.props.history;Y.hit("SettingsMembers"),t.push("/configuracoes/usuarios")}))},e.onToggleSideMenu=function(){var t=e.state.sideMenuOpen;e.setState({sideMenuOpen:!t})},e.onChangePage=function(t,a){e.props.history.push(gt[a].path)},e.onToggleProfileMenu=function(t){return e.setState({profileMenuAnchor:t.currentTarget})},e.renderErrorAlertBox=function(t){var a=e.props.history;return j.isAuthorized(t)?d.a.createElement(ke,{type:"error",message:"Erro ao carregar dados do servidor",actionButton:d.a.createElement("b",null,"Recarregar"),onClickAction:function(){return window.location.reload()}}):d.a.createElement(ke,{type:"error",message:"Sua sess\xe3o expirou, fa\xe7a login novamente",actionButton:d.a.createElement("b",null,"Fazer login"),onClickAction:function(){j.clear(),a.push("/")}})},e.renderWebappUpdateAlertBox=function(){return d.a.createElement(ke,{type:"success",message:"Uma nova atualiza\xe7\xe3o foi instalada.",actionButton:d.a.createElement("b",null,"Continuar"),onClickAction:function(){return window.location.reload()}})},e.renderAlerts=function(){var t=e.props,a=t.alertBox,n=t.webappUpdated,r=t.error,i=e.state.userDataError,o=r||i;return a||(n?e.renderWebappUpdateAlertBox():o?e.renderErrorAlertBox(o):null)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"renderSideMenu",value:function(e){var t=this.props,n=t.classes,r=t.history,i=this.state.sideMenuOpen;return d.a.createElement(Ve.a,{classes:{paper:n.drawer},variant:e?"persistent":"permanent",anchor:"left",open:i,ModalProps:{keepMounted:!e}},d.a.createElement("div",{className:n.headerLogoContainer},e&&d.a.createElement("div",{className:n.closeMenuIcon},d.a.createElement(he.a,{size:"medium",onClick:this.onToggleSideMenu},d.a.createElement(Xe.a,null))),d.a.createElement("div",{className:n.logoContainer},d.a.createElement("img",{src:a(420),alt:M.appName,className:n.logo}))),d.a.createElement(Ge.a,{className:n.divider}),d.a.createElement(qe.a,null,gt.map((function(e,t){var a=Object.values(e.submenus||{}),i=Boolean(we()(a)),o={};return i||(o={component:b.b,to:e.path.replace(/:[\w*]+/g,""),selected:e.path.includes(r.location.pathname)}),d.a.createElement("div",{key:t.toString()},d.a.createElement(et.a,Object.assign({button:!i,key:e.path},o),e.icon&&d.a.createElement(tt.a,{className:n.listItemIcon},e.icon),d.a.createElement(at.a,{className:n.listItemText,disableTypography:!0,primary:e.label})),i&&d.a.createElement(qe.a,{className:n.submenuList},a.map((function(t){var a="".concat(e.path).concat(t.path);return d.a.createElement(et.a,{button:!0,className:n.submenuItem,key:a,component:b.b,to:a.replace(/:[\w*]+/g,""),selected:a===r.location.pathname},t.icon&&d.a.createElement(tt.a,{className:n.listItemIcon},t.icon),d.a.createElement(at.a,{className:n.listItemText,disableTypography:!0,primary:t.label}))}))))}))))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.userName,r=a.profileMenuAnchor;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:t.root},d.a.createElement(Pe.a,{position:"fixed",className:t.appBar},d.a.createElement(He.a,null,d.a.createElement(he.a,{"aria-label":"open drawer",onClick:this.onToggleSideMenu,edge:"start"},d.a.createElement(Je.a,null)),d.a.createElement("div",{className:t.profileMenuContainer},d.a.createElement(pt,{name:n,photoUrl:""}),d.a.createElement("span",{className:t.userName,onClick:this.onToggleProfileMenu},n),d.a.createElement(he.a,{size:"medium",onClick:this.onToggleProfileMenu},d.a.createElement($e.a,null)),d.a.createElement(ze.a,{keepMounted:!0,PaperProps:{style:{marginTop:35}},anchorEl:r,open:Boolean(r),onClose:function(){return e.setState({profileMenuAnchor:null})},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},d.a.createElement(Qe.a,{onClick:this.onSettings},"Configura\xe7\xf5es"),d.a.createElement(Qe.a,{onClick:this.onLogout},"Sair"))))),d.a.createElement(Ue.a,{smDown:!0},this.renderSideMenu(!1)),d.a.createElement(Ue.a,{smUp:!0},this.renderSideMenu(!0)),this.renderAlerts()))}}]),n}(m.PureComponent),ht=Object(Me.a)(Object(q.a)((function(e){var t;return{root:Object(Ne.a)({display:"flex",marginBottom:85},e.breakpoints.up("md"),{marginBottom:95}),drawer:(t={},Object(Ne.a)(t,e.breakpoints.up("md"),{width:e.menuWidth,flexShrink:0}),Object(Ne.a)(t,"background","#FAFAFA"),Object(Ne.a)(t,"color","#313131"),t),appBar:{backgroundColor:"#FAFAFA",width:"calc(100%-".concat(e.menuWidth,"px)"),borderBottom:"1px solid rgba(0, 0, 0, 0.12)",boxShadow:"none"},profileMenuContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",width:"100%",marginRight:-15},userName:{color:"#313131",fontSize:14,cursor:"pointer",marginRight:5,marginLeft:10},towerSelect:{width:200,color:"#313131",borderColor:"#FAFAFA",backgroundColor:"#FAFAFA",marginTop:10},logoutButton:{color:"red",fontSize:16,fontWeight:"bold",textTransform:"none"},headerLogoContainer:{width:"100%",display:"flex",paddingTop:5,paddingBottom:2},logoContainer:Object(Ne.a)({marginLeft:10,color:"#313131",paddingTop:5},e.breakpoints.up("md"),{paddingTop:9,paddingBottom:4,marginLeft:15}),closeMenuIcon:{display:"inline-block",color:"#313131",marginLeft:5},logo:{width:105,height:39},checkIcon:{marginRight:10},listItemIcon:{color:"#313131",fontSize:12},listItemText:{marginLeft:-25,fontSize:12,color:"#313131"},submenuList:{marginBottom:-8,marginTop:-8},submenuItem:{paddingLeft:75}}}),{withTheme:!0}),h.f,Object(Me.e)("webappUpdated","setWebappUpdated",!1))(bt),ft=function(e){var t,a;return{container:(t={width:"auto",height:"100%",maxHeight:"100%",marginBottom:20},Object(Ne.a)(t,e.breakpoints.up("md"),{paddingLeft:e.menuWidth,width:"calc(100%-".concat(2*e.menuWidth,"px)"),minWidth:"calc(100%-".concat(2*e.menuWidth,"px)"),maxWidth:"calc(100%-".concat(2*e.menuWidth,"px)"),marginLeft:"auto",marginRight:"auto"}),Object(Ne.a)(t,e.breakpoints.up("xl"),{width:e.maxContainerWidth,minWidth:e.maxContainerWidth,maxWidth:e.maxContainerWidth,marginLeft:"auto",marginRight:"auto"}),t),containerFixed:(a={position:"fixed",width:"auto",height:"100%"},Object(Ne.a)(a,e.breakpoints.up("md"),{paddingLeft:e.menuWidth,width:"calc(100%-".concat(2*e.menuWidth,"px)"),minWidth:"calc(100%-".concat(2*e.menuWidth,"px)"),maxWidth:"calc(100%-".concat(2*e.menuWidth,"px)"),marginLeft:"auto",marginRight:"auto"}),Object(Ne.a)(a,e.breakpoints.up("xl"),{width:e.maxContainerWidth,minWidth:e.maxContainerWidth,maxWidth:e.maxContainerWidth,marginLeft:"auto",marginRight:"auto"}),a),root:Object(Ne.a)({flexGrow:1,marginRight:10,marginLeft:10},e.breakpoints.up("md"),{marginRight:40,marginLeft:40}),headerView:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",alignItems:"flex-start"},centerHeaderView:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center",marginTop:120},tableCell:{color:"#003f54",fontSize:14,height:"auto",wordBreak:"break-word"},tableSmallCell:{color:"#003f54",fontSize:14,height:"auto",width:160,maxWidth:160,minWidth:160,wordBreak:"break-word"},bgGray:{backgroundColor:"#EEE"},bgWhite:{backgroundColor:"#FFF"},roleSelect:{fontSize:14},selectBox:{width:200,marginTop:10},center:{display:"flex",justifyContent:"center",textAlign:"center"},emptyHeaderIcon:{fontSize:32},emptyHeaderTitle:{marginLeft:10}}},Et=E()(j.getUserData(),"buildings[0].id"),vt=Object(m.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.spacesData,l=e.spacesError,c=e.spacesFetch,s=e.spacesLoading,u=e.setBuildingId,m=e.buildingId,p=a.showAlert,g=a.alertMsg,b=a.alertType,h=null;p&&(h=d.a.createElement(ke,{message:g,type:b,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1})}}));var f=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t.target.value),c(!0),a={select_building:t.target.value},Y.hit("Spaces - FilteredByBuilding",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=E()(r,"spaces",[]),A=E()(j.getUserData(),"buildings",[]);return d.a.createElement("div",{className:t.root},d.a.createElement(ht,{alertBox:h,error:l}),d.a.createElement("section",null,d.a.createElement("div",{className:t.container},d.a.createElement("div",{className:t.headerView},d.a.createElement("aside",null,d.a.createElement(se.a,{variant:"h5"},d.a.createElement("b",null,we()(v)?"Reserva de espa\xe7os (".concat(we()(v),")"):"Reserva de espa\xe7os")))),d.a.createElement(H.a,{container:!0,spacing:1},d.a.createElement(H.a,{item:!0,xs:12,sm:6,md:3},d.a.createElement(xe.a,{fullWidth:!0},d.a.createElement(ce.a,{select:!0,label:"Pr\xe9dio",className:t.selectBox,value:m,SelectProps:{native:!0},InputLabelProps:{shrink:!0},onChange:f},A.map((function(e){return d.a.createElement("option",{key:e.id,value:e.id},e.name)}))))))),d.a.createElement("div",{className:t.container},d.a.createElement(H.a,{container:!0,spacing:1},s?d.a.createElement(z,null):Oe()(v)?d.a.createElement("div",{className:t.centerHeaderView},d.a.createElement(je.a,{className:t.emptyHeaderIcon}),d.a.createElement("b",{className:t.emptyHeaderTitle},"Este pr\xe9dio n\xe3o possui espa\xe7o para reserva")):v.map((function(e){return d.a.createElement(Re,{key:e.id,space:e})}))))))})),At=Te(Se.getSpaces,{name:"spaces",options:function(e){return{variables:e.buildingId}}}),kt=Object(Me.a)(Object(q.a)((function(e){return Object(ie.a)({},ft(e))}),{withTheme:!0}),Object(Me.e)("buildingId","setBuildingId",Et),Object(Me.e)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),At)(vt),yt=a(33),Ct=a.n(yt),wt=a(169),Bt=a.n(wt),Ot={getBookings:function(e){var t=e.spaceId,a=e.from,n=e.to;return T.get("/spaces/".concat(t,"/space_bookings?from=").concat(y()(a).toISOString(),"&to=").concat(y()(n).toISOString()))},createBookings:function(e){var t={title:E()(e,"title"),space_id:E()(e,"spaceId"),booking_date:E()(e,"bookingDate"),periods:E()(e,"periods",[])};return T.post("/space_bookings",t)},cancelBooking:function(e){return T.put("/space_bookings/".concat(e,"/cancel"))}},Dt=(a(421),a(422),a(129)),jt=a(276),xt=a.n(jt),Mt={calendar:{height:575},pastBox:{backgroundColor:"#777",borderColor:"#555"},ownerBox:{backgroundColor:"#1177FF"},busyBox:{backgroundColor:"#92b4bf"}},Nt=Object(Dt.c)(y.a),Tt=[{key:Dt.b.WEEK,value:"Semanal"},{key:Dt.b.MONTH,value:"Mensal"}],St=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=t.onNavigate,r=t.view,i=t.loading;return d.a.createElement("div",{className:"rbc-toolbar"},d.a.createElement("div",{className:"rbc-btn-group"},Tt.map((function(t){var a=t.key,n=t.value,o=r===a?"rbc-active":"",l=e.view.bind(null,a);return d.a.createElement("button",{key:a,type:"button",disabled:i,className:o,onClick:l},n)}))),d.a.createElement("b",{className:"rbc-toolbar-label"},i?"Carregando...":a),d.a.createElement("div",{className:"rbc-btn-group"},d.a.createElement("button",{type:"button",disabled:i,onClick:function(){return n("PREV")}},"\u2190"),d.a.createElement("button",{type:"button",disabled:i,onClick:function(){return n("TODAY")}},"Hoje"),d.a.createElement("button",{type:"button",disabled:i,onClick:function(){return n("NEXT")}},"\u2192")))}}]),a}(xt.a);St.propTypes={loading:it.a.bool};var It=Object(m.memo)((function(e){var t=e.data,a=e.view,n=e.onView,r=e.onRangeChange,i=e.loading,o=e.eventComponent,l=e.onSelectBooking;return d.a.createElement(Dt.a,{resizable:!0,events:t,localizer:Nt,view:a,onView:n,startAccessor:"from",endAccessor:"to",step:30,onRangeChange:r,scrollToTime:y()(6,"HH").toDate(),culture:M.locale,eventPropGetter:function(e){return{style:(t=e,y()(t.bookingDate).isBefore()?Mt.pastBox:t.busy?Mt.busyBox:Mt.ownerBox)};var t},components:{event:o,toolbar:function(e){return d.a.createElement(St,Object.assign({loading:i},e))}},style:Mt.calendar,onSelectEvent:l})}));It.propTypes={data:it.a.array,eventComponent:it.a.func,onView:it.a.func,view:it.a.string,loading:it.a.bool,onSelectBooking:it.a.func,onRangeChange:it.a.func};var Wt=It,Lt=a(464),Ft=a(465),Yt=a(466),Rt=a(527),Pt=a(540),Ht=a(459),Vt=a(529),qt=a(530),Ut=a(76),Gt=a(26),zt=a(528),Qt=a(78),_t=a.n(Qt),Jt=a(126),Kt=a.n(Jt),Xt={getCalendar:function(e){var t=e.spaceId,a=e.bookingDate;return e.readOnly?new Promise((function(e){return e({})})):T.get("/spaces/".concat(t,"/space_calendars?booking_date=").concat(y()(a).toISOString()))}},Zt=y()().add(1,"day").toDate(),$t=function(){return{title:"",busy:!1,bookingDate:Zt,periods:Kt()([])}},ea=Object(m.memo)((function(e){var t=e.classes,a=e.open,n=e.setOpen,r=e.calendarLoading,l=e.isMonthView,c=e.space,s=e.bookingData,u=e.calendarFetch,m=e.submitBookingFetch,p=e.submitBookingLoading,g=e.cancelBookingFetch,b=e.cancelBookingLoading,h=e.readOnly,f=e.openModalButton,E=e.setBookingState,v=e.calendar,k=e.setCalendar,C=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),Y.hit("SpaceBookingModal - Viewed"),e.next=5,u(!0);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E($t());case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){Y.hit("SpaceBookingModal - Closed"),h||E($t()),n(!1)},B=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k([]),E({bookingDate:t,periods:Kt()([])}),e.next=5,u(!0);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E($t());case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e,t){var a=s.periods;try{var n=JSON.parse(e.currentTarget.value);t?(a.push(n),E({periods:a})):E({periods:a.filter((function(e){return e.label!==n.label}))})}catch(r){E($t())}},D=s.id,j=s.title,x=s.bookingDate,N=s.periods,T=s.busy,S=p||r,I=D&&h,W=y()(x).isBefore(),L=!h&&we()(v);return d.a.createElement(d.a.Fragment,null,f?d.a.createElement("div",{className:l?t.monthViewButton:t.timeViewButton,onClick:C},f):d.a.createElement(V.a,{onClick:C,size:"large",variant:"contained",color:"primary"},"Reservar"),d.a.createElement(Lt.a,{open:Boolean(a),maxWidth:"md",onClose:w,keepMounted:!0},d.a.createElement(H.a,{container:!0,className:t.container},d.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6},d.a.createElement(Rt.a,null,c.name),d.a.createElement(Ft.a,{className:t.dialogContent},d.a.createElement("div",{dangerouslySetInnerHTML:{__html:c.description}}))),d.a.createElement(H.a,{item:!0,xs:12,sm:12,md:6},d.a.createElement(Rt.a,null,h?j:"Reservar espa\xe7o"),d.a.createElement(Ft.a,{className:t.dialogContent},!h&&d.a.createElement(xe.a,{className:t.inputField},d.a.createElement(ce.a,{fullWidth:!0,label:"Tit\xfalo",margin:"normal",disabled:S||h,InputLabelProps:{shrink:!0},value:j,onChange:function(e){return E({title:e.target.value})}})),d.a.createElement(xe.a,{className:t.inputField},d.a.createElement(Gt.a,{libInstance:y.a,utils:Ut.a,locale:M.locale},d.a.createElement(zt.a,{className:t.calendarInputField,label:"Data da reserva",invalidDateMessage:"Formato inv\xe1lido",variant:"dialog",disabled:S||h,value:x,onChange:B,minDate:Zt,format:"DD/MM/YYYY",cancelLabel:"Cancelar",minDateMessage:""}))),d.a.createElement(xe.a,{className:t.checkboxArea},d.a.createElement(Ht.a,{className:t.inputLabel},"Hor\xe1rios"),r?d.a.createElement("div",{className:t.loading},d.a.createElement(z,null)):d.a.createElement(Vt.a,null,I?A()(N,(function(e){var a="".concat(y()(e.from).format("HH:mm"),"-").concat(y()(e.to).format("HH:mm"));return d.a.createElement(qt.a,{key:a,label:a,classes:{label:t.period},control:d.a.createElement(Pt.a,{checked:!0,disabled:!0})})})):we()(v)?A()(v,(function(e){var a="".concat(e.from,"-").concat(y()(e.to,"HH:mm").add(1,"minute").format("HH:mm")),n=S||h||!e.available,r=e.available?t.period:t.periodBusy,i=!n&&!Oe()(_t()(N,(function(e){return e.label===a})));return d.a.createElement(qt.a,{key:a,label:a,classes:{label:r},control:d.a.createElement(Pt.a,{color:"primary",checked:i,disabled:n,onChange:O,value:JSON.stringify(Object(ie.a)({},e,{label:a}))})})})):d.a.createElement("span",{className:t.error},d.a.createElement("br",null),"N\xe3o h\xe1 hor\xe1rios dispon\xedveis nessa data")))),d.a.createElement(Yt.a,{className:t.dialogAction},T||W?d.a.createElement(V.a,{onClick:w,size:"large"},"Fechar"):I?d.a.createElement(d.a.Fragment,null,d.a.createElement(V.a,{onClick:w,size:"large",disabled:b},"Fechar"),d.a.createElement(V.a,{onClick:function(){window.confirm("Tem certeza em realizar essa a\xe7\xe3o?")&&g(!0)},size:"large",color:"secondary",variant:"contained",disabled:b},"Remover")):d.a.createElement(d.a.Fragment,null,d.a.createElement(V.a,{onClick:w,disabled:S,size:"large"},"Fechar"),d.a.createElement(V.a,{onClick:function(){return m(!0)},size:"large",color:"primary",variant:"contained",disabled:S||!L,className:t.submitButton},p?"Reservando...":"Reservar")))))))})),ta=Te(Xt.getCalendar,{name:"calendar",options:function(e){var t=e.space,a=e.setCalendar,n=e.readOnly,r=e.bookingData.bookingDate;return{variables:{spaceId:E()(t,"id"),readOnly:n,bookingDate:r},onRequestFinished:function(e){a(E()(e,"space_calendars",[]))},onRequestError:function(){a([])}}}}),aa=Te(Ot.createBookings,{name:"submitBooking",init:!1,options:function(e){var t=e.bookingData,a=e.setBookingState,n=e.setOpen,r=e.space,i=e.onRequestBooking;return{variables:Object(ie.a)({},t,{spaceId:E()(r,"id")}),onRequestFinished:function(){Y.hit("SpaceBooking - Added",{}),a($t()),n(!1),i()},onRequestError:i}}}),na=Te(Ot.cancelBooking,{name:"cancelBooking",init:!1,options:function(e){var t=e.bookingData,a=e.onRequestBooking,n=e.setOpen;return{variables:E()(t,"id"),onRequestFinished:function(){Y.hit("SpaceBooking - Canceled",{}),n(!1),a()},onRequestError:a}}}),ra=Object(Me.a)(Object(q.a)((function(){return{container:{flexGrow:1,paddingBottom:15},calendarInputField:{maxWidth:180,marginBottom:10},inputField:{display:"block",maxWidth:265,marginBottom:20},checkboxArea:{marginBottom:20},inputLabel:{fontSize:12},period:{fontSize:12},periodBusy:{fontSize:12,textDecoration:"line-through"},timeViewButton:{width:"100vw",minWidth:"100vw",maxWidth:"100vw",height:"100vh",maxHeight:"100vh",minHeight:"100vh",marginLeft:-10,paddingLeft:10,marginTop:-20,paddingTop:20},monthViewButton:{width:"100vw",minWidth:"100vw",maxWidth:"100vw",marginLeft:-10,paddingLeft:10,marginTop:-20,paddingTop:20},loading:{width:275},error:{color:"red"},dialogContent:{marginTop:-20},dialogAction:{paddingLeft:20,paddingRight:20},center:{display:"flex",justifyContent:"center",textAlign:"center"}}}),{withTheme:!0}),Object(Me.e)("open","setOpen",!1),Object(Me.e)("bookingData","setBookingData",$t()),Object(Me.e)("calendar","setCalendar",[]),Object(Me.e)("disableAction","setDisableAction",!1),Object(Me.c)({setBookingState:function(e){var t=e.setBookingData,a=e.bookingData;return function(e){t(Object(ie.a)({},a,{},e))}}}),Object(Me.b)({componentDidMount:function(){var e=this.props,t=e.selectedBookingData,a=e.setBookingData,n=e.space;if(t){var r=t.event,i=r.id,o=r.title,l=r.from,c=r.to;a({id:i,title:o,bookingDate:r.bookingDate,busy:r.busy,spaceId:n.id,periods:[{from:l,to:c,label:"".concat(l,"-").concat(c)}]})}}}),ta,na,aa)(ea),ia=Object(m.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.bookingsFetch,l=e.match,c=e.setRangeDates,s=e.bookingsData,u=e.bookingsError,m=e.bookingsLoading,p=e.spaceData,g=e.spaceError,b=e.spaceLoading,h=e.calendarView,f=e.setCalendarView,v=a.showAlert,k=a.alertMsg,C=a.alertType,w=function(e){return n({alertMsg:e,alertType:"error",showAlert:!0})},B=function(e){return n({alertMsg:e,alertType:"success",showAlert:!0})},O=null;v&&(O=d.a.createElement(ke,{message:k,type:C,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1})}}));var D=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.params.id,e.prev=1,a=Ct()(t)?{spaceId:n,from:lt()(t),to:Bt()(t)}:{spaceId:n,from:t.start,to:t.end},c({from:a.from,to:a.to}),e.next=6,r(!0,"",null,{variables:a});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),w(E()(e.t0,"error")||"Erro ao atualizar calend\xe1rio");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}a=E()(t,"errors.periods",[]).join(", "),w(a||"Ocorreu um erro ao reservar espa\xe7o"),e.next=9;break;case 6:return B("Reservado com sucesso"),e.next=9,r(!0);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),w("Erro ao atualizar calend\xe1rio");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}a=E()(t,"errors.booking_date",[]).join(", "),w(a||"Ocorreu um erro ao cancelar esta reserva"),e.next=9;break;case 6:return B("Reserva cancelada com sucesso"),e.next=9,r(!0);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),w("Erro ao atualizar calend\xe1rio");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),M=E()(p,"space",{}),N=E()(s,"space_bookings",[]),T=g||u,S=A()(N,(function(e){return{id:e.id,title:e.title||"N\xe3o dispon\xedvel",bookingDate:y()(e.booking_date).toDate(),from:y()(e.booking_date).hour(lt()(e.from.split(":"))).minute(Bt()(e.from.split(":"))).toDate(),to:y()(e.booking_date).hour(lt()(e.to.split(":"))).minute(Bt()(e.to.split(":"))).add(1,"minute").toDate(),busy:!e.title}}));return d.a.createElement("div",{className:t.root},d.a.createElement(ht,{alertBox:O,error:T}),d.a.createElement("section",null,!b&&d.a.createElement("div",{className:t.container},d.a.createElement("div",{className:t.headerView},d.a.createElement("aside",null,d.a.createElement(se.a,{variant:"h5"},d.a.createElement("b",null,M.name))),d.a.createElement("aside",{className:t.newBooking},d.a.createElement(ra,{space:M,onRequestBooking:j})))),d.a.createElement("div",{className:t.container},b?d.a.createElement(z,null):d.a.createElement(Wt,{data:S,onView:f,onRangeChange:D,view:h,loading:m,eventComponent:function(e){return d.a.createElement(ra,{readOnly:!0,space:M,isMonthView:"month"===h,onRequestBooking:x,selectedBookingData:e,openModalButton:d.a.createElement(d.a.Fragment,null,e.title)})}}))))})),oa=Te(Se.getSpace,{name:"space",options:function(e){return{variables:e.match.params.id}}}),la=Te(Ot.getBookings,{name:"bookings",options:function(e){var t=e.match.params.id,a=e.rangeDates;return{variables:{spaceId:t,from:a.from,to:a.to}}}}),ca=Object(Me.a)(Object(q.a)((function(e){return Object(ie.a)({},ft(e))}),{withTheme:!0}),Object(Me.e)("rangeDates","setRangeDates",{from:y()().startOf("week").toDate(),to:y()().endOf("week").toDate()}),Object(Me.e)("calendarView","setCalendarView","week"),Object(Me.e)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),oa,la)(ia),sa=a(162),ua=a.n(sa),ma=a(109),da=a.n(ma),pa=a(89),ga=a.n(pa),ba={getVisitors:function(e){var t=e.page,a=void 0===t?0:t,n=e.perPage,r=void 0===n?20:n,i=e.month,o=void 0===i?11:i,l=e.year,c=e.buildingId;return T.get("/visitors",{page:a,per_page:r,month:o,year:l,building_id:c})},createVisitors:function(e){var t=e.visitorData,a={company_id:e.companyId,visitor_company:e.visitorCompany,visit_hour:e.visitTime,visit_date:e.visitDate,host_member_id:e.hostMemberId,building_id:e.buildingId},n=t.map((function(e){return Object(ie.a)({},e,{},a)}));return T.post("/visitors",{visitors:n})},deleteVisitor:function(e){return T.put("/visitors/".concat(e,"/cancel"))}},ha={getMembers:function(){return T.get("/members")},updateBuildingRole:function(e){var t=e.memberId,a=e.buildingId,n=e.role;return T.put("/enterprise_users/update_role",{member_id:t,building_id:a,role:n})}},fa=a(468),Ea=a(458),va=a(543),Aa=a(461),ka=a(163),ya=a.n(ka),Ca=function(){return{submitButton:{fontWeight:"bold"},dialogContent:{maxWidth:660},inputField:{marginTop:-15,padding:"0 10px",width:"100%"},calendarInputField:{marginTop:10},selectLabel:{position:"relative",fontSize:14,paddingBottom:3},inputLabel:{padding:"20px 12px"},selectBox:{paddingTop:16},button:{fontWeight:"bold",margin:"0 20px"},addVisitorButton:{fontWeight:"bold",marginTop:"15px",maxWidth:"40px",maxHeight:"40px",minWidth:"40px",minHeight:"40px",marginRight:"10px"},deleteVisitorButton:{fontWeight:"bold",marginTop:"15px",backgroundColor:"#EE3C3C",color:"#FFF","&:hover":{backgroundColor:"#EE3C3C"},maxWidth:"40px",maxHeight:"40px",minWidth:"40px",minHeight:"40px",marginRight:"10px"},visitorsContainer:{display:"flex",justifyContent:"space-between"},buttonContainer:{display:"flex",justifyContent:"flex-end"},actions:{marginTop:30,marginBottom:10,display:"flex",justifyContent:"center"}}},wa=j.getUserData(),Ba=function(){return{visitorData:Kt()([{name:"",email:""}]),visitorCompany:"",visitTime:y()(new Date).add(1,"hour").minute(0).toDate(),visitDate:new Date,hostMemberId:E()(wa,"member.id",""),buildingId:E()(wa,"buildings[0].id","")}},Oa=Object(m.memo)((function(e){var t=e.classes,a=e.open,n=e.setOpen,r=e.loading,i=e.setMemberState,o=e.members,l=e.memberData,c=e.buildings,s=e.submitFetch,u=e.submitLoading,m=e.submitError,p=function(){var e=l.visitorData;e.splice(1,0,{name:"",email:""}),i({visitorData:e})},g=function(){Y.hit("VisitorModal - Closed"),i(Ba()),n(!1)},b=ya()(E()(m,"errors",{}),(function(e){return e[0]})),h=l.visitorCompany,f=l.visitTime,v=l.visitDate,A=l.hostMemberId,k=l.visitorData,C=l.buildingId;return d.a.createElement("div",null,d.a.createElement(V.a,{onClick:function(){Y.hit("VisitorModal - Viewed"),i(Ba()),n(!0)},size:"large",variant:"contained",color:"primary"},"Nova visita"),d.a.createElement(Lt.a,{open:a,maxWidth:"md",onClose:g,keepMounted:!0},d.a.createElement(Rt.a,null,"Novo visitante"),d.a.createElement(Ft.a,{className:t.dialogContent},r?d.a.createElement(z,null):d.a.createElement(H.a,{container:!0,spacing:2},k.map((function(e,a){return d.a.createElement(d.a.Fragment,{key:a.toString()},d.a.createElement(H.a,{item:!0,xs:12,sm:6},d.a.createElement(xe.a,{error:!!b.name,className:t.inputField},d.a.createElement(ce.a,{error:!!b.name,fullWidth:!0,label:"Nome do visitante",margin:"normal",InputLabelProps:{shrink:!0},value:k[a].name,disabled:u,onChange:function(e){return function(e,t){var a=l.visitorData;a[t].name=e.target.value,i({visitorData:a})}(e,a)}}),b.name&&d.a.createElement(Aa.a,null,b.name))),d.a.createElement(H.a,{item:!0,xs:10,sm:5},d.a.createElement(xe.a,{error:!!b.email,className:t.inputField},d.a.createElement(ce.a,{error:!!b.email,fullWidth:!0,label:"E-mail do visitante",margin:"normal",InputLabelProps:{shrink:!0},value:k[a].email,disabled:u,onChange:function(e){return function(e,t){var a=l.visitorData;a[t].email=e.target.value,i({visitorData:a})}(e,a)}}),b.email&&d.a.createElement(Aa.a,null,b.email))),d.a.createElement(H.a,{item:!0,xs:2,sm:1},d.a.createElement("div",{className:t.buttonContainer},a?d.a.createElement(V.a,{tabIndex:"-1",onClick:function(){return function(e){var t=l.visitorData;t.splice(e,1),i({visitorData:t})}(a)},variant:"contained",disabled:u,className:t.deleteVisitorButton},"-"):d.a.createElement(V.a,{onClick:p,color:"primary",variant:"contained",disabled:u,className:t.addVisitorButton},"+"))))})),d.a.createElement(d.a.Fragment,null,d.a.createElement(H.a,{item:!0,xs:12,sm:6},d.a.createElement(xe.a,{className:t.inputField,error:!!b.visitorCompany},d.a.createElement(ce.a,{error:!!b.visitorCompany,fullWidth:!0,label:"Empresa do visitante/evento",margin:"normal",InputLabelProps:{shrink:!0},value:h,disabled:u,onChange:function(e){return i({visitorCompany:e.target.value})}}),b.visitorCompany&&d.a.createElement(Aa.a,null,b.visitorCompany))),d.a.createElement(H.a,{item:!0,xs:12,sm:6},d.a.createElement(xe.a,{className:t.inputField,error:!!b.host_member},d.a.createElement(Ea.a,{className:t.inputLabel,id:"hostMemberId"},"Pessoa visitada"),d.a.createElement(fa.a,{labelId:"hostMemberId",placeholder:E()(wa,"member.name",""),fullWidth:!0,className:t.selectBox,value:A,disabled:u,onChange:function(e){return i({hostMemberId:e.target.value})}},o.map((function(e){return d.a.createElement(Qe.a,{key:e.id,value:e.id},"".concat(e.name," ").concat(e.lastname))}))),b.members&&d.a.createElement(Aa.a,null,b.members)))),d.a.createElement(d.a.Fragment,null,d.a.createElement(H.a,{item:!0,xs:6},d.a.createElement(xe.a,{className:t.inputField,error:!!b.visitorCompany},d.a.createElement(Gt.a,{libInstance:y.a,utils:Ut.a,locale:M.locale},d.a.createElement(zt.a,{className:t.calendarInputField,style:Ca.components,label:"Data da visita",invalidDateMessage:"Formato inv\xe1lido",variant:"dialog",value:v,disabled:u,onChange:function(e){return i({visitDate:e})},minDate:new Date,format:"DD/MM/YYYY",cancelLabel:"Cancelar"})))),d.a.createElement(H.a,{item:!0,xs:6},d.a.createElement(xe.a,{className:t.inputField,error:!!b.visitorCompany},d.a.createElement(Gt.a,{libInstance:y.a,utils:Ut.a,locale:M.locale},d.a.createElement(va.a,{className:t.calendarInputField,style:Ca.components,ampm:!1,minutesStep:5,variant:"dialog",label:"Hor\xe1rio",value:f,disabled:u,onChange:function(e){return i({visitTime:e})},cancelLabel:"Cancelar"})))),d.a.createElement(H.a,{item:!0,xs:12,sm:6},d.a.createElement(xe.a,{className:t.inputField},d.a.createElement(Ea.a,{className:t.inputLabel},"Pr\xe9dio"),d.a.createElement(fa.a,{fullWidth:!0,className:t.selectBox,value:C,disabled:u,onChange:function(e){return i({buildingId:e.target.value})}},c.map((function(e){return d.a.createElement(Qe.a,{key:e.id,value:e.id},e.name)})))))))),!r&&d.a.createElement(Yt.a,{className:t.actions},d.a.createElement(V.a,{onClick:g,size:"large",disabled:u},"Cancelar"),d.a.createElement(V.a,{onClick:function(){return s(!0)},size:"large",color:"primary",variant:"contained",disabled:u,style:Ca.submitButton},u?"Autorizando...":"Autorizar"))))})),Da=Te(ba.createVisitors,{name:"submit",init:!1,options:function(e){var t=e.onCreateVisitor,a=e.memberData,n=e.setOpen,r=e.setMemberState,i=e.companyId;return{variables:Object(ie.a)({},a,{companyId:i}),onRequestFinished:function(){Y.hit("NewVisitor - Added"),n(!1),r(Ba()),t()},onRequestError:function(e){t(e)}}}}),ja=Object(Me.a)(Object(q.a)(Ca,{withTheme:!0}),Object(Me.e)("open","setOpen",!1),Object(Me.e)("memberData","setMemberData",Ba()),Object(Me.c)({setMemberState:function(e){var t=e.setMemberData,a=e.memberData;return function(e){t(Object(ie.a)({},a,{},e))}}}),Da)(Oa),xa=a(533),Ma=a(535),Na=a(532),Ta=a(534),Sa=a(531),Ia=a(130),Wa=function(e){return Object(ie.a)({},ft(e),{createNotificationButton:{backgroundColor:"#1177FF",border:"none",width:200,height:50},button:{marginTop:20,marginRight:20},buttonContainer:{display:"flex",justifyContent:"center"},showMoreButton:{width:220}})},La={ACCEPTED:"Autorizado",PENDING:"Pendente",CANCELED:"Cancelado"},Fa=Object(m.memo)((function(e){var t=e.classes,a=e.index,n=e.visitor,r=e.onCancelVisitor,i=E()(n,"id"),o="".concat(E()(n,"name")," ").concat(E()(n,"visitor_company")||""),l="".concat(E()(n,"host_member.name")," ").concat(E()(n,"host_member.lastname")),c=E()(n,"host_member.email"),s="".concat(E()(n,"inviter.name")," ").concat(E()(n,"inviter.lastname")),u=E()(n,"inviter.email"),m=E()(n,"visit_date"),p=y()(E()(n,"visit_hour")),g=E()(n,"checkin_at"),b=y()(m).hour(p.hour()).minute(p.minute());return d.a.createElement(Sa.a,{className:a%2?t.bgWhite:t.bgGray},d.a.createElement(Na.a,{className:t.tableCell},m?"".concat(y()(m).format("DD/MM/YYYY")):"--",d.a.createElement("br",null),p?"".concat(y()(p).format("HH:mm")):"--"),d.a.createElement(Na.a,{className:t.tableCell},La[n.status],d.a.createElement("br",null),g?y()(g).format("DD/MM/YY HH:mm"):""),d.a.createElement(Na.a,{className:t.tableCell},o),d.a.createElement(Na.a,{className:t.tableCell},l,d.a.createElement("br",null),d.a.createElement("small",null,c)),d.a.createElement(Na.a,{className:t.tableCell},s,d.a.createElement("br",null),d.a.createElement("small",null,u)),d.a.createElement(Na.a,{className:t.tableSmallCell},"ACCEPTED"!==n.status&&y()(b).isAfter(y()().startOf("day"))&&d.a.createElement("button",{type:"button",className:t.clearButton,onClick:function(){return r(i)}},d.a.createElement(be.a,null))))})),Ya=Object(q.a)((function(e){return Object(ie.a)({},Wa(e),{clearButton:{display:"flex",justifyContent:"center",alignItems:"center",padding:7,marginLeft:5,borderRadius:50,borderWidth:0,borderStyle:"none",borderImage:"none",backgroundColor:"#EE3C3C",cursor:"pointer",color:"#fff","&:hover":{color:"#fff",backgroundColor:"#EE2C3C"}}})}),{withTheme:!0})(Fa),Ra=Object(m.memo)((function(e){var t=e.classes,a=e.visitors,n=e.loading,r=e.onCancelVisitor;return d.a.createElement("div",{className:t.container},d.a.createElement(Ia.a,{className:t.paper},d.a.createElement(xa.a,null,d.a.createElement(Ta.a,null,d.a.createElement(Sa.a,null,d.a.createElement(Na.a,{className:t.tableCell},"DATA VISITA"),d.a.createElement(Na.a,{className:t.tableCell},"STATUS"),d.a.createElement(Na.a,{className:t.tableCell},"VISITANTE"),d.a.createElement(Na.a,{className:t.tableCell},"VISITA PARA"),d.a.createElement(Na.a,{className:t.tableCell},"CRIADO POR"),d.a.createElement(Na.a,{className:t.tableCell},"A\xc7\xc3O"))),d.a.createElement(Ma.a,null,n?d.a.createElement(Sa.a,null,d.a.createElement(Na.a,{colSpan:6,align:"center"},d.a.createElement(z,null))):we()(a)?a.map((function(e,t){return d.a.createElement(Ya,{index:t,key:e.id,visitor:e,loading:n,onCancelVisitor:r})})):d.a.createElement(Sa.a,null,d.a.createElement(Na.a,{className:t.empty,colSpan:6,align:"center"},"Nenhum visitante registrado"))))))})),Pa=Object(q.a)({container:{marginBottom:40,paddingTop:20},empty:{backgroundColor:"#EEE"},paper:{overflowX:"auto",marginRight:"auto",marginLeft:"auto"},tableCell:{fontSize:14,width:140,maxWidth:140,minWidth:140}},{withTheme:!0})(Ra),Ha=Object(m.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.setBuildingId,r=e.setMonth,l=e.setYear,c=e.setVisitors,s=e.setDisableSeeMore,u=e.visitorsFetch,m=e.visitors,p=e.page,g=e.setPage,b=e.buildingId,h=e.hasFrontdeskLoading,f=e.setHideSeeMore,v=e.membersData,A=e.visitorsError,k=e.visitorsLoading,C=e.disableSeeMore,w=e.classes,B=e.month,O=e.year,D=e.hideSeeMore,x=e.totalVisitors,M=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=y()(t.target.value,"YYYY-MM"),r(a.month()),l(a.year()),T(),n={select_month:a.month()+1,select_year:a.year()},Y.hit("Visitors - FilteredByMonth",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t.target.value),T(),a={select_building:t.target.value},Y.hit("Visitors - FilteredByBuilding",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),g(0),e.next=5,u(!0);case 5:t=e.sent,a=ga()(E()(t,"visitors",[]),"id"),c(a),s(!1),f(Oe()(a)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),s(!1),f(!0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),g(p+1),e.next=5,u(!1);case 5:t=e.sent,a=E()(t,"visitors",[]),c(ga()(ua()(m,a),"id")),s(!1),f(Oe()(a)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),s(!1),c(m),f(!0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Deseja cancelar a visita?")){e.next=12;break}return e.prev=1,e.next=4,ba.deleteVisitor(t);case 4:return e.next=6,u(!0);case 6:a({alertMsg:"Visitante cancelado com sucesso",alertType:"success",showAlert:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({alertMsg:"Ocorreu um erro no cancelamento da visita",alertType:"error",showAlert:!0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}a({alertMsg:"Ocorreu um erro ao registrar visitante",alertType:"error",showAlert:!0}),e.next=13;break;case 4:return e.prev=4,a({alertMsg:"Visitante autorizado com sucesso",alertType:"success",showAlert:!0}),e.next=8,u(!0);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),a({alertMsg:"Ocorreu um erro atualizar lista de visitantes",alertType:"error",showAlert:!0});case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),L=Boolean(!k&&!((we()(m)||1)===x)),F=E()(j.getUserData(),"member.company.id"),R=t.showAlert,P=t.alertMsg,q=t.alertType,U=null;R&&(U=d.a.createElement(ke,{message:P,type:q,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}}));var G=E()(v,"members",[]),z=E()(j.getUserData(),"buildings",[]),Q=h||k,_=Q;return d.a.createElement("div",{className:w.root},d.a.createElement(ht,{alertBox:U,error:A}),d.a.createElement("section",null,d.a.createElement("div",{className:w.container},d.a.createElement("div",{className:w.headerView},d.a.createElement("aside",null,d.a.createElement(se.a,{variant:"h5"},d.a.createElement("b",null,x?"Visitantes (".concat(x,")"):"Visitantes")),d.a.createElement(H.a,{container:!0,spacing:2},d.a.createElement(H.a,{item:!0,xs:12,sm:6},d.a.createElement(xe.a,{fullWidth:!0},d.a.createElement(ce.a,{select:!0,label:"Pr\xe9dio",className:w.selectBox,disabled:_,value:b,SelectProps:{native:!0},InputLabelProps:{shrink:!0},onChange:N},z.map((function(e){return d.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),d.a.createElement(H.a,{item:!0,xs:12,sm:6},d.a.createElement(xe.a,{fullWidth:!0},d.a.createElement(ce.a,{select:!0,label:"M\xeas",className:w.selectBox,disabled:_,value:y()().month(B).year(O).format("YYYY-MM"),SelectProps:{native:!0},InputLabelProps:{shrink:!0},onChange:M},da()(6,(function(e){var t=y()().subtract(e,"month");return d.a.createElement("option",{key:t.format("YYYY-MM"),value:t.format("YYYY-MM")},t.format("MMMM YYYY"))}))))))),d.a.createElement("aside",null,d.a.createElement(ja,{loading:Q,setAlert:a,members:G,companyId:F,onCreateVisitor:W,buildings:z})))),d.a.createElement("div",{className:w.container},d.a.createElement(Pa,{visitors:m,loading:k,onCancelVisitor:I}),L&&!D&&d.a.createElement("div",{className:w.buttonContainer},d.a.createElement(V.a,{className:w.showMoreButton,onClick:S,size:"large",variant:"contained",color:"primary",disabled:C},C?"Carregando":"Ver Mais")))))})),Va=Te(ha.getMembers,{name:"members"}),qa=Te(ba.getVisitors,{name:"visitors",options:function(e){var t=e.page,a=e.month,n=e.year,r=e.buildingId,i=e.setVisitors,o=e.setHideSeeMore,l=e.setTotalVisitors;return{variables:{page:t,perPage:20,month:a+1,year:n,buildingId:r},onRequestFinished:function(e){var t=ga()(E()(e,"visitors",[]),"id"),a=E()(e,"meta.total",0);i(t),o(Oe()(t)),l(a)}}}}),Ua=Object(Me.a)(Object(q.a)(Wa,{withTheme:!0}),Object(Me.e)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Me.e)("buildingId","setBuildingId",E()(j.getUserData(),"buildings[0].id")),Object(Me.e)("totalVisitors","setTotalVisitors",0),Object(Me.e)("visitors","setVisitors",[]),Object(Me.e)("hideSeeMore","setHideSeeMore",!1),Object(Me.e)("disableSeeMore","setDisableSeeMore",!1),Object(Me.e)("page","setPage",0),Object(Me.e)("month","setMonth",y()().month()),Object(Me.e)("year","setYear",y()().year()),Va,qa)(Ha),Ga={getTickets:function(e){var t=e.buildingId,a=e.assigneeId;return T.get("/tickets",{building_id:t,assignee_id:a})},getTicket:function(e){return e?T.get("/tickets/".concat(e)):null},updateTicket:function(e){var t=Object(ie.a)({},e,{building_id:E()(e,"building.id"),assignee_id:E()(e,"assignee.id"),category_id:E()(e,"category.id")});return T.put("/tickets/".concat(E()(e,"id")),t)},moveTicket:function(e){var t=e.id,a=e.status,n=e.position,r=e.building_id;return T.put("/tickets/".concat(t,"/move"),{status:a,position:n,building_id:r})},postTicket:function(e){return T.post("/tickets",e)},getAssignables:function(e){return T.get("/tickets/assignables",{building_id:e})}},za=a(279),Qa=a(100),_a=a.n(Qa),Ja=a(277),Ka=a.n(Ja),Xa=a(127),Za={PRIORITIES:[{label:"Normal",key:"NORMAL"},{label:"Urgente",key:"URGENT"}],KANBAN_STATUSES:[{label:"Pendentes",key:"PENDING"},{label:"Em andamento",key:"IN_PROGRESS"},{label:"Conclu\xeddos",key:"DONE"}],STATUSES:[{label:"Pendente",key:"PENDING"},{label:"Em andamento",key:"IN_PROGRESS"},{label:"Conclu\xeddo",key:"DONE"},{label:"Rejeitado",key:"REJECTED"},{label:"Arquivado",key:"ARCHIVED"}],STATUS_PENDING:"PENDING",STATUS_IN_PROGRESS:"IN_PROGRESS",STATUS_DONE:"DONE",STATUS_REJECTED:"REJECTED",STATUS_ARCHIVED:"ARCHIVED"},$a={kanban:{display:"inline-flex",userSelect:"none",alignItems:"center",justifyContent:"center",height:640},column:{margin:10,display:"flex",flexDirection:"column",marginBottom:10,minWidth:325,height:640},columnHeader:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2,borderLeft:"1px solid rgba(96, 115, 137, 0.12)",borderRight:"1px solid rgba(96, 115, 137, 0.12)",borderTop:"1px solid rgba(96, 115, 137, 0.12)",backgroundColor:"rgba(96, 115, 137, 0.04)",transition:"background-color 0.1s ease",height:50,userSelect:"none"},columnTitle:{padding:10,transition:"background-color ease 0.2s",flexGrow:1,userSelect:"none",position:"relative",fontSize:14,fontWeight:600,color:"#515c6a"},list:{backgroundColor:"rgba(96, 115, 137, 0.04)",display:"flex",flexDirection:"column",padding:10,borderRadius:2,borderLeft:"1px solid rgba(96, 115, 137, 0.12)",borderRight:"1px solid rgba(96, 115, 137, 0.12)",borderBottom:"1px solid rgba(96, 115, 137, 0.12)",paddingBottom:0,transition:"background-color 0.1s ease, opacity 0.1s ease",userSelect:"none",minHeight:250,marginBottom:10},card:{cursor:"pointer"},cardContent:{boxShadow:"2px 2px 1px rgba(0,0,0,0.2)",flexGrow:1,flexBasis:"100%",display:"flex",flexDirection:"column",marginBottom:8}},en=Object(m.memo)((function(e){var t=e.provided,a=void 0===t?{}:t,n=e.children;return d.a.createElement("a",Object.assign({style:$a.card,ref:a.innerRef},a.draggableProps,a.dragHandleProps),n)}));en.propTypes={children:it.a.any,provided:it.a.any};var tn=Object(m.memo)((function(e){var t=e.provided,a=e.renderCard,n=e.row,r=e.cardWrapperStyle,i=e.disableDragDrop;return d.a.createElement(en,{provided:i?{}:t},d.a.createElement("div",{style:Object(ie.a)({},$a.cardContent,{},r)},a(n)))})),an=Object(m.memo)((function(e){var t=e.provided,a=void 0===t?{}:t,n=e.style,r=e.children;return d.a.createElement("div",Object.assign({style:Object(ie.a)({},$a.list,{},n),ref:a.innerRef},a.droppableProps),r)}));an.propTypes={children:it.a.any,provided:it.a.any,style:it.a.any};var nn=Object(m.memo)((function(e){var t=e.column,a=e.cardWrapperStyle,n=e.renderCard,r=e.disableDragDrop;return A()(E()(t,"rows",[]),(function(e,t){return r?d.a.createElement(tn,{key:t,row:e,renderCard:n,cardWrapperStyle:a,disableDragDrop:r}):d.a.createElement(Xa.b,{key:e.id,draggableId:e.id,index:t},(function(i,o){return d.a.createElement(tn,{key:t,row:e,provided:i,dragSnapshot:o,renderCard:n,cardWrapperStyle:a,disableDragDrop:r})}))}))})),rn=Object(m.memo)((function(e){var t=e.listStatus,a=e.column,n=e.disableDragDrop,r=e.renderCard,i=e.columnStyle,o=e.cardWrapperStyle;return n?d.a.createElement(an,{style:i},d.a.createElement(nn,{column:a,renderCard:r,disableDragDrop:n,cardWrapperStyle:o})):d.a.createElement(Xa.c,{droppableId:t||"ROW",isDropDisabled:!1,type:"ROW"},(function(e){return d.a.createElement(an,{style:i,provided:e},d.a.createElement(nn,{column:a,renderCard:r,disableDragDrop:n,cardWrapperStyle:o}),e.placeholder)}))}));rn.propTypes={listStatus:it.a.string,renderCard:it.a.func,column:it.a.object,columnStyle:it.a.object,cardWrapperStyle:it.a.object,disableDragDrop:it.a.bool};var on=rn,ln=Object(m.memo)((function(e){var t=e.index,a=e.column,n=e.renderCard,r=e.columnStyle,i=e.columnWrapperStyle,o=e.cardWrapperStyle,l=e.columnTitleStyle,c=e.columnHeaderStyle,s=e.disableDragDrop;return d.a.createElement("div",{style:Object(ie.a)({},$a.column,{},i)},d.a.createElement("header",{style:Object(ie.a)({},$a.columnHeader,{},c)},d.a.createElement("h4",{style:Object(ie.a)({},$a.columnTitle,{},l)},"".concat(E()(a,"title")," (").concat(we()(E()(a,"rows")),")"))),d.a.createElement(on,{key:t,columnStyle:r,column:a,listStatus:E()(a,"status"),renderCard:n,cardWrapperStyle:o,disableDragDrop:s}))}));ln.propTypes={index:it.a.number,renderCard:it.a.func,column:it.a.object,columnWrapperStyle:it.a.object,columnStyle:it.a.object,columnTitleStyle:it.a.object,columnHeaderStyle:it.a.object,cardWrapperStyle:it.a.object,disableDragDrop:it.a.bool};var cn=ln,sn=Za.KANBAN_STATUSES,un=function(e,t){return A()(e,(function(e){return e.status})).indexOf(t)},mn=function(e){return A()(sn,(function(t,a){var n=E()(t,"key"),r=Ka()(e,(function(e){return e.status===n}));return{index:a,status:n,title:E()(t,"label","").toUpperCase(),rows:r}}))},dn=Object(m.memo)((function(e){var t=e.columns,a=e.setColumns,n=e.onDragEnd,r=e.renderCard,i=e.columnWrapperStyle,o=e.cardWrapperStyle,l=e.columnStyle,c=e.columnHeaderStyle,s=e.columnTitleStyle,u=e.disableDragDrop;return d.a.createElement(Xa.a,{onDragEnd:function(e){var r=e.source,i=e.destination;if(!(!i||r.droppableId===i.droppableId&&r.index===i.index)){var o=_a()(t),l=un(t,r.droppableId),c=un(t,i.droppableId);if(r.droppableId!==i.droppableId){var s=_a()(t[l].rows),u=_a()(t[c].rows),m=s.splice(r.index,1),d=Object(za.a)(m,1)[0];u.splice(i.index,0,d),o[l].rows=_a()(s),o[c].rows=_a()(u)}else{var p=o[l].rows[r.index],g=o[c].rows[i.index];o[l].rows[r.index]=g,o[c].rows[i.index]=p}a(_a()(o)),n(e)}}},d.a.createElement("div",{style:$a.kanban},da()(we()(sn),(function(e){return d.a.createElement(cn,{key:e,index:e,column:t[e],renderCard:r,columnHeaderStyle:c,columnTitleStyle:s,columnStyle:l,columnWrapperStyle:i,cardWrapperStyle:o,disableDragDrop:u})}))))})),pn=Object(Me.a)(Object(Me.e)("columns","setColumns",[]),Object(Me.b)({componentDidMount:function(){var e=this.props,t=e.data;(0,e.setColumns)(mn(t))}}),Object(Me.d)(["data"],(function(e){var t=e.data;(0,e.setColumns)(mn(t))})))(dn),gn={getComments:function(e){return e?T.get("/tickets/".concat(e,"/ticket_comments")):null},sendComment:function(e){var t=e.id,a=e.content;return T.post("/tickets/".concat(t,"/ticket_comments"),{content:a})}},bn=Object(m.memo)((function(e){var t=e.comment,a=e.classes;return d.a.createElement("div",null,d.a.createElement("div",{className:a.userNameContainer},d.a.createElement(pt,{name:E()(t,"member.name")}),d.a.createElement(se.a,{variant:"subtitle2",component:"b",className:a.userName},"".concat(E()(t,"member.name")," ").concat(E()(t,"member.lastname")))),d.a.createElement("div",{className:a.content},d.a.createElement("div",{className:a.baloon},d.a.createElement("span",null,t.content)),d.a.createElement(se.a,{variant:"body2",color:"textSecondary",component:"small"},y()(E()(t,"created_at")).calendar())))}));bn.propTypes={classes:it.a.object,comment:it.a.object};var hn=Object(q.a)((function(){return{userNameContainer:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginTop:15},userName:{marginLeft:10},content:{marginLeft:40,marginBottom:20},baloon:{backgroundColor:"#E0E0E0",borderRadius:5,paddingLeft:15,paddingRight:15,paddingTop:10,paddingBottom:10,marginBottom:5,height:"auto",wordBreak:"break-word"}}}),{withTheme:!0})(bn),fn=Za.PRIORITIES,En=Za.STATUSES,vn=Za.STATUS_REJECTED,An=Za.STATUS_ARCHIVED,kn=Object(m.memo)((function(e){var t=e.classes,a=e.assignees,n=e.categories,r=e.open,i=e.onClose,o=e.setCurrentTicketState,l=e.currentTicket,c=e.ticketLoading,s=e.closeModal,u=e.updateTicketFetch,m=e.updateTicketLoading,p=e.ticketCommentsData,g=e.ticketCommentsLoading,b=e.disableEdit,h=e.commentMessage,f=e.setCommentMessage,v=e.setCloseModal,k=e.sendTicketCommentsFetch,C=e.sendTicketCommentsLoading,w=e.moveTicketFetch,B=e.moveTicketLoading,O=function(e){o(e),v(!1),u(!0)},D=j.getUserData(),x=E()(D,"buildings",[]),N=le()(E()(p,"ticket_comments",[]),["created_at"]).reverse(),T=C||g||s,S=m||B||c||s,I="".concat(E()(l,"requester.name")," ").concat(E()(l,"requester.lastname")),W=y()(E()(l,"created_at")).fromNow(),L=E()(_t()(En,(function(e){return e.key===E()(l,"status")})),"label",""),F=E()(l,"building.id"),R=E()(l,"category.id"),P=E()(l,"assignee.id");if(b){F=E()(_t()(x,(function(e){return e.id===E()(l,"building.id")})),"name",""),R=E()(_t()(n,(function(e){return e.id===E()(l,"category.id")})),"title","");var q=_t()(a,(function(e){return e.id===E()(l,"assignee.id")}));P=q?"".concat(E()(q,"name")," ").concat(E()(q,"lastname")):"Nenhum respons\xe1vel"}return d.a.createElement(Lt.a,{open:r,onClose:function(){Y.hit("TicketModal - Closed"),i()},keepMounted:!0,fullWidth:!0,maxWidth:"md"},d.a.createElement(H.a,{container:!0},d.a.createElement(H.a,{item:!0,xs:12,sm:12,md:5,className:t.bgGray},d.a.createElement(Rt.a,null,E()(l,"title"),d.a.createElement("br",null),d.a.createElement(se.a,{variant:"body2",color:"textSecondary",component:"small"},"".concat(W," por "),d.a.createElement("b",null,I))),d.a.createElement(Ft.a,{className:t.ticketContent},d.a.createElement(xe.a,{fullWidth:!0,margin:"normal"},d.a.createElement(ce.a,{disabled:!0,label:"Status",className:t.input,value:L,InputLabelProps:{shrink:!0},variant:"outlined"})),d.a.createElement(xe.a,{fullWidth:!0,margin:"normal"},d.a.createElement(ce.a,{select:!b,label:"Pr\xe9dio",className:t.input,disabled:S||b,value:F,InputLabelProps:{shrink:!0},SelectProps:{native:!0},onChange:function(e){return function(e){var t={variables:{id:l.id,building_id:e}};o({building:{id:e}}),w(!1,"",null,t)}(e.target.value)},variant:"outlined"},x.map((function(e){return d.a.createElement("option",{value:e.id,key:e.id},e.name)})))),d.a.createElement(xe.a,{fullWidth:!0,margin:"normal"},d.a.createElement(ce.a,{select:!b,label:"Categoria",className:t.input,disabled:S||b,value:R,SelectProps:{native:!0},InputLabelProps:{shrink:!0},onChange:function(e){return O({category:{id:e.target.value}})},variant:"outlined"},n.map((function(e){return d.a.createElement("option",{key:e.id,value:e.id},e.title)})))),d.a.createElement(xe.a,{fullWidth:!0,margin:"normal"},d.a.createElement(ce.a,{select:!b,label:"Respons\xe1vel",className:t.input,disabled:S||b,value:P,SelectProps:{native:!0},InputLabelProps:{shrink:!0},onChange:function(e){return O({assignee:{id:e.target.value}})},variant:"outlined"},d.a.createElement("option",{value:""},"Nenhum respons\xe1vel"),a.map((function(e){return d.a.createElement("option",{key:e.id,value:e.id},"".concat(e.name," ").concat(e.lastname))})))),d.a.createElement(xe.a,{fullWidth:!0,margin:"normal"},d.a.createElement(Gt.a,{libInstance:y.a,utils:Ut.a,locale:M.locale},d.a.createElement(zt.a,{autoOk:!0,label:"Prazo",clearable:!0,animateYearScrolling:!0,className:t.input,disabled:S,invalidDateMessage:"Formato inv\xe1lido",variant:"outlined",inputVariant:"outlined",InputLabelProps:{shrink:!0},value:E()(l,"deadline"),onChange:function(e){return O({deadline:e})},minDate:new Date,format:"DD/MM/YYYY",cancelLabel:"Cancelar",clearLabel:"Limpar"}))),d.a.createElement(xe.a,{fullWidth:!0,margin:"normal"},d.a.createElement(ce.a,{select:!0,label:"Prioridade",className:t.input,disabled:S,value:E()(l,"priority"),InputLabelProps:{shrink:!0},SelectProps:{native:!0},onChange:function(e){return O({priority:e.target.value})},variant:"outlined"},fn.map((function(e){return d.a.createElement("option",{value:e.key,key:e.key},e.label)}))))),d.a.createElement(Yt.a,{className:t.ticketActions},d.a.createElement(V.a,{color:"default",size:"large",variant:"contained",onClick:function(){if(window.confirm("Tem certeza em rejeitar esse ticket?")){var e={variables:{id:l.id,status:vn}};w(!0,"",null,e)}},disabled:S||b},"REJEITAR"),d.a.createElement(V.a,{color:"default",size:"large",variant:"contained",onClick:function(){if(window.confirm("Tem certeza em arquivar esse ticket?")){var e={variables:{id:l.id,status:An}};w(!0,"",null,e)}},disabled:S||b},"ARQUIVAR"))),d.a.createElement(H.a,{item:!0,xs:12,sm:12,md:7},d.a.createElement(Rt.a,null,"Atividade"),d.a.createElement(Ft.a,{className:t.commentContent},d.a.createElement("div",{className:t.commentArea},g?d.a.createElement(z,null):A()(N,(function(e){return d.a.createElement(hn,{key:e.id,comment:e})}))),d.a.createElement(se.a,{variant:"h6"},"Comentar"),d.a.createElement(xe.a,{fullWidth:!0,margin:"normal"},d.a.createElement(ce.a,{variant:"filled",placeholder:"Escreva seu coment\xe1rio aqui...",InputLabelProps:{shrink:!0},value:h,onChange:function(e){return f(e.target.value)},disabled:T}))),d.a.createElement(Yt.a,{className:t.commentActions},d.a.createElement(V.a,{color:"primary",size:"large",variant:"contained",onClick:function(){v(!1),k(!0)},disabled:T},"ENVIAR")))))})),yn=Te(gn.getComments,{name:"ticketComments",init:!1,options:function(e){var t=e.ticket;return{variables:E()(t,"id")}}}),Cn=Te(gn.sendComment,{name:"sendTicketComments",init:!1,options:function(e){var t=e.currentTicket,a=e.commentMessage,n=e.setCommentMessage,r=e.onClose,i=e.ticketCommentsFetch;return{variables:{id:E()(t,"id"),content:a},onRequestFinished:function(){n(""),i(!1)},onRequestError:function(e){Y.hit("TicketModal - Closed"),r(e,"Erro ao enviar um coment\xe1rio para esse ticket")}}}}),wn=Te(Ga.moveTicket,{name:"moveTicket",init:!1,options:function(e){var t=e.onClose;return{onRequestFinished:function(){Y.hit("TicketModal - Closed"),t(null,"Ticket atualizado com sucesso")},onRequestError:function(e){Y.hit("TicketModal - Closed"),t(e,"Erro ao atualizar esse ticket")}}}}),Bn=Te(Ga.updateTicket,{name:"updateTicket",init:!1,options:function(e){var t=e.currentTicket,a=e.onClose,n=e.closeModal;return{variables:t,onRequestFinished:function(){n&&(Y.hit("TicketModal - Closed"),a(null,"Ticket atualizado com sucesso"))},onRequestError:function(e){Y.hit("TicketModal - Closed"),a(e,"Erro ao atualizar esse ticket")}}}}),On=Object(Me.a)(Object(q.a)((function(e){return Object(ie.a)({},ft(e),{ticketContent:{marginTop:-20},ticketActions:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",alignSelf:"flex-end",paddingLeft:25,paddingRight:25,paddingBottom:20},commentContent:{marginTop:-20,paddingLeft:20,paddingRight:20},commentArea:{height:385,minHeight:385,maxHeight:385,marginBottom:15,overflowY:"scroll"},commentActions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-end",alignSelf:"flex-end",paddingLeft:20,paddingRight:20,paddingBottom:20}})}),{withTheme:!0}),Object(Me.e)("currentTicket","setCurrentTicket",{}),Object(Me.e)("commentMessage","setCommentMessage",""),Object(Me.e)("closeModal","setCloseModal",!1),yn,Cn,Bn,wn,Object(Me.b)({componentDidMount:function(){var e=this.props,t=e.ticket;(0,e.setCurrentTicket)(t)}}),Object(Me.d)(["open"],(function(e){var t=e.open,a=e.closeModal,n=e.ticketCommentsFetch;t&&!a&&n(!0)})),Object(Me.c)({setCurrentTicketState:function(e){var t=e.setCurrentTicket,a=e.currentTicket;return function(e){t(Object(ie.a)({},a,{},e))}}}))(kn),Dn={card:{padding:0,width:"100%"},cardContent:{marginBottom:0,paddingBottom:5},cardAction:{marginTop:10,marginBottom:15,display:"inline-flex",width:"100%",alignItems:"baseline",justifyContent:"space-between"},cardAvatar:{display:"inline-flex",width:"100%",height:23,alignItems:"baseline"},cardAvatarName:{marginLeft:10,marginTop:0}},jn=Object(m.memo)((function(e){var t=e.ticket,a=e.openModal,n=e.setOpenModal,r=e.onCloseModal,i=e.categories,o=e.assignees,l=e.match,c=e.history,s=e.disableEdit,u=a||!Oe()(t)&&E()(t,"id")===E()(l,"params.id"),m="".concat(E()(t,"requester.name")," ").concat(E()(t,"requester.lastname","")[0],"."),p="".concat(E()(t,"assignee.name")," ").concat(E()(t,"assignee.lastname","")[0],".");return d.a.createElement(d.a.Fragment,null,d.a.createElement(Ie.a,{style:Dn.card,onClick:function(){n(!0),c.replace("/tickets/".concat(E()(t,"id")))}},d.a.createElement(Le.a,{style:Dn.cardContent},d.a.createElement(se.a,{variant:"subtitle1"},d.a.createElement("b",null,E()(t,"title"))),d.a.createElement(se.a,{variant:"body2",color:"textSecondary",component:"small"},"".concat(y()(E()(t,"created_at")).fromNow()," por "),d.a.createElement("b",null,m)),d.a.createElement("div",{style:Dn.cardAction},d.a.createElement("div",{style:Dn.cardAvatar},E()(t,"assignee")&&d.a.createElement(d.a.Fragment,null,d.a.createElement(pt,{name:p}),d.a.createElement(se.a,{variant:"subtitle1",style:Dn.cardAvatarName},d.a.createElement("small",null,p)))),d.a.createElement(se.a,{variant:"body2",color:"textSecondary",component:"small"},E()(t,"category.title"))))),d.a.createElement(On,{open:u,ticket:t,categories:i,assignees:o,onClose:function(e,t){n(!1),r(e,t,(function(){return c.replace("/tickets")}))},disableEdit:s}))})),xn=Object(Me.a)(h.f,Object(Me.e)("openModal","setOpenModal",!1))(jn),Mn={wrapper:{marginLeft:0,marginRight:10},header:{backgroundColor:"#FFF",padding:10,paddingTop:0,paddingBottom:0,height:60,width:"100%",borderTopLeftRadius:5,borderTopRightRadius:5},headerTitle:{color:"#313131"},column:{width:"100%",backgroundColor:"#E0E0E0",height:640,overflowY:"scroll"}},Nn=Object(m.memo)((function(e){var t=e.tickets,a=e.categories,n=e.assignees,r=e.loading,i=e.moveTicketFetch,o=e.onCloseCardModal,l=e.lockBoard;return r?d.a.createElement(z,null):d.a.createElement(pn,{data:t||[],disableDragDrop:l,renderCard:function(e){return d.a.createElement(xn,{ticket:e,assignees:n,categories:a,onCloseModal:o,disableEdit:l})},onDragEnd:function(e){var t=e.draggableId,a=e.destination,n={variables:{id:t,status:E()(a,"droppableId"),position:E()(a,"index")}};i(!1,"",null,n)},columnStyle:Mn.column,columnHeaderStyle:Mn.header,columnTitleStyle:Mn.headerTitle,columnWrapperStyle:Mn.wrapper})})),Tn=Te(Ga.moveTicket,{name:"moveTicket",init:!1}),Sn=Object(Me.a)(Object(q.a)(Mn,{withTheme:!0}),Tn)(Nn),In={getCategories:function(){return T.get("/ticket_categories")}},Wn={MEMBER_ROLE:"MEMBER",COMPANY_RECEPTIONIST_ROLE:"COMPANY_RECEPTIONIST",COMPANY_MANAGER_ROLE:"COMPANY_MANAGER",COMPANY_ROLES:[{label:"Colaborador",value:"MEMBER"},{label:"Recep\xe7\xe3o",value:"COMPANY_RECEPTIONIST"},{label:"Admin",value:"COMPANY_MANAGER"}]},Ln=Wn.MEMBER_ROLE,Fn=Te(In.getCategories,{name:"ticketCategories"}),Yn=Te(Ga.getAssignables,{name:"ticketAssignees"}),Rn=Te(Ga.getTickets,{name:"tickets",options:function(e){var t=e.match,a=e.history;return{variables:{buildingId:e.buildingId,assigneeId:e.assigneeId},onRequestFinished:function(e){var n=E()(t,"params.id"),r=E()(e,"tickets",[]);we()(n)&&we()(r)&&(A()(r,(function(e){return e.id})).includes(n)||a.replace("/tickets"))}}}}),Pn=Object(Me.a)(Object(q.a)((function(e){return Object(ie.a)({},ft(e))}),{withTheme:!0}),h.f,Object(Me.e)("assigneeId","setAssigneeId"),Object(Me.e)("buildingId","setBuildingId",E()(j.getUserData(),"buildings[0].id")),Object(Me.e)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Rn,Fn,Yn)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.assigneeId,l=e.setAssigneeId,c=e.buildingId,s=e.setBuildingId,u=e.ticketsFetch,m=e.ticketsData,p=e.ticketsError,g=e.ticketsLoading,h=e.ticketCategoriesData,f=e.ticketCategoriesError,v=e.ticketCategoriesLoading,A=e.ticketAssigneesData,k=e.ticketAssigneesError,y=e.ticketAssigneesLoading,C=j.getUserData();if(E()(C,"member.company.has_ticket_support")){var w=E()(C,"buildings",[]),B=E()(C,"buildings_enterprise_users",[]),O=_t()(B,(function(e){return c===e.building_id})),D=E()(O,"role")===Ln,x=E()(m,"tickets",[]),M=E()(h,"ticket_categories",[]),N=E()(A,"members",[]),T=g||v||y,S=T,I=p||f||k,W=function(){var e=Object(o.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(!1);case 3:return e.prev=3,n&&a({alertMsg:n,alertType:t?"error":"success",showAlert:!0}),e.finish(3);case 6:return e.abrupt("return",r&&r());case 7:case"end":return e.stop()}}),e,null,[[0,,3,6]])})));return function(t,a,n){return e.apply(this,arguments)}}(),L=t.showAlert,F=t.alertMsg,R=t.alertType,P=null;return L&&(P=d.a.createElement(ke,{message:F,type:R,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}})),d.a.createElement("div",{className:n.root},d.a.createElement(ht,{alertBox:P,error:I}),d.a.createElement("section",null,d.a.createElement("div",{className:n.container},d.a.createElement("div",{className:n.headerView},d.a.createElement("aside",null,d.a.createElement(se.a,{variant:"h5"},d.a.createElement("b",null,we()(x)?"Tickets (".concat(we()(x),")"):"Tickets")),d.a.createElement(H.a,{container:!0,spacing:2},d.a.createElement(H.a,{item:!0,xs:12,sm:6},d.a.createElement(xe.a,{fullWidth:!0},d.a.createElement(ce.a,{select:!0,label:"Pr\xe9dio",className:n.selectBox,disabled:S,value:c,SelectProps:{native:!0},InputLabelProps:{shrink:!0},onChange:function(e){s(e.target.value);var t={select_building:e.target.value};Y.hit("Tickets - FilteredByBuilding",t),u(!0)}},w.map((function(e){return d.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),d.a.createElement(H.a,{item:!0,xs:12,sm:6},d.a.createElement(xe.a,{fullWidth:!0},d.a.createElement(ce.a,{select:!0,label:"Respons\xe1vel",className:n.selectBox,disabled:S,value:r,SelectProps:{native:!0},InputLabelProps:{shrink:!0},onChange:function(e){l(e.target.value);var t={select_assignee:e.target.value};Y.hit("Tickets - FilteredByAssignee",t),u(!0)}},d.a.createElement("option",{value:""},"Todos respons\xe1veis"),N.map((function(e){return d.a.createElement("option",{key:e.id,value:e.id},"".concat(e.name," ").concat(e.lastname))}))))))),d.a.createElement("aside",null,d.a.createElement(V.a,{variant:"contained",component:b.b,to:"/tickets/novo",color:"primary",size:"large"},"Novo ticket")))),d.a.createElement("div",{className:n.container},d.a.createElement(H.a,{container:!0},d.a.createElement(H.a,{item:!0,xs:12},d.a.createElement(Sn,{lockBoard:D,tickets:x,categories:M,assignees:N,loading:T,onCloseCardModal:W}))))))}return d.a.createElement("div",{className:n.root},d.a.createElement(ht,null),d.a.createElement("section",null,d.a.createElement("div",{className:n.container},d.a.createElement(H.a,{container:!0,spacing:1},d.a.createElement("div",{className:n.centerHeaderView},d.a.createElement(je.a,{className:n.emptyHeaderIcon}),d.a.createElement("b",{className:n.emptyHeaderTitle},"Essa conta n\xe3o possui o servi\xe7o de tickets"))))))})),Hn=Za.PRIORITIES,Vn=function(){return{title:"",description:"",category_id:"",deadline:null,priority:E()(Hn,"[0].key"),building_id:E()(j.getUserData(),"buildings[0].id")}},qn=Object(m.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.ticket,i=e.setTicketState,o=e.ticketLoading,l=e.ticketError,c=e.ticketFetch,s=e.ticketCategoriesLoading,u=e.ticketCategoriesData,m=a.showAlert,p=a.alertMsg,g=a.alertType,h=null;m&&(h=d.a.createElement(ke,{message:p,type:g,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1})}}));var f=j.getUserData(),v=E()(f,"buildings",[]),k=E()(u,"ticket_categories",[]),C=ya()(E()(l,"errors",{}),(function(e){return e[0]})),w=o||s;return d.a.createElement("div",{className:t.root},d.a.createElement(ht,{alertBox:h}),d.a.createElement("section",null,d.a.createElement("div",{className:t.container},d.a.createElement("div",{className:t.headerView},d.a.createElement("aside",null,d.a.createElement(se.a,{variant:"h5"},d.a.createElement("b",null,"Novo ticket"))))),d.a.createElement("br",null),d.a.createElement("div",{className:t.container},d.a.createElement(Ia.a,{className:t.paper},d.a.createElement(se.a,{variant:"h6"},d.a.createElement("b",null,"Solicita\xe7\xe3o")),d.a.createElement(H.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},d.a.createElement(H.a,{item:!0,xs:12},d.a.createElement(xe.a,{fullWidth:!0,error:!!C.title},d.a.createElement(ce.a,{label:"* T\xedtulo",error:!!C.title,className:t.input,disabled:w,placeholder:"Ex.: Banheiro entupido, m\xe1quina de caf\xe9 com defeito, etc",value:E()(r,"title"),onChange:function(e){return i({title:e.target.value})},variant:"outlined",InputLabelProps:{shrink:!0}}),C.title&&d.a.createElement(Aa.a,null,C.title)),d.a.createElement(xe.a,{fullWidth:!0,error:!!C.description},d.a.createElement(ce.a,{label:"Descri\xe7\xe3o",error:!!C.description,className:t.input,disabled:w,placeholder:"Mais detalhes sobre a ocorr\xeancia...",value:E()(r,"description"),onChange:function(e){return i({description:e.target.value})},variant:"outlined",InputLabelProps:{shrink:!0}}),C.description&&d.a.createElement(Aa.a,null,C.description)),d.a.createElement(xe.a,{fullWidth:!0,error:!!C.building_id},d.a.createElement(ce.a,{select:!0,label:"* Pr\xe9dio",error:!!C.building_id,className:t.input,disabled:w,value:E()(r,"building_id"),SelectProps:{native:!0},InputLabelProps:{shrink:!0},onChange:function(e){return i({building_id:e.target.value})},variant:"outlined"},v.map((function(e){return d.a.createElement("option",{key:e.id,value:e.id},e.name)}))),C.building_id&&d.a.createElement(Aa.a,null,C.building_id)),d.a.createElement(xe.a,{fullWidth:!0,error:!!C.category_id},d.a.createElement(ce.a,{select:!0,label:"* Categoria",error:!!C.category_id,className:t.input,disabled:w,value:E()(r,"category_id"),SelectProps:{native:!0},InputLabelProps:{shrink:!0},onChange:function(e){return i({category_id:e.target.value})},variant:"outlined"},A()(k,(function(e){return d.a.createElement("option",{key:e.id,value:e.id},e.title)}))),C.category_id&&d.a.createElement(Aa.a,null,C.category_id)))),d.a.createElement("br",null),d.a.createElement(se.a,{variant:"h6"},d.a.createElement("b",null,"Deadline")),d.a.createElement(H.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},d.a.createElement(H.a,{item:!0,xs:12,sm:6},d.a.createElement(xe.a,{fullWidth:!0},d.a.createElement(Gt.a,{libInstance:y.a,utils:Ut.a,locale:M.locale},d.a.createElement(zt.a,{autoOk:!0,label:"Prazo",clearable:!0,animateYearScrolling:!0,className:t.input,disabled:w,invalidDateMessage:"Formato inv\xe1lido",variant:"outlined",inputVariant:"outlined",InputLabelProps:{shrink:!0},value:E()(r,"deadline"),onChange:function(e){return i({deadline:e})},minDate:new Date,format:"DD/MM/YYYY",cancelLabel:"Cancelar",clearLabel:"Limpar"})))),d.a.createElement(H.a,{item:!0,xs:12,sm:6},d.a.createElement(xe.a,{fullWidth:!0,error:!!C.priority},d.a.createElement(ce.a,{select:!0,label:"Prioridade",error:!!C.priority,className:t.input,disabled:w,value:E()(r,"priority"),InputLabelProps:{shrink:!0},SelectProps:{native:!0},onChange:function(e){return i({priority:e.target.value})},variant:"outlined"},Hn.map((function(e){return d.a.createElement("option",{value:e.key,key:e.key},e.label)}))),C.priority&&d.a.createElement(Aa.a,null,C.priority))),d.a.createElement(H.a,{item:!0,xs:12},d.a.createElement("div",{className:t.actions},d.a.createElement(V.a,{component:b.b,to:"/tickets",color:"default",size:"large",disabled:w,className:t.cancel},"Cancelar"),d.a.createElement(V.a,{variant:"contained",color:"primary",size:"large",disabled:w,onClick:function(){return c(!0).catch((function(){}))}},w?"Aguarde...":"Enviar"))))))))})),Un=Te(In.getCategories,{name:"ticketCategories",options:function(e){var t=e.setTicketState;return{onRequestFinished:function(e){t({category_id:E()(e,"ticket_categories[0].id")})}}}}),Gn=Te(Ga.postTicket,{name:"ticket",init:!1,options:function(e){var t=e.ticket,a=e.setTicket,n=e.setAlert,r=e.ticketCategoriesData;return{variables:t,onRequestFinished:function(){n({alertMsg:"Ticket registrado com sucesso",alertType:"success",showAlert:!0}),a(Object(ie.a)({},Vn(),{category_id:E()(r,"ticket_categories[0].id")}))},onRequestError:function(){n({alertMsg:"Erro ao registrar esse ticket",alertType:"error",showAlert:!0})}}}}),zn=Object(Me.a)(Object(q.a)((function(e){return Object(ie.a)({},ft(e),{paper:{overflowX:"auto",marginRight:"auto",marginLeft:"auto",padding:20},input:{marginTop:20},cancel:{marginRight:20},actions:{marginTop:20,display:"flex",width:"100%",justifyContent:"flex-end"}})}),{withTheme:!0}),h.f,Object(Me.e)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Me.e)("ticket","setTicket",Vn()),Object(Me.c)({setTicketState:function(e){var t=e.setTicket,a=e.ticket;return function(e){t(Object(ie.a)({},a,{},e))}}}),Un,Gn)(qn),Qn={getDeliveries:function(e){var t=e.page,a=void 0===t?0:t,n=e.perPage,r=void 0===n?10:n,i=e.month,o=void 0===i?1:i,l=e.year;return T.get("/deliveries",{page:a,per_page:r,month:o,year:l})}},_n=function(e){return Object(ie.a)({},ft(e),{createNotificationButton:{backgroundColor:"#1177FF",border:"none",width:200,height:50},button:{marginTop:20},buttonContainer:{display:"flex",justifyContent:"center"},showMoreButton:{width:220}})},Jn={package:"Encomenda",food:"Comida"},Kn={member_receive:"Ocupante desceu",expedition_receive:"Expedi\xe7\xe3o recebeu",office_delivery:"Entregue no escrit\xf3rio",expedition_delivery:"Expedi\xe7\xe3o entregou"},Xn=Object(m.memo)((function(e){var t=e.classes,a=e.index,n=e.delivery,r="".concat(E()(n,"member.name")," ").concat(E()(n,"member.lastname")),i=E()(n,"member.email"),o=E()(n,"member.company.name"),l=y()(E()(n,"created_at")).format("DD/MM/YY HH:mm"),c=E()(n,"delivery_method"),s=E()(n,"delivery_type");return d.a.createElement(Sa.a,{className:a%2?t.bgWhite:t.bgGray},d.a.createElement(Na.a,{className:t.tableSmallCell},l),d.a.createElement(Na.a,{className:t.tableSmallCell},Kn[c]),d.a.createElement(Na.a,{className:t.tableSmallCell},Jn[s]),d.a.createElement(Na.a,{className:t.tableMediumCell},r,d.a.createElement("br",null),o,d.a.createElement("br",null),d.a.createElement("small",null,i)))})),Zn=Object(q.a)((function(e){return Object(ie.a)({},_n(e))}),{withTheme:!0})(Xn),$n=Object(m.memo)((function(e){var t=e.classes,a=e.deliveries,n=e.loading;return d.a.createElement("div",{className:t.container},d.a.createElement(Ia.a,{className:t.paper},d.a.createElement(xa.a,null,d.a.createElement(Ta.a,null,d.a.createElement(Sa.a,null,d.a.createElement(Na.a,{className:t.tableCell},"DATA"),d.a.createElement(Na.a,{className:t.tableCell},"ENTREGA"),d.a.createElement(Na.a,{className:t.tableCell},"TIPO"),d.a.createElement(Na.a,{className:t.tableCell},"OCUPANTE"))),d.a.createElement(Ma.a,null,n?d.a.createElement(Sa.a,null,d.a.createElement(Na.a,{colSpan:4,align:"center"},d.a.createElement(z,null))):we()(a)?a.map((function(e,t){return d.a.createElement(Zn,{index:t,key:e.id,delivery:e,loading:n})})):d.a.createElement(Sa.a,null,d.a.createElement(Na.a,{className:t.empty,colSpan:4,align:"center"},"Nenhuma entrega registrada"))))))})),er=Object(q.a)((function(){return{container:{marginBottom:40,paddingTop:20},empty:{backgroundColor:"#EEE"},paper:{overflowX:"auto",marginRight:"auto",marginLeft:"auto"},tableCell:{fontSize:14}}}),{withTheme:!0})($n),tr=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={alertMsg:"",alertType:"",showAlert:!1},e.clearAlert=function(){return e.setState({showAlert:!1,alertMsg:""})},e.renderAlertBox=function(){var t=e.state,a=t.alertMsg,n=t.alertType;return t.showAlert?d.a.createElement(ke,{message:a,type:n,onClose:e.clearAlert}):null},e.onSelectMonth=function(){var t=Object(o.a)(i.a.mark((function t(a){var n,r,o,l,c,s,u,m,d,p,g,b;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.setMonth,o=n.setYear,l=n.setDeliveries,c=n.setPage,s=n.setDisableSeeMore,u=n.setHideSeeMore,m=n.deliveriesFetch,t.prev=1,d=y()(a.target.value,"YYYY-MM"),s(!0),c(0),r(d.month()),o(d.year()),t.next=9,m(!0);case 9:p=t.sent,g=ga()(E()(p,"deliveries",[]),"id"),l(g),s(!1),u(Oe()(g)),b={select_month:d.month()+1,select_year:d.year()},Y.hit("Deliveries - FilteredByMonth",b),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),s(!1),u(!0);case 22:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}(),e.onSeeMore=Object(o.a)(i.a.mark((function t(){var a,n,r,o,l,c,s,u,m,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,n=a.deliveries,r=a.setDeliveries,o=a.page,l=a.setPage,c=a.deliveriesFetch,s=a.setHideSeeMore,u=a.setDisableSeeMore,t.prev=1,u(!0),l(o+1),t.next=6,c(!1);case 6:m=t.sent,d=ga()(E()(m,"deliveries",[]),"id"),r(ua()(n,d)),u(!1),s(Oe()(d)),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(1),u(!1),r(n),s(!0);case 18:case"end":return t.stop()}}),t,null,[[1,13]])}))),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.deliveries,a=e.deliveriesLoading,n=e.deliveriesError,r=e.classes,i=e.month,o=e.year,l=e.hideSeeMore,c=e.disableSeeMore,s=e.totalDeliveries,u=n,m=Boolean(!a&&!((we()(t)||1)===s));return d.a.createElement("div",{className:r.root},d.a.createElement(ht,{alertBox:this.renderAlertBox(),error:u}),d.a.createElement("section",null,d.a.createElement("div",{className:r.container},d.a.createElement("div",{className:r.headerView},d.a.createElement("aside",null,d.a.createElement(se.a,{variant:"h5"},d.a.createElement("b",null,s?"Entregas (".concat(s,")"):"Entregas")),d.a.createElement(xe.a,{className:r.inputField,fullWidth:!0},d.a.createElement(fa.a,{fullWidth:!0,className:r.button,value:y()().month(i).year(o).format("YYYY-MM"),onChange:this.onSelectMonth},da()(6,(function(e){var t=y()().subtract(e,"month");return d.a.createElement(Qe.a,{key:t.format("YYYY-MM"),value:t.format("YYYY-MM")},t.format("MMMM YYYY"))}))))))),d.a.createElement("div",{className:r.container},d.a.createElement(er,{deliveries:t,loading:a}),m&&!l&&d.a.createElement("div",{className:r.buttonContainer},d.a.createElement(V.a,{className:r.showMoreButton,onClick:this.onSeeMore,size:"large",variant:"contained",color:"primary",disabled:c},c?"Carregando":"Ver Mais")))))}}]),a}(m.PureComponent),ar=Te(Qn.getDeliveries,{name:"deliveries",options:function(e){var t=e.page,a=e.month,n=e.year,r=e.setDeliveries,i=e.setHideSeeMore,o=e.setTotalDeliveries;return{variables:{page:t,perPage:20,month:a+1,year:n},onRequestFinished:function(e){var t=ga()(E()(e,"deliveries",[]),"id"),a=E()(e,"meta.total",0);r(t),i(Oe()(t)),o(a)}}}}),nr=Object(Me.a)(Object(q.a)(_n,{withTheme:!0}),Object(Me.e)("totalDeliveries","setTotalDeliveries",0),Object(Me.e)("deliveries","setDeliveries",[]),Object(Me.e)("hideSeeMore","setHideSeeMore",!1),Object(Me.e)("disableSeeMore","setDisableSeeMore",!1),Object(Me.e)("page","setPage",0),Object(Me.e)("month","setMonth",y()().month()),Object(Me.e)("year","setYear",y()().year()),ar)(tr),rr=a(539),ir=a(536),or=a(191),lr=a.n(or),cr={tab:{width:200}},sr=Object.values(re).filter((function(e){return!e.hideMenu&&e.settingsMenu})),ur=Object(m.memo)((function(e){var t=e.history,a=e.tabIndex,n=e.setTabIndex;return d.a.createElement(Ia.a,{square:!0},d.a.createElement(rr.a,{value:a,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return n(t)}},sr.map((function(e,a){return d.a.createElement(ir.a,{key:e.path,label:e.label,index:a,style:cr.tab,component:"a",onClick:function(a){a.preventDefault(),t.push(e.path)}})}))))}));ur.propTypes={history:it.a.object,tabIndex:it.a.number,setTabIndex:it.a.func};var mr=Object(Me.a)(h.f,Object(Me.e)("tabIndex","setTabIndex",0),Object(Me.b)({componentDidMount:function(){var e=this.props,t=e.history;(0,e.setTabIndex)(lr()(sr,(function(e){return t.location.pathname===e.path})))}}))(ur),dr={getBuildingsMembers:function(){return T.get("/buildings_members")},setBlocked:function(e){return T.put("/buildings_members/blocked",e)}},pr=a(38),gr=Object(Me.a)(Object(Me.e)("viewer","setViewer",null),Object(Me.b)({componentDidMount:function(){var e=j.getUserData();this.props.setViewer(e)}})),br={progress:{marginRight:10,marginTop:12}},hr=Object(m.memo)((function(e){var t=e.classes;return d.a.createElement(P.a,{size:18,color:"primary",className:t.progress,variant:"indeterminate",disableShrink:!0,thickness:5})}));hr.propTypes={classes:it.a.object};var fr=Object(Me.a)(Object(q.a)(br,{withTheme:!0}))(hr),Er=function(){return{checkBoxLoadingView:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",height:"auto",cursor:"pointer",marginLeft:7},checkBoxView:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:"auto",cursor:"pointer",marginLeft:-10},checkbox:{marginTop:10},loading:{marginTop:0,marginLeft:-5,marginBottom:5}}},vr=Object(q.a)(Er,{withTheme:!0})((function(e){var t=e.classes,a=e.blockedAt,n=e.loading,r=e.buildingName,i=e.onConfirmBlock;return d.a.createElement("div",null,n?d.a.createElement("div",{className:t.checkBoxLoadingView},d.a.createElement("div",{className:t.loading},d.a.createElement(fr,null)),d.a.createElement("small",null,"Desativar acesso",d.a.createElement("br",null),"(".concat(r,")"))):d.a.createElement("label",{className:t.checkBoxView},d.a.createElement(Pt.a,{checked:a,style:Er.checkbox,onChange:function(){window.confirm("Tem certeza em realizar essa a\xe7\xe3o?")&&i()}}),d.a.createElement("small",null,"Desativar acesso",d.a.createElement("br",null),"(".concat(r,")"))))})),Ar=function(e){return Object(ie.a)({},ft(e))},kr=Wn.COMPANY_ROLES,yr=Wn.MEMBER_ROLE,Cr=Object(m.memo)((function(e){var t=e.viewer,a=e.index,n=e.member,r=e.loggedMemberId,i=e.classes,o=e.buildingsMemberBlockedAtLoading,l=e.buildingsMemberBlockedAtFetch,c=e.buildingMemberBlockId,s=e.setBuildingMemberBlockId;if(!t)return null;var u=Object(pr.get)(n,"enterprise_user.buildings_enterprise_users"),m=Object(pr.find)(u,(function(e){return e.building_id===t.building_id})),p=Object(pr.get)(m,"role",yr),g="".concat(Object(pr.get)(n,"name")," ").concat(Object(pr.get)(n,"lastname")),b=Object(pr.get)(n,"email"),h=Object(pr.get)(n,"phone"),f=Object(pr.sortBy)(Object(pr.get)(n,"buildings_members",[]),"building.name");return d.a.createElement(Sa.a,{className:a%2?i.bgWhite:i.bgGray},d.a.createElement(Na.a,{className:i.tableSmallCell},g),d.a.createElement(Na.a,{className:i.tableSmallCell},Object(pr.get)(Object(pr.find)(kr,(function(e){return e.value===p})),"label")),d.a.createElement(Na.a,{className:i.tableSmallCell},b),d.a.createElement(Na.a,{className:i.tableSmallCell},h),d.a.createElement(Na.a,{className:i.tableCell},r!==n.id&&f.map((function(e){return d.a.createElement(vr,{key:e.id,loading:o&&c===e.id,buildingName:Object(pr.get)(e,"building.name"),blockedAt:Boolean(Object(pr.get)(e,"blocked_at")),onConfirmBlock:function(){return function(e,t){s(Object(pr.get)(e,"id"));var a={variables:{member_id:t,blocked_at:!Object(pr.get)(e,"blocked_at"),building_id:Object(pr.get)(e,"building.id")}};l(!0,"",null,a)}(e,n.id)}})}))))})),wr=Te(ha.updateBuildingRole,{name:"updateBuildingRole",init:!1,options:function(e){var t=e.refetch,a=e.setBuildingMemberBlockId,n=e.setAlert;return{onRequestFinished:function(e){a(null),t(e)},onRequestError:function(){a(null),n({alertMsg:"Ocorreu um erro na atualiza\xe7\xe3o desse papel",alertType:"error",showAlert:!0})}}}}),Br=Te(dr.setBlocked,{name:"buildingsMemberBlockedAt",init:!1,options:function(e){var t=e.refetch,a=e.setBuildingMemberBlockId,n=e.setAlert;return{onRequestFinished:function(e){a(null),t(e)},onRequestError:function(){a(null),n({alertMsg:"Ocorreu um erro bloquear este usu\xe1rio",alertType:"error",showAlert:!0})}}}}),Or=Object(Me.a)(Object(q.a)((function(e){return Object(ie.a)({},Ar(e))}),{withTheme:!0}),Object(Me.e)("buildingMemberBlockId","setBuildingMemberBlockId"),wr,gr,Br)(Cr),Dr=Object(m.memo)((function(e){var t=e.classes,a=e.members,n=e.loading,r=e.refetch,i=e.setAlert,o=e.loggedMemberId;return d.a.createElement("div",{className:t.container},d.a.createElement(Ia.a,{className:t.paper},d.a.createElement(xa.a,null,d.a.createElement(Ta.a,null,d.a.createElement(Sa.a,null,d.a.createElement(Na.a,{className:t.tableCell},"NOME"),d.a.createElement(Na.a,{className:t.tableCell},"CARGO"),d.a.createElement(Na.a,{className:t.tableCell},"EMAIL"),d.a.createElement(Na.a,{className:t.tableCell},"CELULAR"),d.a.createElement(Na.a,{className:t.tableCell},"A\xc7\xc3O"))),d.a.createElement(Ma.a,null,n?d.a.createElement(Sa.a,null,d.a.createElement(Na.a,{colSpan:5,align:"center"},d.a.createElement(z,null))):we()(a)?a.map((function(e,t){return d.a.createElement(Or,{loggedMemberId:o,refetch:r,setAlert:i,index:t,key:e.id,member:e,loading:n})})):d.a.createElement(Sa.a,null,d.a.createElement(Na.a,{className:t.empty,colSpan:5,align:"center"},"Nenhum usu\xe1rio cadastrado"))))))})),jr=Object(q.a)((function(){return{container:{marginBottom:40,paddingTop:20},empty:{backgroundColor:"#EEE"},paper:{overflowX:"auto",marginRight:"auto",marginLeft:"auto"},tableCell:{fontSize:14}}}),{withTheme:!0})(Dr),xr=Object(m.memo)((function(e){var t=e.buildingMembersData,a=e.buildingMembersLoading,n=e.buildingMembersError,r=e.alert,i=e.setAlert,o=e.buildingMembersFetch,l=e.classes,c=r.showAlert,s=r.alertMsg,u=r.alertType,m=null;c&&(m=d.a.createElement(ke,{message:s,type:u,onClose:function(){return i({alertMsg:"",alertType:"",showAlert:!1})}}));var p=j.getUserData(),g=E()(p,"member.id"),b=E()(t,"members");return d.a.createElement("div",{className:l.root},d.a.createElement(ht,{alertBox:m,error:n}),d.a.createElement("section",null,d.a.createElement("div",{className:l.container},d.a.createElement("div",{className:l.headerView},d.a.createElement("aside",null,d.a.createElement(se.a,{variant:"h5"},d.a.createElement("b",null,"Configura\xe7\xf5es"))))),d.a.createElement("div",{className:l.container},d.a.createElement(mr,null)),d.a.createElement("div",{className:l.container},d.a.createElement(jr,{loggedMemberId:g,refetch:function(){return o(!1)},setAlert:i,members:b,loading:a}))))})),Mr=Te(dr.getBuildingsMembers,{name:"buildingMembers"}),Nr=Object(Me.a)(Object(q.a)(Ar,{withTheme:!0}),Object(Me.e)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Mr)(xr);y.a.locale(M.locale);var Tr=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;M.isiOS&&document.querySelector('link[rel="manifest"]').setAttribute("rel","no-on-ios"),this.setState({loading:!0},Object(o.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.getEnterpriseUser();case 3:a=t.sent,n=E()(a,"enterprise_user"),j.setUserData(n),Y.trackScreenView("Home"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),j.setUserData(null);case 12:return t.prev=12,e.setState({loading:!1}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])}))))}},{key:"render",value:function(){var e=this.state.loading;return d.a.createElement(w.a,{theme:J},d.a.createElement(C.a,null),d.a.createElement(m.Suspense,{fallback:d.a.createElement(z,{hasRefreshMsg:!0})},e?d.a.createElement(z,{hasRefreshMsg:!0}):d.a.createElement(b.a,null,d.a.createElement(h.c,null,A()(re,(function(e,t){return e.submenus?A()(e.submenus,(function(t,a){return d.a.createElement(h.a,{key:"".concat(e.path).concat(t.path),exact:t.exact,path:"".concat(e.path).concat(t.path),component:R(n[a],t.trackPage)})})):d.a.createElement(h.a,{key:e.path,exact:e.exact,path:e.path,component:R(n[t],e.trackPage)})}))))))}}]),a}(m.PureComponent);g.a.render(d.a.createElement(Tr,null),document.querySelector("main"))}},[[298,1,2]]]);
//# sourceMappingURL=main.c32f79e7.chunk.js.map