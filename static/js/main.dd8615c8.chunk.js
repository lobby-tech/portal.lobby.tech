(this["webpackJsonplobby-portal"]=this["webpackJsonplobby-portal"]||[]).push([[0],{223:function(e,t,a){e.exports=a.p+"static/media/logo.7f12e1c7.png"},443:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAADcCAYAAACs2N87AAAXdUlEQVR4AezBgQAAAAACoDH2Jx3kKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL86dusQEaMoisLohSwBjECUZDCNv0DSNU18BYAogVHI5mIGz2k3AeByVlh11/2NHMyHtcbATCgA8Fs+O3AaemjMIBQAEFggsACoBBYILAAQWAgsABBY7UFgAYDAQmABgMACgQWAwAKBBQACC4EFAAILBBYAAgsEFgACS2AhsABAYIHAAkBgXYaLV8CDwHorAATW6MFEKC+CkYNdgQWAwBJYCCwAEFgILAAQWLRBYAGAwEJgAYDAAoEFgMASWAgsABBYCCwAEFg0Q2ABgMBCYAGAwAKBBYDAElgILAAQWAgsABBYtE9gAYDAQmABgMCibQILAAQWAgsABBZtE1gAILAQWAAgsGiSwAIAgYXAAgCBhcASWIuh+4DlUFJgELoPmAslsb3QvdN2KCCwEFh/30boP2AnlBS4Dv0HLISS2GPo3+k+FBBYCCyB9e8hsILAQmCBwBJYCKwfJLAQWCCwBBYCS2AhsAQWAktgIbAEFggsBJbAohJYCQgsBBYILIGFwBJYCCyBhcASWAgsgQUCC4ElsKgEVgICC4EFAktgIbAEFgJLYCGwBBYCS2CBwEJgCSwqgZWAwEJggcASWAgsgYXAElgILIGFwBJYILAQWAKLSmAlILAQWCCwBBYCS2AhsAQWAktgIbAEFggsBJbAohJYCQgsBBYILIGFwBJYCCyBhcASWAgsgQUCC4ElsKgEVgICC4EFAktgIbAEFgJLYCGwBBYCq0UCC4EFAktgIbAEFgJrK9y8012c55iAQGAJLASWwEJg/TwQWAILgSWwEFggsAQWAktggcBCYAmsJ/buOcqSLGvY+K5q20hna8207cK4bay2bdu2Mtu2bdsufG132Xbu77n5xqtaneude3bgROb+47diWH2T96lzIvYJ5zyw6tAT//oD66LOA2sms7bMx3UZ/KsDy/K/WQRSbi7SF+ZcZIHlgeU8sGqxE25AP0yA/hvG43Ncjl352V4IEpVsA2s1nICH8TOmQf8PMzAEz+Bs9K6ZrWU2SHm4aF+Ycx5YHlhZq5+ntTvXGvTCPjgYJ+K6xLE4GHuiV+UJ6No5WmaBRCj9wOLj5XoEPkEbNAXT8RYONTzwFHtgrYVrMAiakuG4Bf+sm7ulO8TFLdoX5pwHlgdW2urmbOnOdQOchZcD31jH4GWchg0MwRVzYK2GuzANmqFJuAXLln2LsHb2llm5boOPoRn7BYfUzN4yG8TFKdoX5pwHlgdWitbA1fgNmrIhuBordIItwkY8Cc3ZNNyJurIFVsN8rd2SsOoHzdnvOKQSd5C08GcujxcNHmYXYo5IdkK2M34sq3W+m9yd88DywLLbCG9Cc/IKNixhYK2HczAVWqCJOKFxgdZukLwYAmt5vAktWF+sBUnR01CDIyFFqqzwcf0RGqiPYTvWtwidbxF6YHVKq+F9aEFexkolCqyB0Ih8gWUiX8EahUnQSLThYqJi1pR2EFbFDGigwUWvYiX3VarBdvAxDc5XsDywPLBqZm2Zi+tFmAqNwAXB2zcBDIEVo5HYOuLAitUHaIak4DaowekFr179YFkVrNyzCQmV/AvnYuOB5YFVtT+jHzQyX2HFaFew4neSB1bVBmADiEXyFOl4aKAx/BkLQ3JnX73a3geNuvLzFSwPLLutMQ4aqYnYzgMr2F2VkRqQDBgCK2oT0RtidAnU4BxIniqrxsbVqzd8krsrPw8sDyy7E6ElcbwHVrA7rVs2Hek4sDyykm33Yca5Z42QHO0NNehVeGDJ5A9bMalKU7pN/nAxCJzriAeWB5YhrqJ2qQdWsJN9i7BqE1J44OJAqMENkDxU5tKlsXoVQ2DdAK1W+QPLeWB5YHlcmVzogRVsdw+sqg3kvqQFISGSaPneOOdseUgOtspt9coDy3lgeWD55yI6M7C3B1aQqVjZA6tqb1ieaE1myqnBo5AcfBzD6pUHlvPA8sAqo16YBi25yejRSQJrBibgP2nGvmTO0ZwQu0IDawomJCZDM3YKJMRSi7RPrH8darAKJEObG+eI9fbAciXmgeWBZTBryxJcR2Z8ZMuUmUyHZuR3PqaFIHa5BtbvuBo7YWX+2YtC/lPydVoDu+MWDIGm7NySrWDNwCs4Hf9C3UyDOGev/Gf4J07BS5iRftSbjnRaE2rwDiRDH0EDPQzxwHKl5oHlgWXwODRF43Ev9sKqlSemIDOZN4mF/fBoBisN95doBeuBkL/l187Zfg/PRvgg5dWf5UoQWGNxJhoC/kKxCNfj8Cs0Ja9DDO6DGvwDkoHNoAYremA5Aw+sUvPA2gWakm+xX8g2UxJcB6X8prdV5IH1PtaHpGBjfAVNwcMRB9YUXEUkLQCxqKx0JStf9ri3HwGzjHGL/i1ImpZatH378sMYVq88sJwHVql4YFVCiOuAlFasjqybq6U7xCLZ0jkqpTe9nyp/HsQig8Bqwxn82bNB0pLMVroWmoKVIgysAegJSdmK6Ac16mP4GUhj+OjOkBRtGsH3kAeW88DywCql86BGX2I5SMqWRl+o0WGRrWBNwBY5fE9Pt65iRRZYfbBkhvchzs/1BajRZobXsDDXwcbjoyQNjQu2r159EMHqlQeW88DywCrl6tU4qMGTrJrMA8lCspr1HNRgkG0VK9XAmoBekBzskEJk1UcSWG/z/TAnJFNsGdojyzyS4ASowQGQFGwSwX18HljOA8sDq5QOgho82DBfazdIhtKKrN0jWMFqw9aQHB0HNTgngsD6GktC8pBE1ifGpxobgleOFmjtZhw+OuA/n6IM1WRfvboOYuCB5TywSs0D6wtooHcrN6VDckFkGR8VfyeCwLoAUoB7oIG+b2ZOEySELbAMw0/tao3nBJ4BMdgVanA4xGBj49es0QOrS3IeWPDAWg4aaCjqCpjVtaRhVlcbli4wsD6vmb1lNkje+LzNxz9/eEGP2VsD6zhIQXazfL0Lnj011nKEj3H16nqIB1aX5Dyw4IF1BjTQ9pCC7FrQze7WwPobpEB7QwOdVFBg9TdsdZklIwo+hgaYQagsZhxu26OggbEbGQcKN3hgdVnOA8sDyzDb5kNIUZoXNs3lebGgwHoLUqTkUOHfoQGeKiiwdoMYFH2j904Qo6eggcZUnkoMCLsPratXHljl5TywPLDsN/FOhQbYtMRvehMLCqztIRE4ExpgUNNCrd0g1TIE1qjUZoTZb/b+ERrg4pRGlbRBA90AqcK/LEGHJT2wujLngeUrWGtAA/wGKVpyPMyAPAcfGgJr/H8eE1S05GPXIIH38xgC63ZIDAzDP5+BpOB64w3n9YaVbcMTpx5YXY/zwPLA2gMa4BJIJC6HBtgx58B6ARILw2rMOjlvEe4EicSG0AC/pPRwx+Jcx+dwJudG+WxH2hn+zx5YmXIeWB5Y50AD9IBEYnPDDdt5BtZZkIg8DA2wb86B1QSJQWUFMnBLfTIkJacZ53KtkvHq1bkQX8Hq6pwHlgfWVdAqTbcfrpuqBQK/Zq05B9bukIicBA2wT46BNb5+7tbukFjwmoYEjgapSTHyBkADPVr+1StfwXIeWB5Y8XsZWqVxkFg08TQh10HQKt2dc2BtAInI/tAAV+QYWGMhkXk1gpW4PaEGf81o9eo8iK9gOeeBlfDAqtJHkMh8B63SXTkH1uqQiGxZgsB6BxKZV4oOrMqgWq6fWs5zzGD1amAOK9u+guU8sErsr5bHsAvjgfUstEqfemBFH1hfeWBlcIQNsAUECfPU9iMgvoLlnAdWR9aFBrjTA6tQz0Cr9DEkwNXQAJtBIrJXXkfWGAJrjAfWH6ucC8n1Bct0/Mb5W7tBYF69KmrSvu3/7IHlPLDytHbsE7ojeLPoB4nM93ltERqGdO5Z/pvcTU8RhpwdOYn3wTkhseA1/RBybAw3p88DSVOyKjoNmsKokteggY6E+AqWcx5YHar8MueqAUZDSuhaaJWmQGLRuGDuN7kf2Em2ke+ABtgGEuAtaIDlI/v9MCkkFKP7OgI/Jqc5rGZcvZoT4itYznlgdajySDjXYdAAK3SJMQ1APSQKTBYP/BhuMs3dKv8q5zd5TsA3zN3aFRIDQ4h8AMlIDSYaDz5/vAyrV76C5Tywyu9taIATSvnUZPnf9LbMedDo0tAAE9nWmTeSo3LqoAGmh50LaNpavQcSiZOh9u3o1F0KDTQMGugbiAeWcx5YWf+y+hhSMhtZV38icCU0wA6QnKeS7wyJwFHQAF9CAm0BDTA2lvuweC1fQAMclfGE+bmDBqDa7eqB5ZwHVjU2gwbqBSkNpi4HfpwjamdvmRVSqDnaD3v+CRpgRetYiACvQCLQBxrgRsP32hJc26ABdoMUbD1ooPUgGTsSahfp6pUHlvPAKr/KNg7XifY30PhVHtPm+luJtwlD74eaADE4AhpoTUiBtoMG2hZi8FXom3klpiHFMN1DNrp2zpZZIFlqmK+1W8ATjha7emA554FlPw7Dvg0Us3tC5+gUuYqVvKF8DA3wPMRgGWiRNzwbJoD/XNQ9ZPwZZ0MDHQwpyD+hge6NdPXdvnrlgeWcB1aAfaCBBqEGEj37uWYHlfR1HwMx+gQa6FhIAa6GBnoMYrQ8NNBYNBX0lOpP0EBbRveQjt2O8MByzgMreJtwNDTQ5/xing9SAgsks600wHgsBclZLUZBA7ShueB7XqagJyRHO6Itgi2hPtBAH+b5c1U/T/vYlqcsT+jlfYN+6LDkKrwHgQeWcx5Ywa6AGjxh30LLR9hRMwA+4c1ofkgeKm9YxoNuP4JYJWE61fh4/IqQHPTGBMswybTugUrmLqnBk3VztXSHZKlh3vYt6DuhBpdBCvAQNCMbQeCB5ZwHVrAmtEENPq5sMUCilsySMnimbs6W7pAsJXH1MtRgb0hKroMaI2tlSIY2NsUVcErK09AHQg0ezXKmWPJ06h1Qg+lohhRgGbRBU/Y+JOGB5ZwHlsm1UKNfsA4kctYnkF7NcvsmuRfmJajB77zBz57idkw9pkENpmTxYETjAu0rMCel8EY7Mu1z9P5zDpfRpxndk1WPt6BGd0EKdHHGq1ceWM55YJksiYnQFFyLOkikDoUa9cefISlbGV9BjQ7ObNCp3V1E5JIprUiugnehBoYHAnJYxQLG4LA0Vk/r/2NL8GCMghpNQl3BM+4W5zocahDw9KsHlnMeWIbwMJiMW7AGJCbJoa/9oEYTcXwa9+yw2lF5Iz4dU6FGAzo45sUkGdY6BJqC8TjfsLW0Bh6EpuSrymgHSNqSmVqakk+xd8j3XDIFfS/8CE3J6ZAIHA9NQRvW98DywHIeWGmHx+xcP4SmbBgexinYEdtgpUBLpX50jt2POLTyBgapRjL1+3QMgKZku4yf0NOUvY3j0aOj+/j47xqwMa7Ed9CU/TXXeXN2o3Eb9u7oAYLk/qrVcDDuxihoir6y34SfjspDNrye76FGT0Fi5IHlPLDKrwmToJF6A5KSu6EpmoincTh6dDAjbDlshFPxJtQu9zeI+6AZasOX6IPfoRm7MKct+OHQDI1BHyDzn+HpWAkSkb1S+L5b0wPLA8t5YGVp6y4RWIxcMByfE6NBlRUxSMbmNw6kjMlHAQ8DBDAddxSjgyAR6gMN9DSkKh5YznlgBTilFIFltyamQEtuBjbM+fH48dASG0wsLpLzmJCToCV3S6QHui/EdUwOq1ceWM55YJldU4rAstsDWnK7QXLWo8SRNQTLQ/LUvEj7E3y3Qkvq1crZmJDY8NrOscy3g8TMA8t5YHlklS+wgKOhJXUe5N/mkTXUEFdmTQu2R9Zt0JJ51zD0NFO8tkaMgwaYZhi54oHlnAeWyTloizKwPLLOhwAeWfa4ykfD/KWLrGdijasksK6HBroVUhQPLOeB5XbC5OgDy+4YaAm04UhIJNbG79CI9YtppaJu7pbuXE/ADGjEWgzjGDKXrF5NNaxeLQUpkgeW88Byq+Dr6APLbqfIb3wfhy0jvMl4UcP5iVm7PzkGJ8bVl79jRKTfZ3tDYmY8S/E2SOE8sJwHlqtMCOd6ESbFH1jmmPwhxrECMf+Nu4aBj8kq4ARoBEaV4Wc4Oe7lMWgkPsXykMitDA00FUtDYuKB5Tyw3J/wUvSBZT9H7kpoBCbgbPuxPPlIxjg8DS3QbaiFlMg2GAAtyCAcVDmvEBI7XusjnXX1ygPLeWC5Hngm6sCyWxNvQgvyMJaBlNDaeAWao/vwJ0gZJWdlHm6/py3gbEjOm4SUAa93LWigCWWJbw8s54HlmnE+vok2sOw2yTG0puNerAPpBNbGvZgIzcBY3Bjd4/b2FdQ98QE0I31wcOWwcUiZGH8WL4aUhwcW4Dyw3Ko4Hs9hWMyBZYiFazI6W+4LnF65YRzS2VRuNE8eIrgXQ6EGv+BObMm9X7NBOqvkDMvT8C6mQg0+xZlYFVJSfzOtXiUrdWVi+D97YHVGHliufp72eT+N6IG9cQIuMzgEEoPKRGuuPXEKng0Ihun4FnfgSDRAuooG7vPhugz2wmV4DG/h1z/wKh7EBdgVTc0Lt3aDdDXJFuJfcAyuxfPoj19n8v/wPG7DsdjYHhaR4C9aXWT1ylewnAeWc40Mj2SFZm7+9frYCvt3YEMsV3mj/P/t3QPM9eYfx+H7PPobs20EsxnOthfOthXOthljtrfOtm2j09P9Zqt333en3ZXkyomOwk++VUi/H/D1ApqzXo0XkgVLYCGwAPjuDvj3t+DJBxas1kBgAbBWRly9GgvzP0Jqo4w3C6xfhMACcJPjkcx7hG0fUgYLVucgsADYvFXrlQWLFhBYAB7R9cJYXq8sWGH2kH4NCCyA1tonI65eq7leWbDCkiF1DAILgKEjxonXtzICa4uQ6rFgrRASdC6wANg7I64em3TkiKGQ2i7vzWWxe6hq2DYk6FRgATB5eCcjsDYI8TkWrA1DVcNZIUGnAguAozLi6vHv1isL1jyhquGZkKAzgQXAZJkPtt4wJAtW6JXFv1JZfBSqGuYLCToRWACcar36Tv4HlMV9oarhhJCg9YEFwGyhyrBSSF2S/wFlcWioavgwTBIStDqwADgvI65unfL/R/ZC6pL8DyiLJUJV07EhQWsDC4AFQ5Vh6ZAsWD8yWBZDqSxeyoiseUKCVgYWAFflrFdT/OfIXkhd08iHZNxw9AtP98pi/JCgVc8iBGDxUGVYNqQuauZDymLOUGW4bqAsRkIKAVoQWADcmHXu1X+P7IXURc19UFlcHqoMF/TK4t8hQd8vWACsHqoMi4TUVc19UFksGKpM94SpQwKBBdDX7suIq4tCEli/U+6K9bU3wjoh0ZcEFgBrhyrDvCH9fgJrrjAaqgZcHeYPif4gsACYZPiI4Xh91nqVGVg1IuvgUDXonrBLmG2oLAZD4q9BYAH0pU1DlWE+gVVDryz+ncriwVCNAW+FW8IF4fAM8/3hNWXoiP/F/zsiHD7WcLPA6h8Ak4wcMWS9yg2s/EOF74eqT21Y43DVpKFqAQTWmAKwd6hqGg2zCqz8yFpHYHWDwALg6yM5b4aqptNDEljNRNYBAqsTBBYAe4YqwwwCq9nIOkhgtZ7AAmCqMEtN04QksPo7sgQWAgsAgfV1ZG0XRgUWAgsAgdVsZC0dXhZYCCwABFazkTVpuFhgIbAAEFjNh9bG4VWBhcACQGA1qFcW4319K4d3BBYCCwCB1Xxo7RFeFFgILAAEVoOGy2IglcWy4fTwksBCYAEgsBr0j7LopbKYO2weTg13hDKMCiwEFgACq0GDZTGcymLGHL2y+G9If8SkXz1BfMYWYOiI/4b0ZwGAP/oGAAAEFgCAwAIAEFgAAAgsAACBBQAgsAAABBYAAAILAEBgAQAILAAABBYAgMACABBYAAAILAAAgQUAILAAABBYAAACCwBAYAEACCwAAAQWAIDAAgAQWAAACCwAAIEFACCwAAAQWAAAAgsAQGABAPA5vJFvdTUb5IYAAAAASUVORK5CYII="},563:function(e,t,a){e.exports=a(858)},711:function(e,t,a){e.exports=a.p+"static/media/slack-integration.9c4865bb.png"},734:function(e,t,a){e.exports=a.p+"static/media/tickets-welcome.1f5e7193.png"},736:function(e,t,a){e.exports=a.p+"static/media/services-welcome.fdfab99a.png"},748:function(e,t){},750:function(e,t){},759:function(e,t){},761:function(e,t){},781:function(e,t){},783:function(e,t){},811:function(e,t){},813:function(e,t){},814:function(e,t){},819:function(e,t){},821:function(e,t){},840:function(e,t){},852:function(e,t){},855:function(e,t){},858:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"Signin",(function(){return it})),a.d(n,"Signup",(function(){return sa})),a.d(n,"CreatePassword",(function(){return pa})),a.d(n,"ResetPassword",(function(){return fa})),a.d(n,"Home",(function(){return ur})),a.d(n,"Slack",(function(){return Jn})),a.d(n,"Members",(function(){return Di})),a.d(n,"Locations",(function(){return Zi})),a.d(n,"PlanSubscription",(function(){return gs})),a.d(n,"MyPlan",(function(){return Ss})),a.d(n,"Notifications",(function(){return Ls})),a.d(n,"MyProfile",(function(){return _s})),a.d(n,"ChangePassword",(function(){return zs})),a.d(n,"Tickets",(function(){return il})),a.d(n,"NewTicket",(function(){return El})),a.d(n,"TicketsReport",(function(){return Sl})),a.d(n,"PublicNewTicket",(function(){return Ul})),a.d(n,"TicketCategories",(function(){return tm})),a.d(n,"TicketTags",(function(){return pm})),a.d(n,"Services",(function(){return li})),a.d(n,"MyRequests",(function(){return ym})),a.d(n,"MyRequestDetails",(function(){return xm})),a.d(n,"ServicesOnDemand",(function(){return Nm})),a.d(n,"ServicesSubscription",(function(){return Sm})),a.d(n,"NewServiceRequest",(function(){return Dm}));var r=a(0),o=a.n(r),c=a(26),l=a.n(c),i=a(39),s=a(12),m=a.n(s),u=a(20),d=a(56),b=a(57),p=a(70),g=a(69),f=a(4),h=(a(569),a(17)),E=a(11),v=a.n(E),O=a(113),j=a.n(O),C=a(509),y=a.n(C),k=a(19),A=a.n(k),w=a(908),T=a(899),x=a(332),N=a.n(x),S=a(1),D=a(510),M={save:function(e,t){return localStorage.setItem(e,JSON.stringify(t))},get:function(e){try{var t=localStorage.getItem(e);return JSON.parse(t)}catch(a){return{}}},delete:function(e){return localStorage.removeItem(e)}},I=new(a.n(D).a),F={setUserToken:function(e){return M.save("userToken",e)},getUserToken:function(){return M.get("userToken")||""},setUserData:function(e){var t=M.save("userData",e);return I.publish("ON_VIEWER_CHANGE",e),t},getUserData:function(){return M.get("userData")||{}},clear:function(){I.publish("ON_VIEWER_CHANGE",null),M.delete("userToken"),M.delete("userData")},getAuthToken:function(){var e=M.get("userToken");if(e)return e;throw new Error("No authToken")},getBearerToken:function(){var e=M.get("userToken");return"Bearer: ".concat(e)},isTicketsWelcomeVisited:function(){return!!M.get("ticketsWelcomeVisited")},isServicesWelcomeVisited:function(){return!!M.get("servicesWelcomeVisited")},setTicketsWelcomeVisited:function(){M.save("ticketsWelcomeVisited",!0)},setServicesWelcomeVisited:function(){M.save("servicesWelcomeVisited",!0)},isLoggedIn:function(){var e=M.get("userToken");return!!e},isUnauthorized:function(e){return e&&e.response&&401===e.response.status},subscribeOnViewerChange:function(e){return I.subscribe("ON_VIEWER_CHANGE",(function(t){return e(t)}))},unsubscribeOnViewerChange:function(e){return I.unsubscribe(e)}},R=a(511),L="production",B="https://api.lobby.tech",P={appName:"Lobby Portal",appNamespace:a.n(R)()("Lobby Portal"),apiURL:B,systemName:"Lobby",systemPhotoUrl:"".concat("https://portal.lobby.tech","/system-icon.png"),wsURL:"wss://api.lobby.tech",env:L,isDevelopment:!1,isStaging:!1,isProduction:!0,livechatId:12113223,changelogfy:"https://lobby.changelogfy.com/changelogs",whatsappHelp:"https://wa.me/551151998230",slackClientId:"760439175683.1126241376992",slackOAuthURL:"https://slack.com/oauth/v2/authorize",slackOAuthScope:"commands,users:read,users:read.email,chat:write",slackOAuthUserScope:"users:read,users:read.email,chat:write",slackRedirectURL:"".concat(B,"/lobby_portal/slack/integrate"),apiRequestTimeout:2e4,mixpanelToken:"edc68e4e1788a9a91e92f329276c65f7",sentryDsn:"https://3be1796d494f46669c83a078596a5f77@o280883.ingest.sentry.io/5246294",pagarmeEncryptionKey:"ek_live_kI7ECtOa76HXqGKCY9qWDxKSmd9Kc6",locale:"pt-br",isiOS:!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},_=function(e){var t=Object(S.get)(e,"response.data")||{};return t.response=Object(S.get)(e,"response"),t||(t={error:Object(S.get)(e,"message")}),t},q="".concat(P.apiURL,"/").concat(P.appNamespace),U={request:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,l=x.CancelToken.source(),i=new Promise((function(a,n){e=a,t=n}));i.cancelRequest=function(){return l.cancel("Operation canceled by the user.")};var s=F.getBearerToken(),m=N.a.create({baseURL:q,timeout:P.apiRequestTimeout,headers:{"Content-Type":"application/json",Authorization:s},responseType:"json",onUploadProgress:Object(S.get)(c,"onUploadProgress"),cancelToken:l.token});return m[a](n,r,o).then((function(t){return e(t.data)})).catch((function(e){return t(_(e))})),i},get:function(e,t,a){return this.request("get",e,{params:t},a)},post:function(e,t,a,n){return this.request("post",e,t,a,n)},put:function(e,t,a,n){return this.request("put",e,t,a,n)},delete:function(e,t,a,n){return this.request("delete",e,t,a,n)}},z={getViewer:function(){return U.get("/member")},updateMember:function(e){var t=e.name,a=e.lastname,n=e.jobRole;return U.put("/member",{name:t,lastname:a,job_role:n})},updateMemberPassword:function(e){var t=e.password;return U.put("/member/change_password",{password:t})},revokeSlackUser:function(){return U.put("/member/revoke_slack")}},W=a(188),V=a.n(W),H=a(512),Y=a.n(H);V.a.init(P.mixpanelToken);var G={prepareTrackUser:function(){var e=F.getUserData();if(e&&e.id){var t={app_id:P.appNamespace,app_name:P.appName,user_id:v()(e,"id"),email:v()(e,"email"),phone:v()(e,"phone"),name:v()(e,"fullname"),company:v()(e,"company.name"),company_id:v()(e,"company_id"),created_at:v()(e,"created_at"),verified_at:v()(e,"verified_at")};return V.a.identify(t.user_id),V.a.people.set(t),t}return{}},hit:function(e,t){if(P.isProduction){var a=this.prepareTrackUser(),n=Y()(t,a);return V.a.track(e,n)}return console.info(e)},trackPageView:function(e){this.hit("".concat(e," - Viewed"),{screen:e})}},Q=function(e,t){return function(a){return Object(r.useEffect)((function(){G.trackPageView(t)})),o.a.createElement(e,a)}},J=a(938),X=a(66),K=function(){function e(){Object(d.a)(this,e)}return Object(b.a)(e,null,[{key:"setup",value:function(){if(P.isProduction){J.a({dsn:P.sentryDsn,environment:P.env}),X.b("server",P.apiUrl);var e=this.getViewerData();X.c(e)}}},{key:"capture",value:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.length>1&&void 0!==r[1]?r[1]:{},t&&(P.isProduction?(n=this.getViewerData(),X.c(n),Object.keys(a).forEach((function(e){return X.b(e,a[e])})),setTimeout((function(){return X.a(t)}),10)):console.error(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewerData",value:function(){try{var e=F.getUserData();return e&&e.id?{id:e.id,email:e.email}:{}}catch(t){return{}}}}]),e}(),Z=a(3),$=a(8),ee=a(79),te=a.n(ee),ae=a(7),ne=a.n(ae),re=a(33),oe=function(e){var t;return{container:(t={width:"auto",height:"100%",maxHeight:"100%",marginBottom:20},Object(re.a)(t,e.breakpoints.up("md"),{paddingLeft:e.menuWidth,width:"calc(100%-".concat(2*e.menuWidth,"px)"),minWidth:"calc(100%-".concat(2*e.menuWidth,"px)"),maxWidth:"calc(100%-".concat(2*e.menuWidth,"px)"),marginLeft:"auto",marginRight:"auto"}),Object(re.a)(t,e.breakpoints.up("xl"),{width:e.maxContainerWidth,minWidth:e.maxContainerWidth,maxWidth:e.maxContainerWidth,marginLeft:"auto",marginRight:"auto"}),t),root:Object(re.a)({flexGrow:1,marginRight:10,marginLeft:10},e.breakpoints.up("md"),{marginRight:40,marginLeft:40}),fab:{position:"fixed",zIndex:1e3,bottom:e.spacing(2),right:e.spacing(2)},headerView:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",alignItems:"flex-start",whiteSpace:"nowrap"},centerHeaderView:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center",marginTop:120},tableCell:{color:"#003f54",fontSize:14,height:"auto",wordBreak:"break-word"},tableExtraSmallCell:{fontSize:14,height:"auto",width:120,maxWidth:120,minWidth:120,wordBreak:"break-word"},tableSmallCell:{fontSize:14,height:"auto",width:160,maxWidth:160,minWidth:160,wordBreak:"break-word"},tableTinyCell:{fontSize:14,height:"auto",width:110,minWidth:110,maxWidth:110,wordBreak:"break-word"},tableMediumCell:{fontSize:14,height:"auto",width:180,maxWidth:180,minWidth:180,wordBreak:"break-word"},bgGray:{backgroundColor:"#e7ebec"},bgWhite:{backgroundColor:"#FFF"},roleSelect:{fontSize:14},inputBox:{marginTop:10},selectBox:{width:200,marginTop:10},center:{display:"flex",justifyContent:"center",textAlign:"center"},textCenter:{textAlign:"center"},emptyHeaderIcon:{fontSize:32},emptyHeaderTitle:{marginLeft:10},iconMenu:{marginRight:10},paper:{padding:20,paddingBottom:30,overflowX:"auto",marginRight:"auto",marginLeft:"auto"},tablePaper:{overflowX:"auto",marginRight:"auto",marginLeft:"auto"},input:{marginTop:20},actions:{marginTop:20,display:"flex",width:"100%",justifyContent:"flex-end"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}},ce=Object(r.memo)((function(e){var t=e.classes;return o.a.createElement("div",{className:t.outterContainer},o.a.createElement(te.a,{className:t.emptyHeaderIcon}),o.a.createElement("b",{className:t.emptyHeaderTitle},"Ocorreu um problema, por favor, tente mais tarde"))}));ce.propTypes={classes:ne.a.object};var le=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{outterContainer:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center"}})}),{withTheme:!0})(ce),ie=Object(Z.b)(Object(Z.h)("hasError","setHasError",!1),Object(Z.c)({componentDidCatch:function(e,t){K.capture(e,{extra:t}),(0,this.props.setHasError)(!0)}}),(function(e){return function(t){return t.hasError?o.a.createElement(le,null):o.a.createElement(e,t)}})),se=a(893),me=a(892),ue=a(894),de=function(e){return{progress:{margin:e.spacing(2)},middle:{marginTop:20},center:{justifyContent:"center",textAlign:"center"}}},be=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={slowConnection:!1},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.hasRefreshMsg&&(this.timeoutConnection=setTimeout((function(){e.setState({slowConnection:!0})}),P.apiRequestTimeout))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutConnection)}},{key:"render",value:function(){var e=this.props,t=e.hasRefreshMsg,a=e.classes,n=e.theme.mainColor,r=this.state.slowConnection;return o.a.createElement(me.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:a.middle},o.a.createElement(se.a,{color:n,className:a.progress,variant:"indeterminate",disableShrink:!0,thickness:5}),o.a.createElement("b",null,"Carregando..."),t&&r?o.a.createElement("div",{className:a.center},o.a.createElement("br",null),o.a.createElement("b",null,"H\xe1 problemas de conex\xe3o com a internet"),o.a.createElement(ue.a,{onClick:function(){return window.location.reload()},size:"large",color:"primary",variant:"contained"},o.a.createElement("b",null,"Recarregar"))):null)}}]),a}(r.PureComponent),pe=Object($.a)(de,{withTheme:!0})(be),ge=a(128),fe=Object(r.memo)((function(e){var t=e.classes,n=e.history;return o.a.createElement("div",{className:t.root,style:{marginTop:100}},o.a.createElement("p",{className:t.center},o.a.createElement("img",{src:a(223),width:150,alt:"Lobby",className:t.logo})),o.a.createElement("p",{className:t.center},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Ops...Parece que voc\xea acessou uma p\xe1gina n\xe3o encontrada"))),o.a.createElement("p",{className:t.center},o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return n.replace("/")}},"Voltar para home page")))}));fe.propTypes={classes:ne.a.object,history:ne.a.object};var he=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),h.g)(fe),Ee=a(138),ve=a(143),Oe=Object(Ee.a)({palette:{primary:{main:"#1177FF"},secondary:{main:ve.a[500],light:"#ff7961"},background:{default:"#F5F5F5"}},typography:{useNextVariants:!0},maxContainerWidth:1440,menuWidth:200}),je=a(516),Ce=a.n(je),ye=Object(r.memo)((function(){return o.a.createElement(Ce.a,{style:{marginTop:-5,marginLeft:-5,color:"#777",width:28,height:28}})})),ke=a(550);function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Te=o.a.createElement("g",{id:"Group_2417","data-name":"Group 2417",transform:"translate(15781 2913)"},o.a.createElement("g",{id:"Group_2416","data-name":"Group 2416"},o.a.createElement("g",{id:"Group_2413","data-name":"Group 2413"},o.a.createElement("rect",{id:"Rectangle_2430","data-name":"Rectangle 2430",width:128,height:128,transform:"translate(-15781 -2913)",fill:"#fff",opacity:0}),o.a.createElement("path",{id:"Path_7070","data-name":"Path 7070",d:"M-15760.308-2849h86.573l4.255,47.009-7.294,9.349-9.059,3.811h-64.633l-9.843-7.757-4.882-9.514Z",fill:"#ffaba9"}),o.a.createElement("g",{id:"shopping-bag",transform:"translate(-15820.785 -2913)"},o.a.createElement("g",{id:"Group_2412","data-name":"Group 2412",transform:"translate(53.02)"},o.a.createElement("g",{id:"Group_2411","data-name":"Group 2411",transform:"translate(0)"},o.a.createElement("path",{id:"Path_7069","data-name":"Path 7069",d:"M154.449,105.555l-5.716-72.029A9,9,0,0,0,139.8,25.25H128.508v-.507a24.742,24.742,0,1,0-49.484,0v.507H67.733A9,9,0,0,0,58.8,33.516l-5.718,72.049A20.842,20.842,0,0,0,73.861,128h59.808a20.842,20.842,0,0,0,20.78-22.445ZM86.521,24.742a17.245,17.245,0,0,1,34.49,0v.507H86.521Zm56.939,91.484a13.207,13.207,0,0,1-9.79,4.276H73.862a13.344,13.344,0,0,1-13.306-14.355L66.273,34.1a1.47,1.47,0,0,1,1.459-1.351H79.023v9.234a3.749,3.749,0,0,0,7.5,0V32.747h34.49v9.234a3.749,3.749,0,1,0,7.5,0V32.747H139.8a1.473,1.473,0,0,1,1.46,1.361l5.716,72.029A13.208,13.208,0,0,1,143.459,116.226Z",transform:"translate(-53.02)",fill:"#fe5956"}))))))),xe=function(e){var t=e.svgRef,a=e.title,n=we(e,["svgRef","title"]);return o.a.createElement("svg",Ae({width:128,height:128,viewBox:"0 0 128 128",ref:t},n),a?o.a.createElement("title",null,a):null,Te)},Ne=o.a.forwardRef((function(e,t){return o.a.createElement(xe,Ae({svgRef:t},e))})),Se=(a.p,Object(r.memo)((function(){return o.a.createElement(ke.a,{component:Ne,viewBox:"0 0 128 128",style:{width:20,height:20}})})));function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ie=o.a.createElement("path",{d:"M240,144h-5.336V133.336A5.328,5.328,0,0,0,229.336,128H224a5.34,5.34,0,0,0-5.336,5.336V144H165.328V133.336A5.323,5.323,0,0,0,160,128h-5.336a5.34,5.34,0,0,0-5.336,5.336V144H144a16.016,16.016,0,0,0-16,16v80a16.016,16.016,0,0,0,16,16h96a16.016,16.016,0,0,0,16-16V160A16.016,16.016,0,0,0,240,144Zm0,101.338H144A5.34,5.34,0,0,1,138.664,240V176.217H245.328V240A5.328,5.328,0,0,1,240,245.339Z",transform:"translate(-128 -128)",fill:"#4adaa4"}),Fe=o.a.createElement("g",{transform:"translate(37.331 55.999)"},o.a.createElement("path",{d:"M10.339,52.621A4.008,4.008,0,0,1,8.7,48.706L11.051,34.3,1.131,24.121A4,4,0,0,1,3.4,17.37L16.946,15.3l6.1-12.987A3.992,3.992,0,0,1,30.278,2.3l6.093,13,13.556,2.073a4,4,0,0,1,2.264,6.75L42.27,34.294l2.352,14.4a4,4,0,0,1-5.879,4.143L26.67,46.17l-12.09,6.683a4.038,4.038,0,0,1-1.937.5A4,4,0,0,1,10.339,52.621ZM24.731,45.1l1.939-3.506Z",transform:"translate(0 0)",fill:"#00d18d",stroke:"rgba(0,0,0,0)",strokeMiterlimit:10,strokeWidth:1})),Re=function(e){var t=e.svgRef,a=e.title,n=Me(e,["svgRef","title"]);return o.a.createElement("svg",De({width:128,height:128.002,viewBox:"0 0 128 128.002",ref:t},n),a?o.a.createElement("title",null,a):null,Ie,Fe)},Le=o.a.forwardRef((function(e,t){return o.a.createElement(Re,De({svgRef:t},e))})),Be=(a.p,Object(r.memo)((function(){return o.a.createElement(ke.a,{component:Le,viewBox:"0 0 128 128",style:{width:20,height:20}})})));function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _e(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var qe=o.a.createElement("path",{d:"M177.534,128H137.373A9.378,9.378,0,0,0,128,137.374v24.1a9.383,9.383,0,0,0,9.373,9.374h40.161a9.383,9.383,0,0,0,9.374-9.374v-24.1A9.389,9.389,0,0,0,177.534,128Z",transform:"translate(-128 -128)",fill:"#a4b6fc"}),Ue=o.a.createElement("path",{d:"M177.534,234.672H137.373A9.377,9.377,0,0,0,128,244.038v56.226a9.378,9.378,0,0,0,9.373,9.374h40.161a9.383,9.383,0,0,0,9.374-9.374V244.038A9.387,9.387,0,0,0,177.534,234.672Z",transform:"translate(-128 -181.645)",fill:"#365df0"}),ze=o.a.createElement("path",{d:"M316.19,298.672H276.029a9.383,9.383,0,0,0-9.373,9.374v24.1a9.383,9.383,0,0,0,9.373,9.374H316.19a9.39,9.39,0,0,0,9.374-9.382v-24.1A9.377,9.377,0,0,0,316.19,298.672Z",transform:"translate(-197.564 -213.516)",fill:"#a4b6fc"}),We=o.a.createElement("path",{d:"M316.19,128H276.029a9.383,9.383,0,0,0-9.373,9.374V193.6a9.383,9.383,0,0,0,9.373,9.374H316.19a9.383,9.383,0,0,0,9.374-9.374V137.374A9.378,9.378,0,0,0,316.19,128Z",transform:"translate(-197.564 -128)",fill:"#365df0"}),Ve=function(e){var t=e.svgRef,a=e.title,n=_e(e,["svgRef","title"]);return o.a.createElement("svg",Pe({ref:t},n),a?o.a.createElement("title",null,a):null,qe,Ue,ze,We)},He=o.a.forwardRef((function(e,t){return o.a.createElement(Ve,Pe({svgRef:t},e))})),Ye=(a.p,Object(r.memo)((function(){return o.a.createElement(ke.a,{component:He,viewBox:"0 0 128 128",style:{width:20,height:20}})}))),Ge={Signin:{label:"Signin",trackPage:"Signin",path:"/",exact:!0,hideMenu:!0,private:!1},Signup:{label:"Signup",trackPage:"Signup",path:"/signup",exact:!0,hideMenu:!0,private:!1},ResetPassword:{label:"Recuperar senha",trackPage:"ResetPassword",path:"/recuperar-senha",hideMenu:!0,private:!1},CreatePassword:{label:"Criar senha",trackPage:"CreatePassword",path:"/criar-senha",hideMenu:!0,private:!1},Home:{label:"Home",trackPage:"Home",path:"/home",icon:o.a.createElement(ye,null),private:!0,exact:!0},PublicNewTicket:{label:"Novo ticket",trackPage:"PublicNewTicket",path:"/public/tickets/novo",hideMenu:!0,private:!1},NewTicket:{label:"Novo ticket",trackPage:"NewTicket",path:"/tickets/novo",hideMenu:!0,private:!0},TicketsReport:{label:"Relat\xf3rio de Tickets",trackPage:"TicketsReport",path:"/tickets/relatorio",hideMenu:!0,private:!0},Tickets:{label:"Tickets",trackPage:"Tickets",path:"/tickets/:id*",icon:o.a.createElement(Ye,null),private:!0},Services:{label:"Servi\xe7os",trackPage:"Services",path:"/servicos",icon:o.a.createElement(Be,null),private:!0,exact:!0},MyRequests:{label:"Pedidos",trackPage:"MyRequests",path:"/meus-pedidos",icon:o.a.createElement(Se,null),private:!0,exact:!0},MyRequestDetails:{label:"Detalhes do pedido",trackPage:"MyRequestDetails",path:"/meus-pedidos/:id",private:!0,hideMenu:!0},ServicesOnDemand:{trackPage:"ServicesOnDemand",path:"/servicos/sobdemanda",private:!0,hideMenu:!0},ServicesSubscription:{trackPage:"ServicesSubscription",path:"/servicos/recorrentes",private:!0,hideMenu:!0},NewServiceRequest:{trackPage:"NewServiceRequest",path:"/servicos/:serviceId/solicitar-servico",private:!0,hideMenu:!0},PlanSubscription:{label:"Assinar Plano",trackPage:"PlanSubscription",path:"/assinar-plano",hideMenu:!0,private:!0},MyProfile:{label:"Meu perfil",trackPage:"MyProfile",path:"/configuracoes/meu-perfil",settingsMenu:!0,private:!0},ChangePassword:{label:"Mudar senha",trackPage:"ChangePassword",path:"/configuracoes/mudar-senha",settingsMenu:!0,private:!0},MyPlan:{label:"Meu Plano",trackPage:"MyPlan",path:"/configuracoes/meu-plano",settingsMenu:!0,private:!0},TicketCategories:{label:"Categorias",trackPage:"TicketCategories",path:"/configuracoes/categorias",settingsMenu:!0,private:!0},TicketTags:{label:"Etiquetas",trackPage:"TicketTags",path:"/configuracoes/etiquetas",settingsMenu:!0,private:!0},Locations:{label:"Locais",trackPage:"Locations",path:"/configuracoes/locais",settingsMenu:!0,private:!0},Slack:{label:"Slack",trackPage:"Slack",path:"/configuracoes/slack",settingsMenu:!0,private:!0},Notifications:{label:"Notifica\xe7\xf5es",trackPage:"Notifications",path:"/configuracoes/notificacoes",settingsMenu:!0,private:!0},Members:{label:"Usu\xe1rios",trackPage:"Members",path:"/configuracoes/usuarios",settingsMenu:!1,private:!0,hideMenu:!0}},Qe=a(896),Je={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},content:{display:"flex",flexDirection:"column",width:350,marginTop:40,alignItems:"center",justifyContent:"center",textAlign:"center",paddingLeft:5,paddingRight:5},form:{width:"100%",marginTop:5},button:{marginTop:15,height:60},logo:{marginBottom:30}},Xe={postSignin:function(e,t){var a={email:e,password:t};return U.post("/auth/signin",a)},postSignup:function(e){var t=e.memberName,a=e.memberLastname,n=e.memberEmail,r=e.memberPhone,o=e.companyName,c={member_name:t,member_lastname:a,member_email:n,member_phone:r,member_password:e.memberPassword,company_name:o};return U.post("/auth/signup",c)}},Ke=a(895),Ze=a(863),$e=a(68),et=a.n($e),tt=a(553),at=a(146),nt=a(436),rt=function(e){return{success:{backgroundColor:at.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:"#1177FF"},warning:{backgroundColor:nt.a[700]},closeIcon:{fontSize:20,opacity:.9,justifyContent:"center"},message:{fontSize:20,display:"flex",alignItems:"center"}}},ot=Object(r.memo)((function(e){var t=e.message,a=e.type,n=e.actionButton,r=e.onClickAction,c=e.onClose,l=e.classes,i=[];return n&&i.push(o.a.createElement(ue.a,{key:"action",color:"inherit",variant:"outlined",className:l[a||"info"]||l.info,onClick:r},n)),c&&i.push(o.a.createElement(tt.a,{key:"close",color:"inherit",onClick:c},o.a.createElement(et.a,{className:l.closeIcon}))),o.a.createElement(Ke.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,autoHideDuration:c?3e3:null,onClose:function(){return c&&c()}},o.a.createElement(Ze.a,{className:l[a||"info"]||l.info,message:o.a.createElement("span",{className:l.message},t),action:i}))})),ct=Object($.a)(rt,{withTheme:!0})(ot),lt=Object(r.memo)((function(){return o.a.createElement("p",null,"Acessando portal voc\xea concorda com ",o.a.createElement("a",{href:"https://lobby.tech/termos-de-uso/",target:"_blank",rel:"noopener noreferrer"},"termos de uso"))})),it=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",errorMsg:"",submit:!1},e.getRedirectLink=function(){var e=M.get("redirectUrl");return M.delete("redirectUrl"),e||"/home"},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password,o=e.props.history;e.setState({submit:!0},Object(u.a)(m.a.mark((function t(){var a,c,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n||!r){t.next=11;break}return t.next=4,Xe.postSignin(n,r);case 4:return a=t.sent,c=a.member,l=a.token,F.setUserToken(l),F.setUserData(c),setTimeout((function(){e.setState({submit:!1}),o.push(e.getRedirectLink())}),10),t.abrupt("return",!0);case 11:throw new Error("Blank fields");case 14:return t.prev=14,t.t0=t.catch(0),401===v()(t.t0,"response.status")?e.setState({submit:!1,errorMsg:"Credencial inv\xe1lida, tente novamente."}):e.setState({submit:!1,errorMsg:"Ocorreu um erro inesperado."}),t.abrupt("return",!0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])}))))},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.history;try{F.isLoggedIn()&&e.push(this.getRedirectLink())}catch(t){401===v()(t,"response.status")?(this.setState({submit:!1,errorMsg:"Sess\xe3o expirada."}),F.clear()):this.setState({submit:!1,errorMsg:"Ocorreu um erro inesperado."})}return!0}},{key:"render",value:function(){var e=this,t=this.state,n=t.username,r=t.password,c=t.submit,l=t.errorMsg;return o.a.createElement("div",{style:Je.container},o.a.createElement("div",{style:Je.content},l&&o.a.createElement(ct,{message:l,type:"warning",onClose:function(){return e.setState({errorMsg:""})}}),o.a.createElement("img",{src:a(223),width:150,alt:P.appName,style:Je.logo}),o.a.createElement(ge.a,{component:"h1",variant:"h5"},"Portal da empresa"),o.a.createElement("form",{onSubmit:this.onSubmit,style:Je.form},o.a.createElement(Qe.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Email",type:"text",disabled:c,value:n,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({username:t.target.value.toLowerCase()})}}),o.a.createElement(Qe.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Senha",type:"password",disabled:c,value:r,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({password:t.target.value})}}),o.a.createElement(ue.a,{disabled:c,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:Je.button,type:"submit"},c?"Carregando...":"Entrar")),o.a.createElement("p",null,o.a.createElement(i.b,{to:"/recuperar-senha"},"Esqueci minha senha")),o.a.createElement(lt,null)))}}]),n}(r.PureComponent),st=a(251),mt=a.n(st),ut={isTablet:function(){return window.innerWidth<1280},isMobile:function(){return window.innerWidth<720}},dt={container:{marginTop:ut.isMobile()?10:40},contentLeft:{display:"flex",flexDirection:"column",textAlign:"left",alignItems:"flex-end",padding:20,marginRight:ut.isMobile()?0:70},contentRight:{display:"flex",flexDirection:"column",textAlign:"left",alignItems:"flex-start",padding:20},form:{maxWidth:410,width:"100%",marginTop:5,padding:0},button:{marginTop:15,height:60,marginBottom:15},logo:{marginBottom:20},gridItem:{paddingTop:0,paddingBottom:0},checkItem:{marginTop:25,display:"flex",flexDirection:"row"},checkIcon:{height:32,width:32,marginRight:10,color:"green"},title:{marginBottom:10},textFieldMarginBottom:{marginBottom:0},errorMessage:{marginTop:-5}},bt=a(24),pt=a(331),gt=a(872),ft={errors:{paddingTop:8}},ht=function(e){var t=e.errors,a=e.variant,n=void 0===a?"outlined":a,r=e.InputLabelProps,c=void 0===r?{shrink:!0}:r,l=e.maskFunction,i=e.value,s=e.onChangeValue,m=void 0===s?function(){}:s,u=e.onChangeText,d=void 0===u?function(){}:u,b=e.margin,p=void 0===b?"normal":b,g=Object(bt.a)(e,["errors","variant","InputLabelProps","maskFunction","value","onChangeValue","onChangeText","margin"]);return g="standard"!==n?Object(f.a)(Object(f.a)({},g),{},{variant:n}):g,o.a.createElement(pt.a,{fullWidth:!0,margin:p,error:!Object(S.isEmpty)(t)},o.a.createElement(Qe.a,Object.assign({error:!Object(S.isEmpty)(t),InputLabelProps:c,value:i,onChange:function(e){var t=e.target.value;if(!l||i&&Object(S.size)(t)<Object(S.size)(i))return m(t),d(t),null;var a=l(t);return m(a),d(a),null}},g)),!Object(S.isEmpty)(t)&&o.a.createElement(gt.a,{style:ft.errors},Object(S.isArray)(t)?t.join(", "):t))},Et=function(e){var t=e.value,a=e.min,n=e.max,r=e.onChangeText,c=e.onChangeValue,l=void 0===c?function(){}:c,i=Object(bt.a)(e,["value","min","max","onChangeText","onChangeValue"]);return o.a.createElement(ht,Object.assign({value:t||"",maskFunction:function(e){return function(e){var t=e.oldValue,a=e.newValue,n=e.min,r=e.max;if(null===a)return null;var o=Number.parseFloat(a);if(n&&o<n||r&&o>r)return t;var c=new RegExp(/\d+/).exec(a);return c?c[0]:c}({oldValue:t,newValue:e,min:a,max:n})},inputProps:{inputMode:"numeric"},onChangeValue:function(e){return l(Number.parseFloat(e))},onChangeText:r},i))},vt=a(519),Ot=a.n(vt),jt=function(e){var t=e.errors,a=e.variant,n=void 0===a?"outlined":a,r=e.InputLabelProps,c=void 0===r?{shrink:!0}:r,l=e.value,i=e.onChangeValue,s=void 0===i?function(){}:i,m=e.onBlurValue,u=void 0===m?function(){}:m,d=e.margin,b=void 0===d?"normal":d,p=Object(bt.a)(e,["errors","variant","InputLabelProps","value","onChangeValue","onBlurValue","margin"]);return p="standard"!==n?Object(f.a)(Object(f.a)({},p),{},{variant:n}):p,o.a.createElement(pt.a,{fullWidth:!0,margin:b,error:!Object(S.isEmpty)(t)},o.a.createElement(Ot.a,Object.assign({error:!Object(S.isEmpty)(t),InputLabelProps:c,value:l,outputFormat:"number",currencySymbol:"",decimalCharacter:",",digitGroupSeparator:".",leadingZero:"allow",onChange:function(e,t){return s(t)},onBlur:function(e){return u(e.target.value)}},p)),!Object(S.isEmpty)(t)&&o.a.createElement(gt.a,{style:ft.errors},Object(S.isArray)(t)?t.join(", "):t))},Ct=a(932),yt=a(933),kt=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{valueText:{paddingLeft:30,paddingRight:30},button:{width:e.spacing(4),minWidth:e.spacing(4)}})}),{withTheme:!0})((function(e){var t=e.value,a=e.onChangeText,n=e.disabled,r=e.min,c=e.max,l=e.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{className:l.button,size:"large",variant:"contained",onClick:function(){var e=Number(t)-1;r&&e<r||a(e)},disabled:n},o.a.createElement(Ct.a,null)),o.a.createElement("b",{className:l.valueText},t),o.a.createElement(ue.a,{className:l.button,size:"large",variant:"contained",onClick:function(){var e=Number(t)+1;c&&e>c||a(e)},disabled:n},o.a.createElement(yt.a,null)))})),At=a(112),wt=function(e){var t=e.value,a=e.placeholder,n=void 0===a?"00000-000":a,r=Object(bt.a)(e,["value","placeholder"]);return o.a.createElement(ht,Object.assign({value:t||"",maxLength:9,maskFunction:function(e){return function(e){if(null==e)return null;var t=/(\d{0,5})-?(\d{0,3})/.exec(e),a=Object(At.a)(t,3),n=(a[0],a[1]),r=a[2];return""===r?n:"".concat(n,"-").concat(r)}(e)},type:"tel",placeholder:n},r))},Tt=/(\d{0,2})(\d{0,5})(\d{0,4})/,xt=/(\d{0,2})(\d{0,4})(\d{0,4})/,Nt=function(e){var t=e.value,a=e.phoneType,n=void 0===a?"cellphone":a,r=e.placeholder,c=void 0===r?"(00) 00000-0000":r,l=Object(bt.a)(e,["value","phoneType","placeholder"]);return o.a.createElement(ht,Object.assign({value:t||"",maxLength:9,maskFunction:function(e){return function(e,t){var a=t.phoneType;if(null==e)return null;var n=e.replace(/\D/g,""),r=("cellphone"===a?Tt:xt).exec(n),o=Object(At.a)(r,4),c=(o[0],o[1]),l=o[2],i=o[3];return""===c?null:""===i?""===l?"(".concat(c,")"):"(".concat(c,") ").concat(l):"(".concat(c,") ").concat(l,"-").concat(i)}(e,{phoneType:n})},type:"tel",placeholder:c},l))},St=a(866),Dt=a(881),Mt=a(921),It=function(e){var t=e.errors,a=e.variant,n=void 0===a?"outlined":a,r=e.InputLabelProps,c=void 0===r?{shrink:!0}:r,l=e.onChangeValue,i=void 0===l?function(){}:l,s=e.onChangeText,d=void 0===s?function(){}:s,b=e.margin,p=void 0===b?"normal":b,g=e.value,h=e.label,E=e.multiple,v=e.options,O=e.emptyOptionLabel,j=void 0===O?null:O,C=e.readOnly,y=e.optionValueField,k=void 0===y?"value":y,A=e.optionLabelField,w=void 0===A?"label":A,T=e.onClose,x=void 0===T?function(){}:T,N=Object(bt.a)(e,["errors","variant","InputLabelProps","onChangeValue","onChangeText","margin","value","label","multiple","options","emptyOptionLabel","readOnly","optionValueField","optionLabelField","onClose"]);N="standard"!==n?Object(f.a)(Object(f.a)({},N),{},{variant:n}):N;var D=E?function(e){var t=e.errors,a=e.label,n=e.onChangeValue,r=e.onChangeText,c=e.InputLabelProps,l=e.options,i=e.optionValueField,s=e.optionLabelField,m=e.margin,u=e.variant,d=Object(bt.a)(e,["errors","label","onChangeValue","onChangeText","InputLabelProps","options","optionValueField","optionLabelField","margin","variant"]),b="label-".concat(Math.random());return o.a.createElement(pt.a,{fullWidth:!0,margin:m,variant:u,error:!Object(S.isEmpty)(t)},o.a.createElement(St.a,Object.assign({shrink:!0,id:b},c),a),o.a.createElement(Dt.a,Object.assign({label:a,multiple:!0,labelId:b,error:!Object(S.isEmpty)(t),onChange:function(e){var t=e.target.value;n(t),r(t)}},d),l.map((function(e){return o.a.createElement(Mt.a,{value:Object(S.get)(e,i),key:Object(S.get)(e,i)},Object(S.get)(e,s))}))),!Object(S.isEmpty)(t)&&o.a.createElement(gt.a,{style:ft.errors},Object(S.isArray)(t)?t.join(", "):t))}(Object(f.a)({errors:t,label:h,onChangeValue:i,onChangeText:d,InputLabelProps:c,options:v,optionValueField:k,optionLabelField:w,onClose:x,margin:p,variant:n,value:g},N)):function(e){var t=e.errors,a=e.label,n=e.onChangeValue,r=e.onChangeText,c=e.emptyOptionLabel,l=e.options,i=e.optionValueField,s=e.optionLabelField,d=e.onClose,b=e.margin,p=Object(bt.a)(e,["errors","label","onChangeValue","onChangeText","emptyOptionLabel","options","optionValueField","optionLabelField","onClose","margin"]);return o.a.createElement(ht,Object.assign({select:!0,errors:t,SelectProps:{native:!0},label:a,onChangeValue:function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:setTimeout(d,10);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onChangeText:r,margin:b},p),c?o.a.createElement("option",{value:""},c):"",l.map((function(e){return o.a.createElement("option",{value:Object(S.get)(e,i),key:Object(S.get)(e,i)},Object(S.get)(e,s))})))}(Object(f.a)({errors:t,label:h,onChangeValue:i,onChangeText:d,emptyOptionLabel:j,options:v,optionValueField:k,optionLabelField:w,onClose:x,margin:p,value:g},N)),M=Object(S.get)(Object(S.find)(v,(function(e){return e[k]===g})),w);return C?o.a.createElement(ht,Object.assign({errors:t,label:h,value:M},N)):D},Ft=a(148),Rt=a(58),Lt=a(939),Bt=function(e){var t=e.label,a=(e.disabled,e.value),n=e.onChangeValue,r=e.minDate,c=e.errors,l=e.size,i=e.disableFuture,s=e.disablePast,m=e.readOnly,u=e.variant,d=void 0===u?"outlined":u,b=Object(bt.a)(e,["label","disabled","value","onChangeValue","minDate","errors","size","disableFuture","disablePast","readOnly","variant"]);return m?o.a.createElement(ht,Object.assign({disabled:!0,readOnly:!0,label:t,variant:d,size:l,value:Object(S.isEmpty)(a)?"":A()(a).format("DD/MM/YYYY")},b)):o.a.createElement(pt.a,{fullWidth:!0,margin:"normal",error:!Object(S.isEmpty)(c)},o.a.createElement(Rt.a,{libInstance:A.a,utils:Ft.a,locale:P.locale},o.a.createElement(Lt.a,{label:t,value:a,onChange:n,minDate:r,size:l,autoOk:!0,clearable:!0,animateYearScrolling:!0,invalidDateMessage:"Formato inv\xe1lido",minDateMessage:"",inputVariant:d,InputLabelProps:{shrink:!0},format:"DD/MM/YYYY",cancelLabel:"Cancelar",clearLabel:"Limpar",disableFuture:i,disablePast:s})),!Object(S.isEmpty)(c)&&o.a.createElement(gt.a,{style:ft.errors},Object(S.isArray)(c)?c.join(", "):c))},Pt=a(914),_t=a(913),qt=a(942),Ut=Object(r.memo)((function(e){var t=e.errors,a=e.value,n=void 0===a?[]:a,r=e.onChangeValue,c=void 0===r?function(){}:r,l=e.disabled,i=e.options,s=e.optionValueField,m=void 0===s?"value":s,u=e.optionLabelField,d=void 0===u?"label":u;return o.a.createElement(pt.a,{fullWidth:!0,margin:"normal",error:!Object(S.isEmpty)(t)},o.a.createElement(Pt.a,null,i.map((function(e){var t=Object(S.get)(e,d),a=Object(S.get)(e,m);return o.a.createElement(_t.a,{key:a,label:t,control:o.a.createElement(qt.a,{color:"primary",checked:Object(S.includes)(n,a),disabled:l,onChange:function(e){var t;t=e.target.checked?Object(S.concat)(n,a):Object(S.filter)(n,(function(e){return e!==a})),c(t)}})})}))),!Object(S.isEmpty)(t)&&o.a.createElement(gt.a,{style:ft.errors},Object(S.isArray)(t)?t.join(", "):t))})),zt=[{label:"Texto curto",key:"TEXT_FIELD"},{label:"Texto longo",key:"TEXT_AREA"},{label:"Sele\xe7\xe3o \xfanica",key:"SELECT"},{label:"M\xfaltipla sele\xe7\xe3o",key:"CHECKBOX"},{label:"Campo de data",key:"DATE_FIELD"},{label:"Anexo",key:"ATTACHMENT"}].slice(0,-2),Wt=["SELECT","CHECKBOX"],Vt={genericUploadsParams:function(){return U.get("/uploads/params")},uploadToApi:function(e){var t=e.file,a=e.progressHandler,n=U.post("/uploads/upload",t.formData,null,{onUploadProgress:function(e){var n=Math.round(100*e.loaded/e.total);a({progressPercent:n<95?n:95,originalFileName:t.name})}}),r=n.then((function(e){var t=e.id,a=e.storage,n=e.metadata;return{id:t,storage:a,metadata:{filename:n.filename,size:n.size,mime_type:n.mime_type},progressPercent:100}}));return r.cancelRequest=n.cancelRequest,r}},Ht=function(e){var t,a,n,r=e.file,o=e.progressHandler,c=e.sizeLimit,l=void 0===c?10:c;if(r.metadata.size>1028*l*1028)return Promise.reject(new Error("Tamanho do arquivo ultrapassou o limite de ".concat(l,"mb")));var i=new Promise((function(e,n){t=e,a=n}));i.cancelUpload=function(){i.wasCanceled=!0,n.cancelRequest(),a(new Error("Upload cancelado"))};var s=function(e){i.wasCanceled||o(Object(f.a)(Object(f.a)(Object(f.a)({},r),e),{},{cancelUpload:i.cancelUpload,wasCanceled:i.wasCanceled}))};return s({progressPercent:0}),(n=(0,Vt.uploadToApi)({file:r,progressHandler:s})).then(t).catch(a),i},Yt=a(934),Gt=Object(r.memo)((function(e){var t=e.accept,a=e.onChange,n=e.buttonProps,r=e.disabled,c=e.size,l=null;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,Object.assign({color:"primary",variant:"outlined",size:c,onClick:function(){return l&&l.click()},startIcon:o.a.createElement(Yt.a,null),disabled:r},n),"Anexar"),o.a.createElement("input",{type:"file",accept:t,style:{display:"none"},ref:function(e){l=e},onChange:function(e){return function(e){var t=Object(S.map)(e,(function(e){var t=function(e){return{metadata:{size:e.size,filename:e.name,mime_type:e.type},originalFileObj:e}}(e),a=new FileReader,n=new FormData;return n.append("file",e),new Promise((function(r){a.onload=function(e){r(Object(S.merge)(t,{url:e.target.result,data:e.target.result,base64Data:e.target.result,formData:n}))},a.readAsDataURL(e)}))}));return Promise.all(t)}(e.target.files).then((function(e){return a(e[0])}))}}))})),Qt=a(916),Jt=a(935),Xt=Object(r.memo)((function(e){var t=e.file,a=e.onRemoveFile,n=e.outterContainerClassName,r=e.disabled,c=e.classes,l=e.size,i=Object(S.get)(t,"progressPercent")<100;return o.a.createElement("div",{className:"".concat(c.outterContainer," ").concat(n)},o.a.createElement(ue.a,{variant:"outlined",size:l,onClick:function(){return t.url&&window.open(t.url,"_blank")},disabled:r||i},o.a.createElement("div",null,o.a.createElement("div",{className:c.innerButtonContainer},o.a.createElement(Yt.a,null),o.a.createElement("div",null,o.a.createElement("span",{className:c.filename},Object(S.get)(t,"metadata.filename")),o.a.createElement("br",null),o.a.createElement("small",{className:c.sizeText},Math.round(Object(S.get)(t,"metadata.size")/1e3),"KB"))),i&&o.a.createElement(Qt.a,{className:c.progressBar,variant:"determinate",value:t.progressPercent}))),!r&&a&&o.a.createElement(Jt.a,{onClick:function(){return a(t)},className:c.cancelButton}))})),Kt=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{outterContainer:{display:"inline-block",position:"relative"},innerButtonContainer:{display:"flex",textAlign:"left",lineHeight:1},filename:{fontSize:"calc(".concat(e.typography.button.fontSize," * 0.8)")},sizeText:{fontSize:"calc(".concat(e.typography.button.fontSize," * 0.6)")},progressBar:{position:"absolute",left:0,bottom:0,width:"100%"},cancelButton:{position:"absolute",top:-12,right:-12,cursor:"pointer"}})}))(Xt),Zt=Object(Z.b)(r.memo,Object(Z.e)({onFileChange:function(e){var t=e.onChange,a=e.sizeLimit,n=e.onUploadProgress,r=e.onUploadSuccess,o=e.onUploadError;return function(e){Ht({file:e,sizeLimit:a,progressHandler:function(a){var r=a.progressPercent,o=a.cancelUpload;if(!(r>=100)){var c=Object(f.a)(Object(f.a)({},e),{},{cancelUpload:o,progressPercent:r});t(c),n&&n(c)}}}).then((function(a){var n=Object(f.a)(Object(f.a)({},e),a);t(n),r&&r(n)})).catch((function(e){t(null),o&&o(e)}))}}}))((function(e){var t=e.value,a=e.onChange,n=e.disabled,r=e.onFileChange,c=e.size,l=e.accept,i=void 0===l?"image/*,.doc,.docx,.xls,.xlsx,.pdf,.xml":l,s=e.buttonProps;return t&&(t.progressPercent||t.id)?o.a.createElement(Kt,{file:t,size:c,onRemoveFile:function(e){e.cancelUpload&&e.progressPercent<100?e.cancelUpload():a(null)},disabled:n}):o.a.createElement(Gt,{accept:i,size:c,onChange:r,disabled:n,buttonProps:s})})),$t=Object(r.memo)((function(e){var t=e.errors,a=e.value,n=void 0===a?[]:a,r=e.onChangeValue,c=void 0===r?function(){}:r,l=e.disabled,i=Object(bt.a)(e,["errors","value","onChangeValue","disabled"]);return o.a.createElement(pt.a,{margin:"normal",error:!Object(S.isEmpty)(t)},o.a.createElement(Zt,Object.assign({value:n,onChange:c,disabled:l},i)),!Object(S.isEmpty)(t)&&o.a.createElement(gt.a,{style:ft.errors},Object(S.isArray)(t)?t.join(", "):t))})),ea=["TEXT_FIELD","TEXT_AREA","SELECT","CHECKBOX","ATTACHMENT","DATE_FIELD"],ta={buildTextField:function(e){var t=Object.assign({},e);return o.a.createElement(ht,t)},buildDateField:function(e){var t=e.value,a=Object(bt.a)(e,["value"]);return o.a.createElement(Bt,Object.assign({disablePast:!0,value:Object(S.isEmpty)(t)?null:t},a))},buildTextArea:function(e){var t=Object.assign({},e);return o.a.createElement(ht,Object.assign({multiline:!0,rows:4,rowsMax:4},t))},buildSelect:function(e){var t=e.options,a=Object(bt.a)(e,["options"]);return o.a.createElement(It,Object.assign({options:t},a))},buildCheckbox:function(e){var t=Object.assign({},e);return o.a.createElement(Ut,t)},buildAttachment:function(e){var t=Object.assign({},e);return o.a.createElement($t,t)}};ta.buildSelect.propTypes={options:ne.a.array},ta.buildDateField.propTypes={value:ne.a.any};var aa={emptyOptionLabel:["Select"],uploadFileFunc:["Attachment"]},na=function(e){var t=e.fieldType,a=Object(bt.a)(e,["fieldType"]);if(!ea.includes(t))throw new Error("Invalid field type: ".concat(t));var n=Object(S.upperFirst)(Object(S.camelCase)(t)),r=function(e,t){return Object(S.omitBy)(t,(function(t,a){return aa[a]&&!aa[a].includes(e)}))}(n,a);return ta["build".concat(n)](r)};na.propTypes={fieldType:ne.a.oneOf(ea)};var ra,oa=na,ca=function(e,t){var a=t.name,n=void 0===a?null:a,c=t.init,l=void 0===c||c,i=t.options,s=void 0===i?function(){return{}}:i,h=t.props,E=void 0===h?function(){return{}}:h;return function(t){return function(a){Object(p.a)(c,a);var r=Object(g.a)(c);function c(){var t;Object(d.a)(this,c);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(t=r.call.apply(r,[this].concat(o))).state={loading:!0,reloadedMsg:"",error:null,data:null},t.loadingProperty=n?"".concat(n,"Loading"):"loading",t.reloadedMsgProperty=n?"".concat(n,"ReloadedMsg"):"reloadedMsg",t.errorProperty=n?"".concat(n,"Error"):"error",t.dataProperty=n?"".concat(n,"Data"):"data",t.clearProperty=n?"".concat(n,"Clear"):"clear",t.fetchProperty=n?"".concat(n,"Fetch"):"fetch",t.resolveOptions=function(){var e=Object(u.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.props);case 2:return n=e.sent,e.abrupt("return",Object(f.a)(Object(f.a)({},n),a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.loadDataSource=function(){var a=Object(u.a)(m.a.mark((function a(n,r){var o,c,l,i,s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.resolveOptions(r);case 2:return o=a.sent,c=v()(o,"variables"),l=v()(o,"onRequestFinished"),i=v()(o,"onRequestError"),s=null,a.prev=7,a.next=10,e(c);case 10:if(s=a.sent,!l){a.next=14;break}return a.next=14,l(s);case 14:a.next=35;break;case 16:if(a.prev=16,a.t0=a.catch(7),K.capture(a.t0,{errorPointRef:"src/utils/with-request.js - loadDataSource"}),!F.isUnauthorized(a.t0)){a.next=22;break}return F.clear(),a.abrupt("return",window.location.reload());case 22:if(!i){a.next=34;break}return a.prev=23,a.next=26,i(a.t0);case 26:return a.abrupt("return",n(null,null));case 29:return a.prev=29,a.t1=a.catch(23),a.abrupt("return",n(a.t1,null));case 32:a.next=35;break;case 34:return a.abrupt("return",n(a.t0,null));case 35:return a.abrupt("return",n(null,s));case 36:case"end":return a.stop()}}),a,null,[[7,16],[23,29]])})));return function(e,t){return a.apply(this,arguments)}}(),t.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(o,c){t.setState({loading:e},(function(){t.loadDataSource((function(e,r){t.setState({data:r,error:e,loading:!1,reloadedMsg:a},(function(){return e?c(e):o(r),n&&n()}))}),r)}))}))},t.clear=function(e){return t.setState({data:null,error:null,loading:!1},e)},t}return Object(b.a)(c,[{key:"componentDidMount",value:function(){l?this.fetch(!0):this.setState({loading:!1,data:{}})}},{key:"render",value:function(){var e,a=(e={},Object(re.a)(e,this.errorProperty,this.state.error),Object(re.a)(e,this.dataProperty,this.state.data),Object(re.a)(e,this.loadingProperty,this.state.loading),Object(re.a)(e,this.reloadedMsgProperty,this.state.reloadedMsg),Object(re.a)(e,this.fetchProperty,this.fetch),Object(re.a)(e,this.clearProperty,this.clear),e),n=Object(f.a)(Object(f.a)(Object(f.a)({},this.props),a),E(Object(f.a)(Object(f.a)({},a),{},{ownProps:this.props})));return o.a.createElement(t,n)}}]),c}(r.PureComponent)}},la=Object(r.memo)((function(e){var t=e.formData,n=e.setAlert,r=e.alert,c=e.errors,l=e.setFormData,s=e.submitFormDataFetch,m=e.submitFormDataLoading,u=function(e){return l(Object(f.a)(Object(f.a)({},t),e))},d=function(){return s(!0)},b=t.memberName,p=t.memberLastname,g=t.memberEmail,h=t.memberPhone,E=t.companyName,v=t.memberPassword,O=r.showAlert,j=r.alertMsg,C=r.alertType,y=Object(S.includes)(Object(S.values)(t),"")||m;return o.a.createElement("div",{style:dt.container},O&&o.a.createElement(ct,{message:j,type:C,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1})}}),o.a.createElement(me.a,{container:!0,spacing:2},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement("div",{style:dt.contentLeft},o.a.createElement("div",{style:dt.form},o.a.createElement(ge.a,{component:"h1",variant:"h4"},"Acesse todos servi\xe7os que precisar para seu ambiente de trabalho"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ge.a,{component:"h1",variant:"h6",style:dt.checkItem},o.a.createElement(mt.a,{style:dt.checkIcon}),"Atendimento dedicado"),o.a.createElement(ge.a,{component:"h1",variant:"h6",style:dt.checkItem},o.a.createElement(mt.a,{style:dt.checkIcon}),"Fornecedores qualificados"),o.a.createElement(ge.a,{component:"h1",variant:"h6",style:dt.checkItem},o.a.createElement(mt.a,{style:dt.checkIcon}),"Ferramentas para facilitar a gest\xe3o"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ge.a,{component:"h1",variant:"h6"},o.a.createElement("strong",null,"\u201cMe surpreendeu de mais o servi\xe7o, super sol\xedcitos com tudo.\u201d - Mariana, BossaBox"))))),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement("div",{style:dt.contentRight},o.a.createElement("form",{onSubmit:d,style:dt.form},o.a.createElement("img",{src:a(443),width:175,alt:P.appName,style:dt.logo}),o.a.createElement(ge.a,{component:"h1",variant:"h5",style:dt.title},"Crie sua conta gr\xe1tis"),o.a.createElement(me.a,{container:!0,spacing:2},o.a.createElement(me.a,{item:!0,xs:12,md:6,style:dt.gridItem},o.a.createElement(ht,{label:"Seu nome*",disabled:m,errors:Object(S.get)(c,"member_name"),value:b,onChange:function(e){return u({memberName:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,md:6,style:dt.gridItem},o.a.createElement(ht,{label:"Sobrenome*",disabled:m,errors:Object(S.get)(c,"member_lastname"),value:p,onChange:function(e){return u({memberLastname:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,style:dt.gridItem},o.a.createElement(ht,{label:"Email do trabalho*",disabled:m,errors:Object(S.get)(c,"member_email"),value:g,onChange:function(e){return u({memberEmail:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,style:dt.gridItem},o.a.createElement(ht,{label:"Telefone com DDD*",placeholder:"Somente n\xfameros, ex: 11988884444",type:"tel",disabled:m,errors:Object(S.get)(c,"member_phone"),value:h,onChange:function(e){var t=(e.target.value||"").replace(/[\D]+/g,"").slice(0,15);u({memberPhone:t})}})),o.a.createElement(me.a,{item:!0,xs:12,style:dt.gridItem},o.a.createElement(ht,{label:"Nome da empresa*",disabled:m,errors:Object(S.get)(c,"company_name"),value:E,onChange:function(e){return u({companyName:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,style:dt.gridItem},o.a.createElement(ht,{label:"Definir senha*",placeholder:"Informe 6 ou mais d\xedgitos",style:dt.textFieldMarginBottom,errors:Object(S.get)(c,"member_password"),disabled:m,value:v,type:"password",onChange:function(e){return u({memberPassword:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ue.a,{disabled:y,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:dt.button,onClick:d},m?o.a.createElement(se.a,{color:"primary",variant:"indeterminate",disableShrink:!0,thickness:5}):"CRIAR CONTA")))),o.a.createElement("span",null,"J\xe1 possui conta? ",o.a.createElement(i.b,{to:"/"},"Fazer login")),o.a.createElement(lt,null)))))})),ia=ca(Xe.postSignup,{name:"submitFormData",init:!1,options:function(e){var t=e.formData,a=e.setAlert,n=e.history,r=e.setErrors;return{variables:Object(f.a)({},t),onRequestFinished:function(e){var t=e.member,r=e.token;F.setUserToken(r),F.setUserData(t);var o={email:t.email,name:t.name,lastname:t.lastname};G.hit("Signup - SubmitSuccess",o),a({alertMsg:"Conta criada com sucesso, bem-vindo a Lobby!",alertType:"success",showAlert:!0}),setTimeout((function(){return n.push("/servicos")}),10)},onRequestError:function(e){var n=t.memberEmail,o=t.memberName,c=t.memberLastname,l=Object(S.mapValues)(Object(S.get)(e,"errors",{}),(function(e){return Object(S.first)(e)})),i={email:n,name:o,lastname:c,errors:l};G.hit("Signup - SubmitError",i),r(l),a({alertMsg:"Erro ao realizar cadastro",alertType:"error",showAlert:!0})}}}}),sa=Object(Z.b)(r.memo,h.g,Object(Z.h)("formData","setFormData",{memberName:"",memberLastname:"",memberEmail:"",memberPhone:"",memberPassword:"",companyName:""}),Object(Z.h)("errors","setErrors",{}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),ia)(la),ma=a(47),ua=a.n(ma),da={verifyIfCanResetPassword:function(e,t){var a={id:e,code:t};return U.post("/password/verify",a)},changePassword:function(e,t,a){var n={id:e,code:t,password:a};return U.put("/password/change",n)},resetPassword:function(e){var t={email:e};return U.post("/password/reset",t)}},ba={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},content:{display:"flex",flexDirection:"column",width:350,marginTop:40,alignItems:"center",justifyContent:"center",textAlign:"center",paddingLeft:5,paddingRight:5},form:{width:"100%",marginTop:5},button:{marginTop:15,height:60},logo:{marginBottom:30}},pa=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={memberId:"",recoveryCode:"",password:"",confirmPassword:"",msg:"",msgType:"",hideForm:!0,loading:!0,submit:!1,email:""},e.onSubmit=function(t){t.preventDefault();var a=e.props.history,n=e.state,r=n.confirmPassword,o=n.password,c=n.memberId,l=n.recoveryCode;e.setState({submit:!0},Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!r||!o||r!==o){t.next=9;break}if(!(ua()(o)>=6)){t.next=7;break}return t.next=5,da.changePassword(c,l,o);case 5:return e.setState({msg:"Senha atualizada, redirecionando para tela de login...",msgType:"success",memberId:"",recoveryCode:"",confirmPassword:"",password:""},(function(){F.clear(),setTimeout((function(){a.replace("/")}),2e3)})),t.abrupt("return",!0);case 7:return e.sendAlert("Informe uma senha com m\xednimo de ".concat(6," caracteres."),"warning"),t.abrupt("return",!0);case 9:e.sendAlert("As senhas est\xe3o em branco ou diferentes.","warning"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.sendAlert("N\xe3o foi poss\xedvel alterar senha.","warning");case 15:return t.abrupt("return",!0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])}))))},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.history,n=t.location;this.setState({submit:!0,loading:!0,memberId:"",recoveryCode:""},Object(u.a)(m.a.mark((function t(){var r,o,c,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=new URLSearchParams(n.search),o=r.get("id"),c=r.get("code"),l=r.get("email"),!o||!c){t.next=10;break}return t.next=8,da.verifyIfCanResetPassword(o,c);case 8:return e.setState({submit:!1,loading:!1,hideForm:!1,memberId:o,recoveryCode:c,email:l}),t.abrupt("return",!0);case 10:throw new Error("Invalid URL query");case 13:t.prev=13,t.t0=t.catch(0),a.replace("/recuperar-senha");case 16:return t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])}))))}},{key:"sendAlert",value:function(e,t){this.setState({submit:!1,msg:e,msgType:t})}},{key:"clearAlert",value:function(){this.setState({submit:!1,msg:"",msgType:""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.confirmPassword,c=t.password,l=t.submit,s=t.loading,m=t.hideForm,u=t.msg,d=t.msgType;return o.a.createElement("div",{style:ba.container},o.a.createElement("div",{style:ba.content},u&&d&&o.a.createElement(ct,{message:u,type:d,onClose:function(){return e.clearAlert}}),s?o.a.createElement(pe,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:a(223),width:150,alt:P.appName,style:ba.logo}),o.a.createElement(ge.a,{component:"h1",variant:"h5"},m?"Link inv\xe1lido para definir senha":"Definir senha"),o.a.createElement(Qe.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Email",disabled:!0,value:n,InputLabelProps:{shrink:!0}}),!m&&o.a.createElement("form",{onSubmit:this.onSubmit,style:ba.form},o.a.createElement(Qe.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Senha",type:"password",disabled:l,value:c,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({password:t.target.value})}}),o.a.createElement(Qe.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Confirmar senha",type:"password",disabled:l,value:r,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({confirmPassword:t.target.value})}}),o.a.createElement(ue.a,{disabled:l,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:ba.button,type:"submit"},l?"Carregando...":"Entrar"))),o.a.createElement("p",null,o.a.createElement(i.b,{to:"/"},"Voltar para home")),o.a.createElement(lt,null)))}}]),n}(r.PureComponent),ga={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},content:{display:"flex",flexDirection:"column",width:350,marginTop:40,alignItems:"center",justifyContent:"center",textAlign:"center",paddingLeft:5,paddingRight:5},form:{width:"100%",marginTop:5},button:{marginTop:15,height:60},logo:{marginBottom:30}},fa=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",msg:"",msgType:"",submit:!1},e.onSubmit=function(t){t.preventDefault();var a=e.state.email;e.setState({submit:!0},Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!a){t.next=6;break}return t.next=4,da.resetPassword(a);case 4:return e.setState({submit:!1,email:"",msgType:"success",msg:"Enviamos para seu email um link de recupera\xe7\xe3o de senha."}),t.abrupt("return",!0);case 6:throw new Error("Blank fields");case 9:return t.prev=9,t.t0=t.catch(0),e.setState({submit:!1,msg:"Email inv\xe1lido ou inexistente.",msgType:"warning"}),t.abrupt("return",!0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))))},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.submit,c=t.msg,l=t.msgType;return o.a.createElement("div",{style:ga.container},o.a.createElement("div",{style:ga.content},c&&o.a.createElement(ct,{message:c,type:l,onClose:function(){return e.setState({msg:"",msgType:""})}}),o.a.createElement("img",{src:a(223),width:150,alt:P.appName,style:ga.logo}),o.a.createElement(ge.a,{component:"h1",variant:"h5"},"Informe o seu email e receba instru\xe7\xf5es para criar nova senha"),o.a.createElement("form",{onSubmit:this.onSubmit,style:ga.form},o.a.createElement(Qe.a,{variant:"outlined",margin:"normal",fullWidth:!0,placeholder:"Seu email de acesso",label:"Email",type:"email",disabled:r,value:n,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({email:t.target.value.toLowerCase()})}}),o.a.createElement(ue.a,{disabled:r,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:ga.button,type:"submit"},r?"Carregando...":"Enviar")),o.a.createElement("p",null,o.a.createElement(i.b,{to:"/"},"Voltar para home")),o.a.createElement(lt,null)))}}]),n}(r.PureComponent),ha=a(521),Ea=a.n(ha),va=a(185),Oa=a.n(va),ja=a(522),Ca=a.n(ja),ya=a(924),ka=a(927),Aa=a(929),wa=a(926),Ta=a(554),xa=a(925),Na=a(28),Sa=a(877),Da=a(931),Ma=a(945),Ia=a(149),Fa=a.n(Ia),Ra=a(437),La=a(145),Ba=a(440),Pa=a(142),_a=a(439),qa=a(438),Ua={width:32,height:32,minWidth:32,minHeight:32},za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"a",t={a:"gold",b:"gold",c:"gold",d:"purple",e:"purple",f:"purple",g:"black",h:"black",i:"black",j:"blue",k:"blue",l:"blue",m:"green",n:"green",o:"green",p:"brown",q:"brown",r:"brown",s:"pink",t:"pink",u:"pink",v:"red",w:"red",y:"red",x:"lime",z:"lime"};return t[e.toLowerCase()]},Wa=Object(r.memo)((function(e){var t=e.classes,a=e.name,n=e.photoUrl,r=Fa()(a)||"";return o.a.createElement(Da.a,{title:a,arrow:!0,placement:"bottom"},o.a.createElement(Ma.a,{alt:a,src:n,className:t[za(r)]},r.toUpperCase()))})),Va=Object($.a)((function(e){return{black:Object(f.a)({color:"white",backgroundColor:"black"},Ua),purple:Object(f.a)({color:e.palette.getContrastText(Ra.a[500]),backgroundColor:Ra.a[500]},Ua),red:Object(f.a)({color:"white",backgroundColor:ve.a[300]},Ua),green:Object(f.a)({color:e.palette.getContrastText(at.a[800]),backgroundColor:at.a[800]},Ua),blue:Object(f.a)({color:e.palette.getContrastText(La.a[800]),backgroundColor:La.a[800]},Ua),brown:Object(f.a)({color:e.palette.getContrastText(Ba.a[500]),backgroundColor:Ba.a[500]},Ua),pink:Object(f.a)({color:e.palette.getContrastText(Pa.a[500]),backgroundColor:Pa.a[500]},Ua),gold:Object(f.a)({color:"white",backgroundColor:_a.a[900]},Ua),lime:Object(f.a)({color:"white",backgroundColor:qa.a[800]},Ua)}}),{withTheme:!0})(Wa),Ha=[{label:"Colaborador",value:"MEMBER"},{label:"Gestor do escrit\xf3rio",value:"AGENT"},{label:"Administrador da conta",value:"ADMIN"}],Ya=(ra={},Object(re.a)(ra,"MEMBER","Pode somente registrar tickets."),Object(re.a)(ra,"AGENT","Pode gerenciar as configura\xe7\xf5es da conta e tickets. Tem acesso a todas abas de menu do portal."),Object(re.a)(ra,"ADMIN","Pode gerenciar usu\xe1rios, configura\xe7\xf5es da conta e tickets. Tem acesso a todas abas de menu do portal."),ra),Ga=["ADMIN"],Qa=["AGENT","ADMIN"],Ja=function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{slackBox:{paddingTop:60,paddingBottom:50},slackIntegration:{marginLeft:25},floatButton:{marginBottom:5,marginLeft:10},tableCheckBox:{width:10,paddingTop:20,paddingBottom:0,margin:0,border:0,paddingLeft:0},tableUser:{paddingTop:20,paddingBottom:10,marginLeft:0,paddingLeft:0},tableInvite:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",padding:0,paddingTop:20,paddingBottom:0,margin:0,border:0},selectFilter:{width:180,minWidth:80},formControl:{margin:10},profileMenuContainer:{display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%"},userName:{marginLeft:15}})},Xa=Object(r.memo)((function(e){var t=e.users,a=e.classes,n=e.onRevoke,r=e.isRevokeDisabled,c=e.locations,l=e.companyName,i=e.checkedAll,s=e.setCheckedAll,m=e.selectedLocations,u=e.setSelectedLocations,d=e.canDisconnect,b=e.selectedRole,p=e.setSelectedRole,g=e.isInviteDisabled,f=e.onShowMore,h=e.setDisableShowMore,E=e.selectedUsers,O=e.setSelectedUsers,j=e.onInvite,C=e.nextCursor,y=e.disableShowMore,k=function(e){var t=e.target,a=t.checked,n=t.value;O(a?E.concat(n):E.filter((function(e){return e!==n})))},A=Object(Na.a)(),w=Object(Sa.a)(A.breakpoints.down("xs")),T=ua()(b)&&ua()(m)&&ua()(E),x=g||!T;return o.a.createElement("section",null,o.a.createElement("div",{className:a.container},o.a.createElement("div",{className:a.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Slack conectado: ".concat(l)))),o.a.createElement("aside",null,d&&o.a.createElement(ue.a,{onClick:n,color:"default",variant:"outlined",className:a.floatButton,disabled:r},"Desconectar Slack")))),o.a.createElement("div",{className:a.container},o.a.createElement(ya.a,{size:w?"small":"medium"},o.a.createElement(ka.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:a.tableCheckBox},o.a.createElement(qt.a,{checked:i,onChange:function(e){var a=e.target.checked;s(a),O(a?t.map((function(e){return JSON.stringify(e)})):[])},disabled:g,color:"primary"})),o.a.createElement(wa.a,{className:a.tableUser},!w&&o.a.createElement("b",null,"USU\xc1RIOS (".concat(ua()(E),")"))),o.a.createElement(wa.a,{className:a.tableInvite,colSpan:w?2:1},o.a.createElement(pt.a,{className:a.formControl},o.a.createElement(Dt.a,{displayEmpty:!0,className:a.selectFilter,input:o.a.createElement(Ta.a,null),value:b,onChange:function(e){p(e.target.value)},disabled:g,variant:"outlined"},o.a.createElement(Mt.a,{value:"",disabled:!0},"Permiss\xe3o"),Ha.map((function(e){return o.a.createElement(Mt.a,{key:e.value,value:e.value},e.label)})))),o.a.createElement(pt.a,{className:a.formControl},o.a.createElement(Dt.a,{multiple:!0,displayEmpty:!0,className:a.selectFilter,input:o.a.createElement(Ta.a,null),value:m,onChange:function(e){u(e.target.value)},disabled:g,variant:"outlined",renderValue:function(e){var t=ua()(e);return t?"".concat(t," ").concat(t>1?"locais":"local"):"Local"}},c.map((function(e){return o.a.createElement(Mt.a,{key:e.id,value:e.id},e.name)})))),o.a.createElement(pt.a,{className:a.formControl},o.a.createElement(ue.a,{color:"primary",size:"medium",variant:"contained",className:a.floatButton,disabled:x,onClick:function(){try{var e={role:b,locationIds:m,slackUsers:E.map((function(e){return JSON.parse(e)}))};j(e)}catch(t){O([]),u([]),p("")}}},"Convidar"))))),ua()(t)?o.a.createElement(xa.a,null,t.map((function(e){var t=JSON.stringify(e);return o.a.createElement(Aa.a,{key:e.email},o.a.createElement(wa.a,{className:a.tableCheckBox},o.a.createElement(qt.a,{checked:E.includes(t),onChange:k,disabled:g,value:t,color:"primary"})),o.a.createElement(wa.a,{colSpan:2,className:a.tableUser},o.a.createElement("div",{className:a.profileMenuContainer},o.a.createElement(Va,{name:v()(e,"name"),photoUrl:v()(e,"photo_url","")}),o.a.createElement("span",{className:a.userName},o.a.createElement("b",null,v()(e,"name")),o.a.createElement("br",null),o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},v()(e,"email"))))))})),C?o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{colSpan:3,className:a.textCenter},o.a.createElement(ue.a,{color:"primary",size:"medium",variant:"contained",disabled:y,onClick:function(){h(!0),f()}},"Ver mais usu\xe1rios"))):null):null)))})),Ka=Object(Z.b)(Object($.a)(Ja,{withTheme:!0}),Object(Z.h)("checkedAll","setCheckedAll",!0),Object(Z.h)("selectedLocations","setSelectedLocations",[]),Object(Z.h)("selectedUsers","setSelectedUsers",[]),Object(Z.h)("selectedRole","setSelectedRole",""),Object(Z.h)("disableShowMore","setDisableShowMore",!1),Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.users;(0,e.setSelectedUsers)(t.map((function(e){return JSON.stringify(e)})))}}),Object(Z.g)(["users"],(function(e){var t=e.users,a=e.setDisableShowMore,n=e.setCheckedAll,r=e.setSelectedUsers;a(!1),n(!0),r(t.map((function(e){return JSON.stringify(e)})))})))(Xa),Za=a(155),$a=Object(r.memo)((function(e){var t=e.classes,n=e.onInstallLobby,r=e.onAuthUser,c=e.onRevoke,l=e.isDisabled,i=F.getUserData(),s=v()(i,"slack_user_id"),m=v()(i,"company.slack_team_id");return o.a.createElement("div",{className:t.container},o.a.createElement(Za.a,{className:t.paper},o.a.createElement("section",{className:t.slackBox},o.a.createElement("div",{className:t.textCenter},o.a.createElement("img",{src:a(711),alt:"Integra\xe7\xe3o Lobby com Slack",className:t.slackIntegration}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ge.a,{variant:"h6",component:"strong"},o.a.createElement("b",null,"Crie tickets atrav\xe9s do Slack")),o.a.createElement("br",null),o.a.createElement(ge.a,{variant:"body2",color:"textSecondary"},o.a.createElement("b",null,"Leva menos de um minuto"))),o.a.createElement("br",null),o.a.createElement("div",{className:t.textCenter},o.a.createElement(ge.a,{variant:"subtitle2"},"Colaboradores poder\xe3o criar tickets",o.a.createElement("br",null),"via atalho Lobby ou comando",o.a.createElement("b",null," /lobby "),"no Slack"),o.a.createElement("br",null),m?s?o.a.createElement(ue.a,{onClick:c,size:"large",color:"default",variant:"outlined",disabled:l},"Desconectar Slack"):o.a.createElement(ue.a,{onClick:r,size:"large",color:"primary",variant:"contained",disabled:l},"Integrar Slack"):o.a.createElement(ue.a,{onClick:n,size:"large",color:"primary",variant:"contained",disabled:l},"Instalar Lobby no Slack")))))})),en=Object(Z.b)(Object($.a)(Ja,{withTheme:!0}))($a),tn=a(523),an=a.n(tn),nn=a(83),rn=a(871),on=a(943),cn=a(518),ln=a(530),sn=a.n(ln),mn=a(529),un=a.n(mn),dn=a(524),bn=a.n(dn),pn=a(525),gn=a.n(pn),fn=a(878),hn=a(920),En=a(917),vn=a(919),On=a(526),jn=a.n(On),Cn=a(527),yn=a.n(Cn),kn=a(528),An=a.n(kn),wn=a(903),Tn=Object.values(Ge).filter((function(e){return!e.hideMenu&&!e.settingsMenu})),xn=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={userDataError:!1,sideMenuOpen:!1,profileMenuAnchor:null,showHelp:!1},e.onOpenHelp=function(){e.setState({profileMenuAnchor:null},(function(){return window.open(P.whatsappHelp,"_blank")}))},e.onLogout=function(){e.setState({profileMenuAnchor:null},(function(){if(window.confirm("Voc\xea deseja sair?")){var t=e.props.history;G.hit("Logout"),F.clear(),t.push("/")}}))},e.onSettings=function(){e.setState({profileMenuAnchor:null},(function(){e.props.history.push("/configuracoes/meu-perfil")}))},e.onManageMembers=function(){e.setState({profileMenuAnchor:null},(function(){e.props.history.push("/configuracoes/usuarios")}))},e.onToggleSideMenu=function(){var t=e.state.sideMenuOpen;e.setState({sideMenuOpen:!t})},e.onChangePage=function(t,a){e.props.history.push(Tn[a].path)},e.onToggleProfileMenu=function(t){return e.setState({profileMenuAnchor:t.currentTarget})},e.prepareUser=function(){var e=F.getUserData();return{name:v()(e,"fullname",""),email:v()(e,"email","")}},e.prepareMenu=function(e){var t=F.getUserData(),a="MEMBER"===v()(t,"role","MEMBER"),n=v()(t,"company.has_ticket_support",!1),r=v()(t,"company.marketplace_for_members",!1);return e.filter((function(e){return!(!n&&e.path.includes("/tickets"))&&!(!r&&a&&(e.path.includes("/servicos")||e.path.includes("/meus-pedidos")))}))},e.renderAlerts=function(){var t=e.props,a=t.alertBox,n=t.error,r=e.state.userDataError;return a||(n||r?o.a.createElement(ct,{type:"error",message:"Erro ao carregar dados do servidor",actionButton:o.a.createElement("b",null,"Recarregar"),onClickAction:function(){return window.location.reload()}}):null)},e}return Object(b.a)(n,[{key:"renderSideMenuList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.props,n=a.classes,r=a.history,c=this.prepareMenu(e);return ua()(c)?o.a.createElement(rn.a,{component:"nav",subheader:o.a.createElement(hn.a,{component:"div"},o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},o.a.createElement("strong",{className:n.listItemHeaderText},t)))},c.map((function(e,t){var a=Object.values(e.submenus||{}),c=Boolean(ua()(a)),l={};return c||(l={component:i.b,to:e.path.replace(/:[\w*]+/g,""),selected:r.location.pathname.includes(e.path)||e.path.includes(r.location.pathname)}),o.a.createElement("div",{key:t.toString()},o.a.createElement(fn.a,Object.assign({button:!c,key:e.path},l),e.icon&&o.a.createElement(En.a,{className:n.listItemIcon},e.icon),o.a.createElement(vn.a,{className:n.listItemText,disableTypography:!0,primary:o.a.createElement(wn.a,{badgeContent:e.badge,color:"primary",invisible:!e.badge,classes:{badge:n.badge}},e.label)})),c&&o.a.createElement(rn.a,{className:n.submenuList},a.map((function(t){var a="".concat(e.path).concat(t.path);return o.a.createElement(fn.a,{button:!0,className:n.submenuItem,key:a,component:i.b,to:a.replace(/:[\w*]+/g,""),selected:a===r.location.pathname},t.icon&&o.a.createElement(En.a,{className:n.listItemIcon},t.icon),o.a.createElement(vn.a,{className:n.listItemText,disableTypography:!0,primary:t.label}))}))))}))):null}},{key:"renderUserProfile",value:function(){var e=this,t=this.props.classes,a=this.state.profileMenuAnchor,n=F.getUserData(),r=v()(n,"fullname",""),c=v()(n,"photo_url",""),l="ADMIN"===v()(n,"role","MEMBER");return o.a.createElement(rn.a,{component:"nav",className:t.userProfileList},o.a.createElement(fn.a,{alignItems:"flex-start"},o.a.createElement("div",{className:t.profileMenuContainer},o.a.createElement(Va,{name:r,photoUrl:c}),o.a.createElement("span",{className:t.userName,onClick:this.onToggleProfileMenu},r),o.a.createElement(tt.a,{size:"medium",onClick:this.onToggleProfileMenu},o.a.createElement(bn.a,null)),o.a.createElement(cn.a,{keepMounted:!0,anchorEl:a,open:Boolean(a),onClose:function(){return e.setState({profileMenuAnchor:null})},transformOrigin:{vertical:"bottom",horizontal:"right"}},l?o.a.createElement(Mt.a,{onClick:this.onManageMembers},o.a.createElement(En.a,null,o.a.createElement(gn.a,{fontSize:"small"})),o.a.createElement(vn.a,{className:t.listItemText,primary:"Usu\xe1rios e permiss\xf5es"})):o.a.createElement(o.a.Fragment,null),o.a.createElement(Mt.a,{onClick:this.onSettings},o.a.createElement(En.a,null,o.a.createElement(jn.a,{fontSize:"small"})),o.a.createElement(vn.a,{className:t.listItemText,primary:"Configura\xe7\xf5es"})),o.a.createElement(Mt.a,{onClick:this.onOpenHelp},o.a.createElement(En.a,null,o.a.createElement(yn.a,{fontSize:"small"})),o.a.createElement(vn.a,{className:t.listItemText,primary:"Ajuda"})),o.a.createElement(Mt.a,{onClick:this.onLogout},o.a.createElement(En.a,null,o.a.createElement(An.a,{fontSize:"small"})),o.a.createElement(vn.a,{className:t.listItemText,primary:"Sair"}))))))}},{key:"renderSideMenu",value:function(e){var t=this.props.classes,n=this.state.sideMenuOpen;return o.a.createElement(nn.a,{classes:{paper:t.drawer},variant:e?"persistent":"permanent",anchor:"left",open:n,ModalProps:{keepMounted:!e}},o.a.createElement("div",{className:t.headerLogoContainer},e&&o.a.createElement("div",{className:t.closeMenuIcon},o.a.createElement(tt.a,{size:"medium",onClick:this.onToggleSideMenu},o.a.createElement(un.a,null))),o.a.createElement("div",{className:t.logoContainer},o.a.createElement(i.b,{to:"/"},o.a.createElement("img",{src:a(443),alt:P.appName,className:t.logo})))),this.renderSideMenuList(Tn),this.renderUserProfile())}},{key:"render",value:function(){var e=this.props.classes,t=this.state.showHelp;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:e.root},o.a.createElement(tt.a,{"aria-label":"open drawer",onClick:this.onToggleSideMenu,edge:"start"},o.a.createElement(sn.a,null)),o.a.createElement(on.a,{smDown:!0},this.renderSideMenu(!1)),o.a.createElement(on.a,{mdUp:!0},this.renderSideMenu(!0)),this.renderAlerts(),P.isProduction&&t&&o.a.createElement(an.a,{license:P.livechatId,visitor:this.prepareUser()})))}}]),n}(r.PureComponent),Nn=Object(Z.b)(Object($.a)((function(e){var t;return{root:Object(re.a)({marginBottom:0},e.breakpoints.up("md"),{marginBottom:"-27px"}),drawer:(t={},Object(re.a)(t,e.breakpoints.up("md"),{width:e.menuWidth,flexShrink:0}),Object(re.a)(t,"border","none"),Object(re.a)(t,"background","#FAFAFA"),Object(re.a)(t,"color","#313131"),t),appBar:{backgroundColor:"#FAFAFA",width:"calc(100%-".concat(e.menuWidth,"px)"),borderBottom:"1px solid rgba(0, 0, 0, 0.12)",boxShadow:"none"},userProfileList:{position:"absolute",bottom:5,left:0},profileMenuContainer:{display:"flex",alignItems:"center",width:"100%"},userName:{color:"#313131",fontSize:14,cursor:"pointer",marginLeft:10},towerSelect:{width:200,color:"#313131",borderColor:"#FAFAFA",backgroundColor:"#FAFAFA",marginTop:10},logoutButton:{color:"red",fontSize:16,fontWeight:"bold",textTransform:"none"},headerLogoContainer:{width:"100%",display:"flex",paddingTop:5,paddingBottom:2,paddingRight:20},logoContainer:Object(re.a)({marginLeft:0,color:"#313131",paddingTop:5},e.breakpoints.up("md"),{paddingTop:9,paddingBottom:4,marginLeft:15}),closeMenuIcon:{display:"inline-block",color:"#313131",marginLeft:0},logo:{width:105,height:39},checkIcon:{marginRight:10},listItemIcon:{color:"#313131",fontSize:12,width:16,height:16},listItemText:{marginLeft:-25,fontSize:12,color:"#313131"},listItemLink:{fontSize:12,color:"#313131"},listItemHeaderText:{fontSize:12},submenuList:{marginBottom:-8,marginTop:-8},submenuItem:{paddingLeft:75},badge:{right:-25,top:7,fontSize:12,backgroundColor:"#aef7ea",color:"#22007f"}}}),{withTheme:!0}),h.g)(xn),Sn=a(252),Dn=a.n(Sn),Mn=a(940),In=a(923),Fn=a(531),Rn=a.n(Fn),Ln=["TicketCategories","TicketTags","Locations","Slack","Notifications"],Bn=["TicketCategories","TicketTags","Locations","Invoices","MyPlan"],Pn=["TicketCategories","TicketTags","Locations","Invoices","MyPlan","Slack"],_n=Object(r.memo)((function(e){var t=e.history,a=e.classes,n=function(){var e=Object.values(Ge).filter((function(e){return!e.hideMenu&&e.settingsMenu})),t=F.getUserData(),a="MEMBER"===v()(t,"role","MEMBER"),n="AGENT"===v()(t,"role","MEMBER");return v()(t,"company.has_ticket_support",!1)?a?Dn()(e,(function(e){return Bn.includes(e.trackPage)})):n?Dn()(e,(function(e){return Pn.includes(e.trackPage)})):e:Dn()(e,(function(e){return Ln.includes(e.trackPage)}))}();return o.a.createElement(Za.a,{square:!0,className:a.root},o.a.createElement(Mn.a,{value:Rn()(n,(function(e){return t.location.pathname===e.path})),indicatorColor:"primary",textColor:"primary",scrollButtons:"auto",variant:"scrollable",onChange:function(e,a){return t.push(n[a].path)}},n.map((function(e,t){return o.a.createElement(In.a,{key:e.path,label:e.label,index:t})}))))})),qn=Object(Z.b)(Object($.a)((function(e){return{root:Object(re.a)({marginTop:25},e.breakpoints.up("md"),{marginTop:35})}}),{withTheme:!0}),h.g)(_n),Un=a(532),zn=a.n(Un),Wn={inviteUsers:function(e){var t=e.role,a=e.locationIds,n=e.slackUsers,r={role:t,location_ids:a,slack_users:j()(n,(function(e){var t=v()(e,"name","").trim().split(" ");return{name:Fa()(t),lastname:zn()(t,1).join(" "),email:v()(e,"email")}}))};return U.post("/slack/invite",r)},listUsers:function(e){var t=e.canInvite,a=e.nextCursor;return t?U.get("/slack/users",{cursor:a}):null}},Vn={ok:"Conta Slack integrada com sucesso",not_authorized:"N\xe3o foi poss\xedvel integrar sua conta Slack",wrong_member:"\xc9 necess\xe1rio logar no Slack com mesmo email de login Lobby"},Hn=Object(r.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.revokeSlackFetch,c=e.revokeSlackLoading,l=e.canInvite,i=e.slackUsers,s=e.slackUsersFetch,m=e.slackUsersLoading,u=e.inviteSlackUsersFetch,d=e.inviteSlackUsersLoading,b=e.nextCursor,p=a.showAlert,g=a.alertMsg,f=a.alertType,h=null;p&&(h=o.a.createElement(ct,{message:g,type:f,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1})}}));var E=F.getUserData(),O=v()(E,"company.name"),j=v()(E,"company.slack_team_id"),C=v()(E,"slack_user_id"),y=Oa()(v()(E,"locations",[]),["name"]),k=function(){window.confirm("Tem certeza em realizar essa a\xe7\xe3o?")&&(G.hit("SlackIntegration - RevokeUser"),r(!0))};return o.a.createElement("div",{className:t.root},o.a.createElement(Nn,{alertBox:h}),o.a.createElement("section",null,o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:t.container},o.a.createElement(qn,null)),o.a.createElement("br",null),m?o.a.createElement(pe,null):l&&ua()(i)?o.a.createElement(Ka,{users:i,onRevoke:k,onInvite:function(e){u(!0,"",null,{variables:e})},onShowMore:function(){return s(!1)},isRevokeDisabled:c,isInviteDisabled:d,canDisconnect:Boolean(C),nextCursor:b,locations:y,companyName:O}):o.a.createElement(en,{onAuthUser:function(){G.hit("SlackIntegration - AuthUser");var e="".concat(P.slackOAuthURL,"?scope=").concat(P.slackOAuthScope,"&team=").concat(j);e+="&client_id=".concat(P.slackClientId,"&user_scope=").concat(P.slackOAuthUserScope),e+="&redirect_uri=".concat(P.slackRedirectURL),window.location.href=e},onInstallLobby:function(){G.hit("SlackIntegration - InstallLobby");var e="".concat(P.slackOAuthURL,"?scope=").concat(P.slackOAuthScope);e+="&client_id=".concat(P.slackClientId,"&user_scope=").concat(P.slackOAuthUserScope),e+="&redirect_uri=".concat(P.slackRedirectURL),window.location.href=e},onRevoke:k,isDisabled:c})))})),Yn=ca(z.revokeSlackUser,{name:"revokeSlack",init:!1,options:function(e){var t=e.setAlert;return{onRequestFinished:function(){var e=Object(u.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({alertMsg:"A conta Slack foi desconectada",alertType:"success",showAlert:!0}),a=F.getUserData(),Ea()(a,"slack_user_id",null),F.setUserData(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(){t({alertMsg:"Erro ao desconectar conta Slack",alertType:"error",showAlert:!0})}}}}),Gn=ca(Wn.listUsers,{name:"slackUsers",options:function(e){var t=e.setAlert,a=e.slackUsers,n=e.setSlackUsers,r=e.setNextCursor,o=e.nextCursor;return{variables:{canInvite:e.canInvite,nextCursor:o},onRequestFinished:function(e){var t=a.concat(v()(e,"users",[]));n(Oa()(Ca()(t,"email"),["name"])),r(v()(e,"next_cursor",""))},onRequestError:function(){t({alertMsg:"Erro ao carregar lista de usu\xe1rios slack",alertType:"error",showAlert:!0})}}}}),Qn=ca(Wn.inviteUsers,{name:"inviteSlackUsers",init:!1,options:function(e){var t=e.setAlert,a=e.slackUsersFetch;return{onRequestFinished:function(){t({alertMsg:"Convite enviado com sucesso",alertType:"success",showAlert:!0}),a(!0)},onRequestError:function(){t({alertMsg:"Erro ao carregar convidar usu\xe1rios slack",alertType:"error",showAlert:!0})}}}}),Jn=Object(Z.b)(h.g,Object($.a)(Ja,{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("canInvite","setCanInvite",!1),Object(Z.h)("slackUsers","setSlackUsers",[]),Object(Z.h)("nextCursor","setNextCursor",""),Yn,Gn,Qn,Object(Z.c)({componentDidMount:function(){var e=this;return Object(u.a)(m.a.mark((function t(){var a,n,r,o,c,l,i,s,u,d,b;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.location,r=a.setAlert,o=a.setCanInvite,c=new URLSearchParams(n.search),l=c.get("status"),i=F.getUserData(),s=v()(i,"role"),u=v()(i,"company.slack_team_id"),d=v()(i,"slack_user_id"),b=Ga.includes(s)&&u&&d,o(Boolean(b)),l&&(r({alertMsg:Vn[l],alertType:"ok"===l?"success":"error",showAlert:!0}),window.history.pushState("","","/#/configuracoes/slack"));case 10:case"end":return t.stop()}}),t)})))()}}))(Hn),Xn=Object(r.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.children,c=a.showAlert,l=a.alertMsg,i=a.alertType,s=null;return c&&(s=o.a.createElement(ct,{message:l,type:i,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1})}})),o.a.createElement("div",{className:t.root},o.a.createElement(Nn,{alertBox:s}),o.a.createElement("section",{className:t.container},o.a.cloneElement(r,{setAlert:n})))})),Kn=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}))(Xn),Zn=function(e){return function(t){var a=ie(e);return o.a.createElement(Kn,t,o.a.createElement(a,t))}},$n=a(23),er=a.n($n),tr={getFeed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return U.get("/blog_feeds?limit=".concat(e)).then((function(e){return er.a.toCamelCase(e)}))}},ar=a(904),nr=a(905),rr=a(907),or=a(906),cr=function(e){return Object(f.a)({},oe(e))},lr=Object(r.memo)((function(e){var t=e.classes,a=e.title,n=e.imageUrl,r=e.url,c=e.createdAt;return o.a.createElement(ar.a,{className:t.cardRoot},o.a.createElement(nr.a,{onClick:function(){return window.open(r,"_blank")}},o.a.createElement(rr.a,{className:t.media,image:n,title:a}),o.a.createElement(or.a,{className:t.title},o.a.createElement(ge.a,{variant:"h6"},a),o.a.createElement(ge.a,{component:"small",variant:"span",className:t.date},A()(c).format("DD/MM/YYYY")))))}));lr.propTypes={classes:ne.a.object,title:ne.a.string,imageUrl:ne.a.string,createdAt:ne.a.string,url:ne.a.string};var ir=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},cr(e)),{},{cardRoot:{maxWidth:"100%",marginTop:20},media:{height:175},title:{height:140},date:{position:"absolute",bottom:10,left:15}})}),{withTheme:!0}))(lr),sr=Object(r.memo)((function(e){var t=e.classes,a=e.blogFeedData,n=e.blogFeedLoading,r=Object(Na.a)(),c=Object(Sa.a)(r.breakpoints.down("sm")),l=v()(a,"feed",[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.headerView},o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,function(){var e=F.getUserData(),t=v()(e,"name",""),a=(new Date).getHours();return a>=5&&a<12?"Bom dia, ".concat(t," \ud83d\udc4b"):a>=12&&a<18?"Boa tarde, ".concat(t," \ud83c\udf07"):"Boa noite, ".concat(t," \ud83c\udf03")}())),o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return window.open(P.changelogfy,"_blank")},className:c?t.fab:null},"Novidades da Lobby")),o.a.createElement("br",null),o.a.createElement("p",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Inspire-se")),n?o.a.createElement(pe,null):o.a.createElement(me.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:2},l.map((function(e){return o.a.createElement(me.a,{item:!0,xs:12,sm:6,md:4,lg:3},o.a.createElement(ir,e))})))))})),mr=ca(tr.getFeed,{name:"blogFeed",options:function(e){var t=e.setAlert;return{onRequestError:function(){t({alertMsg:"Erro ao carregar not\xedcias do blog",alertType:"error",showAlert:!0})}}}}),ur=Object(Z.b)(Zn,Object($.a)(cr,{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("status","setStatus",""),mr)(sr),dr=a(330),br=a(900),pr=a(902),gr=a(901),fr=a(548),hr=a.n(fr),Er=a(875),vr=a(941),Or=Object(Z.b)(r.memo,Object(Z.h)("open","setOpen",!0),h.g)((function(e){var t,a,n,r=e.trialExpiration,c=e.willDowngradeAt,l=e.willCancelAt,i=e.open,s=e.setOpen,m=e.history,u=r&&A()(r).startOf("day"),d=c&&A()(c).startOf("day"),b=l&&A()(l).startOf("day"),p=A()().startOf("day"),g=null,f=null,h=null,E=null;if(u&&!d&&!b){var v=u.diff(p,"days");g=(t=v)>1?"O plano trial expira em ".concat(t," dias."):1===t?"O plano trial expira em 1 dia.":"O plano trial expira hoje.",f="warning",h=Ge.PlanSubscription.path,E="Assinar plano"}if(d&&!b&&!g){var O=d.diff(p,"days");g=(a=O)>1?"O plano profissional ter\xe1 redu\xe7\xe3o de lugares daqui a ".concat(a," dias."):1===a?"O plano profissional ter\xe1 redu\xe7\xe3o de lugares daqui a 1 dia.":"O plano profissional ter\xe1 redu\xe7\xe3o de lugares hoje.",f="info",h=Ge.MyPlan.path,E="Saiba mais"}if(b&&!g){var j=b.diff(p,"days");g=(n=j)>1?"O plano profissional ser\xe1 cancelado em ".concat(n," dias."):1===n?"O plano profissional ser\xe1 cancelado em 1 dia.":"O plano profissional ser\xe1 cancelado hoje.",f="warning",h=Ge.PlanSubscription.path,E="Assinar plano"}return g&&f?o.a.createElement(Er.a,{in:i},o.a.createElement(dr.a,{my:2},o.a.createElement(vr.a,{severity:f,action:o.a.createElement(tt.a,{color:"inherit",size:"small",onClick:function(){return s(!1)}},o.a.createElement(et.a,{fontSize:"inherit"}))},g,"\xa0",o.a.createElement(ue.a,{onClick:function(){return m.push(h)},color:"inherit",variant:"outlined",size:"small"},E)))):null})),jr=Object(r.memo)((function(e){var t=e.classes,a=e.history;return o.a.createElement("div",{className:t.root},o.a.createElement("p",{className:t.center},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Assine o plano profissional para ter acesso \xe0 gest\xe3o de tickets"))),o.a.createElement("p",{className:t.center},o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return a.push("/assinar-plano")}},"Quero assinar")))}));jr.propTypes={classes:ne.a.object,history:ne.a.object};var Cr=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),h.g)(jr),yr={getTickets:function(e){return U.get("/tickets",{location_id:Object(S.get)(e,"locationId"),assignee_id:Object(S.get)(e,"assigneeId"),category_id:Object(S.get)(e,"categoryId"),ticket_tag_id:Object(S.get)(e,"ticketTagId"),deadline:Object(S.get)(e,"deadline"),priority:Object(S.get)(e,"priority"),archived:Object(S.get)(e,"archived"),status:Object(S.get)(e,"status"),per_page:Object(S.get)(e,"perPage"),page:Object(S.get)(e,"page")})},getTicket:function(e){return e?U.get("/tickets/".concat(e)):null},getTicketByCode:function(e){return e?U.get("/tickets/codes/".concat(e)):null},updateTicket:function(e){var t=e.id,a=Object(bt.a)(e,["id"]),n=er.a.toSnakeCase(Object(S.pick)(a,["id","title","priority","deadline","cost","locationId","categoryId","assigneeIds","ticketTagIds"]));return U.put("/tickets/".concat(t),n)},moveTicket:function(e){var t=e.id,a=Object(bt.a)(e,["id"]),n=er.a.toSnakeCase(Object(S.pick)(a,["status","position","locationId"]));return U.put("/tickets/".concat(t,"/move"),n)},archiveTicket:function(e){var t=e.ticketsIds;return U.put("/tickets/archive",{tickets_ids:t})},unarchiveTicket:function(e){var t=e.ticketsIds;return U.put("/tickets/unarchive",{tickets_ids:t})},postTicket:function(e){var t=e.attachment_data,a=Object(bt.a)(e,["attachment_data"]),n=null;return t&&(n={id:t.id,storage:t.storage,metadata:t.metadata,base64Data:t.base64Data}),U.post("/tickets",Object(f.a)(Object(f.a)({},a),{},{attachment_data:n,priority:Object(S.isEmpty)(Object(S.get)(a,"priority"))?null:Object(S.get)(a,"priority")}))},deleteTicket:function(e){return U.delete("/tickets/".concat(e))},getAssignables:function(e){var t=er.a.toSnakeCase(Object(S.pick)(e,["locationId"]));return U.get("/tickets/assignables",t)},exportCsv:function(e){var t=e.start_date,a=e.end_date;return U.post("/tickets/export_csv",{start_date:t,end_date:a})},report:function(e){var t=e.location_id,a=e.start_date,n=e.end_date;return U.post("/tickets/report",{location_id:t,start_date:a,end_date:n})},markAsRead:function(e){return U.put("/tickets/".concat(e,"/mark_as_read"))},postPublicTicket:function(e){var t=e.ticket,a=t.attachment_data,n=Object(bt.a)(t,["attachment_data"]),r=e.companyId,o=null;return a&&(o={id:a.id,storage:a.storage,metadata:a.metadata,base64Data:a.base64Data}),U.post("/public_tickets?company_id=".concat(r),Object(f.a)({attachment_data:o},n))},toggleStandby:function(e){return U.put("/tickets/".concat(e,"/toggle_standby"))},createParticipant:function(e){var t=e.id,a=e.participantId,n=er.a.toSnakeCase({participantId:a});return U.post("/tickets/".concat(t,"/participants"),n).then((function(e){return er.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=er.a.toCamelCase(e.errors)),e}))},destroyParticipant:function(e){var t=e.id,a=e.participantId,n=e.destroyAssignee;return U.delete("/tickets/".concat(t,"/participants?participant_id=").concat(a,"&destroy_assignee=").concat(n)).then((function(e){return er.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=er.a.toCamelCase(e.errors)),e}))}},kr={getTags:function(){return U.get("/ticket_tags").then((function(e){return er.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=er.a.toCamelCase(e.errors)),e}))},createTag:function(e){var t=e.title;return U.post("/ticket_tags",{title:t}).then((function(e){return er.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=er.a.toCamelCase(e.errors)),e}))},updateTag:function(e){var t=e.id,a=e.title;return U.put("/ticket_tags/".concat(t),{title:a}).then((function(e){return er.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=er.a.toCamelCase(e.errors)),e}))},deleteTag:function(e){return U.delete("/ticket_tags/".concat(e)).then((function(e){return er.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=er.a.toCamelCase(e.errors)),e}))}},Ar={getCategories:function(e){var t={};return e&&(t={deleted:e}),U.get("/ticket_categories",t).then((function(e){return er.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=er.a.toCamelCase(e.errors)),e}))},updateCategory:function(e){var t=e.id,a=e.title,n=e.assigneeIds,r=e.deadlineInDays,o=e.ticketFormQuestions,c=er.a.toSnakeCase({id:t,title:a,assigneeIds:n,deadlineInDays:r,ticketFormQuestions:Object(S.map)(o,(function(e){return{id:e.id,question:Object(S.get)(e,"question"),fieldType:Object(S.get)(e,"fieldType"),required:Object(S.get)(e,"required"),options:Object(S.compact)(Object(S.split)(Object(S.get)(e,"options",""),",").map((function(e){return Object(S.trim)(e)})))}}))});return U.put("/ticket_categories/".concat(t),c).then((function(e){return er.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=er.a.toCamelCase(e.errors)),e}))},createCategory:function(e){var t=e.title,a=e.deadlineInDays,n=e.assigneeIds,r=er.a.toSnakeCase({title:t,deadlineInDays:a,assigneeIds:n});return U.post("/ticket_categories",r).then((function(e){return er.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=er.a.toCamelCase(e.errors)),e}))},toggleCategory:function(e){return U.put("/ticket_categories/".concat(e,"/toggle_active"))},getCategoriesByCompany:function(e){return e?U.get("/public_ticket_categories",{company_id:e}):null}},wr=a(533),Tr=a.n(wr),xr={get:function(){return Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.get("/subscription").then((function(e){return er.a.toCamelCase(e)})));case 1:case"end":return e.stop()}}),e)})))()},create:function(e){return Object(u.a)(m.a.mark((function t(){var a,n,r,o,c,l,i,s,u,d,b,p;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.phone,n=e.cnpj,r=e.addressZipcode,o=e.addressNumber,c=e.addressComplementary,l=e.planName,i=e.planSeats,s=e.creditCardHash,u=e.creditCardId,d=(a||"").split(" "),b={phoneDdd:Fa()(d).replace(/[\D]+/g,""),phoneNumber:Tr()(d).replace(/[\D]+/g,""),cnpj:(n||"").replace(/[\D]+/g,""),addressZipcode:(r||"").replace(/[\D]+/g,""),addressNumber:o,addressComplementary:c,planName:l,planSeats:i,creditCardHash:s,creditCardId:u},p=er.a.toSnakeCase(b),t.abrupt("return",U.post("/subscriptions",p).then((function(e){return er.a.toCamelCase(e)})));case 5:case"end":return t.stop()}}),t)})))()},update:function(e){return Object(u.a)(m.a.mark((function t(){var a,n,r,o,c,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.id,n=e.planName,r=e.planSeats,o=e.creditCardHash,c=e.creditCardId,l=er.a.toSnakeCase({planName:n,planSeats:r,creditCardHash:o,creditCardId:c}),t.abrupt("return",U.put("/subscriptions/".concat(a),l).then((function(e){return er.a.toCamelCase(e)})));case 3:case"end":return t.stop()}}),t)})))()},cancel:function(e){return Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U.delete("/subscriptions/".concat(e)).then((function(e){return er.a.toCamelCase(e)})));case 1:case"end":return t.stop()}}),t)})))()},undoCancelation:function(){return Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.put("/subscription/undo_cancelation/").then((function(e){return er.a.toCamelCase(e)})));case 1:case"end":return e.stop()}}),e)})))()}},Nr=Object(Z.b)(Object(Z.h)("viewer","setViewer",{loading:!0}),Object(Z.h)("subscriptionReference","setSubscriptionReference",null),Object(Z.c)({componentDidMount:function(){var e=this,t=F.getUserData();this.props.setViewer(t);var a=F.subscribeOnViewerChange((function(t){e.props.setViewer(t)}));this.props.setSubscriptionReference(a)},componentWillUnmount:function(){F.unsubscribeOnViewerChange(this.props.subscriptionReference)}}),Object(Z.a)((function(e){return Object(S.get)(e,"viewer.loading")}),Object(Z.d)((function(){return null})))),Sr={PRIORITIES:[{label:"Normal",key:"NORMAL"},{label:"Urgente",key:"HIGH"}],STATUSES:[{label:"Pendente",key:"PENDING"},{label:"Em andamento",key:"IN_PROGRESS"},{label:"Conclu\xeddo",key:"DONE"}],STATUS_PENDING:"PENDING",STATUS_IN_PROGRESS:"IN_PROGRESS",STATUS_DONE:"DONE",PRIORITY_NORMAL:"NORMAL",PRIORITY_HIGH:"HIGH"},Dr=a(936),Mr=a(540),Ir=a.n(Mr),Fr=a(248),Rr=a.n(Fr),Lr=a(539),Br=a.n(Lr),Pr=a(537),_r=a.n(Pr),qr=a(538),Ur=a.n(qr),zr=function(e){return Object(Z.b)(Object(Z.f)((function(t){return{previousValues:e(t)}})),Object(Z.h)("formData","setFormDataRaw",(function(e){var t=e.previousValues;return Object(f.a)({validationErrors:{},changedFields:{}},t)})),Object(Z.e)({setFormData:function(e){var t=e.setFormDataRaw,a=e.formData,n=e.previousValues;return function(e){var r=Object(f.a)(Object(f.a)({},a),e),o=(r.validationErrors,r.changedFields,Object(bt.a)(r,["validationErrors","changedFields"])),c=Object(S.pickBy)(o,(function(e,t){var a=n[t];return!Object(S.isEqual)(a,e)}));t(Object(f.a)(Object(f.a)({},r),{},{changedFields:c}))}},resetFormData:function(e){var t=e.setFormDataRaw,a=e.previousValues;return function(){t(Object(f.a)({validationErrors:{},changedFields:{}},a))}}}),Object(Z.c)({componentDidUpdate:function(e){Object(S.isEqual)(this.props.previousValues,e.previousValues)||this.props.setFormData(Object(f.a)({},this.props.previousValues))}}))},Wr=a(909),Vr=a(912),Hr=a(911),Yr=a(910),Gr=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{root:{maxWidth:"50rem"},actions:{margin:15,marginBottom:20},content:{overflowX:"hidden"}})}),{withTheme:!0}))((function(e){var t=e.classes,a=e.open,n=e.onClose,r=e.modalTitle,c=e.content,l=e.actions,i=Object(bt.a)(e,["classes","open","onClose","modalTitle","content","actions"]),s=Object(Na.a)(),m=Object(Sa.a)(s.breakpoints.down("sm"));return o.a.createElement(Wr.a,Object.assign({fullScreen:m,keepMounted:!0,maxWidth:"md",classes:{paper:t.root},open:a,onClose:n},i),o.a.createElement(Vr.a,null,r,o.a.createElement(tt.a,{className:t.closeButton,onClick:n},o.a.createElement(et.a,null))),o.a.createElement(Hr.a,{className:t.content},c),o.a.createElement(Yr.a,{className:t.actions},o.a.createElement(me.a,{container:!0,justify:"flex-end",spacing:2},l)))})),Qr=Object(r.memo)((function(e){var t=e.setFormData,a=e.isLoading,n=e.formData,r=n.start_date,c=n.end_date,l=n.validationErrors;return a?o.a.createElement(pe,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{container:!0,direction:"row",spacing:1},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Bt,{errors:l.start_date,label:"Data de in\xedcio",disabled:a,value:r,onChangeValue:function(e){return t({start_date:e})},disableFuture:!0})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Bt,{errors:l.end_date,label:"Data de fim",disabled:a,value:c,onChangeValue:function(e){return t({end_date:e})},disableFuture:!0}))),o.a.createElement(dr.a,{display:"flex",justifyContent:"end",mt:2},o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small",align:"right"},"Formato de arquivo .csv")))})),Jr=ca(yr.exportCsv,{name:"exportCsv",init:!1,options:function(e){var t=e.formData,a=e.setFormData,n=e.setAlert,r=e.onClose;t.validationErrors;return{variables:Object(bt.a)(t,["validationErrors"]),onRequestFinished:function(e){n({alertMsg:Object(S.get)(e,"flash_message.message"),alertType:"success",showAlert:!0}),r()},onRequestError:function(e){n({alertMsg:"Erro ao tentar exportar CSV",alertType:"error",showAlert:!0}),a({validationErrors:Object(S.get)(e,"errors",{})})}}}}),Xr=Object(Z.b)(r.memo,zr((function(){return{start_date:null,end_date:null}})),Jr)((function(e){var t=e.isModalOpen,a=e.onClose,n=e.formData,r=e.setFormData,c=e.resetFormData,l=e.exportCsvFetch,i=e.exportCsvLoading,s=function(){c(),setTimeout(a,10)};return t&&o.a.createElement(Gr,{open:t,onClose:s,modalTitle:"Exportar todos os tickets",content:o.a.createElement(Qr,{formData:n,setFormData:r,isLoading:i}),actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{color:"default",size:"large",variant:"contained",onClick:s,disabled:i},"CANCELAR"),o.a.createElement(dr.a,{ml:2},o.a.createElement(ue.a,{color:"primary",size:"large",variant:"contained",onClick:function(){return l(!0)},disabled:i},"EXPORTAR")))})})),Kr=a(915),Zr=a(536),$r=a.n(Zr),eo=a(534),to=a(535),ao=a.n(to),no=window.location,ro=no.host,oo=no.protocol,co="".concat(oo,"//").concat(ro,"/#/public/tickets/novo"),lo=Object(Z.b)(r.memo,Object(Z.h)("copyURL","setCopyURL",!1))((function(e){var t=e.isModalOpen,a=e.onClose,n=e.setCopyURL,r=e.copyURL,c=e.setAlert,l=function(){n(!0),c({alertMsg:"Link copiado com sucesso",alertType:"success",showAlert:!0}),setTimeout((function(){return n(!1)}),3e3)},i=F.getUserData(),s="".concat(co,"?c=").concat(v()(i,"company.id"));return t&&o.a.createElement(Gr,{open:t,onClose:a,modalTitle:"Formul\xe1rio p\xfablico de novo ticket",content:o.a.createElement(me.a,{container:!0,direction:"row",justify:"center",align:"center",spacing:2},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ge.a,{variant:"body2",color:"textSecondary"},"C\xf3digo QR do formul\xe1rio (n\xe3o requer login do usu\xe1rio)"),o.a.createElement("br",null),o.a.createElement(ao.a,{value:s,size:256}),o.a.createElement("br",null)),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(eo.CopyToClipboard,{text:s,onCopy:l},o.a.createElement(pt.a,{fullWidth:!0},o.a.createElement(St.a,{htmlFor:"url"},"Link do formul\xe1rio (n\xe3o requer login do usu\xe1rio)"),o.a.createElement(Ta.a,{id:"url",type:"text",readOnly:!0,value:s,endAdornment:o.a.createElement(Kr.a,{position:"end"},o.a.createElement(Da.a,{title:"Copiar link",arrow:!0,placement:"top"},o.a.createElement(tt.a,{onClick:l},r?o.a.createElement($r.a,{color:"primary"}):o.a.createElement(Rr.a,null))))})))))})})),io=function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{closeTicket:{cursor:"pointer",fontSize:14,fontWeight:"bold",marginRight:3},filterSelect:{minWidth:115}})},so=Object(Z.b)(r.memo,Object($.a)(io,{withTheme:!0}),h.g,Object(Z.h)("anchorEl","setAnchorEl",null),Object(Z.h)("isExportModalOpen","setIsExportModalOpen",!1),Object(Z.h)("isPublicNewTicketsOpen","setIsPublicNewTicketsOpen",!1))((function(e){var t=e.history,a=e.setAlert,n=e.anchorEl,r=e.setAnchorEl,c=e.isExportModalOpen,l=e.setIsExportModalOpen,i=e.isPublicNewTicketsOpen,s=e.setIsPublicNewTicketsOpen,m=e.isArchived,u=e.onToggleArchived,d=e.classes,b=Boolean(n),p=function(){r(null)};return o.a.createElement("div",null,o.a.createElement(tt.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)}},o.a.createElement(Dr.a,null)),o.a.createElement(cn.a,{id:"long-menu",anchorEl:n,keepMounted:!0,open:b,onClose:p,PaperProps:{style:{maxHeight:216}}},o.a.createElement(Mt.a,{onClick:function(){var e=!m;G.hit("Tickets".concat(e?"Archived":""," - Viewer")),p(),u(e)}},m?o.a.createElement(_r.a,{className:d.iconMenu}):o.a.createElement(Ur.a,{className:d.iconMenu}),m?"Ver n\xe3o arquivados":"Ver arquivados"),o.a.createElement(Mt.a,{onClick:function(){G.hit("PublicNewTicketsModal - Opened"),p(),s(!0)}},o.a.createElement(Br.a,{className:d.iconMenu}),"Form\xfal\xe1rio p\xfablico"),o.a.createElement(Mt.a,{onClick:function(){t.push("/tickets/relatorio")}},o.a.createElement(Rr.a,{className:d.iconMenu}),"Relat\xf3rios"),o.a.createElement(Mt.a,{onClick:function(){G.hit("ExportTicketsCsvModal - Opened"),l(!0),p()}},o.a.createElement(Ir.a,{className:d.iconMenu}),"Exportar tickets")),o.a.createElement(lo,{setAlert:a,isModalOpen:i,onClose:function(){G.hit("PublicNewTicketsModal - Closed"),s(!1)}}),o.a.createElement(Xr,{setAlert:a,isModalOpen:c,onClose:function(){G.hit("ExportTicketsCsvModal - Closed"),l(!1)}}))})),mo=a(150),uo=a.n(mo),bo={getComments:function(e){return e?U.get("/tickets/".concat(e,"/ticket_comments")):null},sendComment:function(e){var t=e.id,a=e.content,n=e.isInternal,r=e.attachmentData,o=null;return r&&(o={id:r.id,storage:r.storage,metadata:r.metadata,base64Data:r.base64Data}),U.post("/tickets/".concat(t,"/ticket_comments"),{content:a,is_internal:n,attachment_data:o})},deleteComment:function(e){var t=e.id;return U.delete("/ticket_comments/".concat(t))}},po=a(249),go=a.n(po),fo={toCurrency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"BRL",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pt-BR",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={style:n?"decimal":"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2};return new Intl.NumberFormat(a,r).format(e)},fromCurrencyToNumber:function(e){try{return Number(e.replace(/\./g,"").replace(",","."))}catch(t){return null}}},ho=ca(yr.toggleStandby,{init:!1,props:function(e){return e.data||{}},options:function(e){var t=e.ticket,a=e.setAlert,n=e.onSuccess;return{variables:t.id,onRequestFinished:n,onRequestError:function(e){var t=e.errors?Object.values(e.errors).flat().join():"Erro ao comunicar com servidor";a({alertMsg:t,alertType:"error",showAlert:!0})}}}}),Eo=Object(Z.b)(r.memo,ho,Object(Z.e)({onSubmit:function(e){var t=e.fetch,a=e.ticket;return function(){(a.is_standby||window.confirm("Tem certeza em deixar esse ticket em espera?"))&&t(!0)}}}))((function(e){var t=e.ticket,a=e.isFormLoading,n=e.loading,r=e.onSubmit,c=t.is_standby?"Retomar":"Deixar em espera",l=t.is_standby?"primary":"default";return o.a.createElement(ue.a,{color:l,size:"medium",variant:"outlined",disabled:a||n,onClick:r},c)})),vo=Sr.PRIORITIES,Oo=Sr.STATUSES,jo=ca(yr.getAssignables,{name:"assignables",props:function(e){var t=e.assignablesData;return{assignables:Object(S.get)(t,"members",[])}},options:function(e){return{variables:{locationId:e.ticket.location.id}}}}),Co=ca(yr.updateTicket,{name:"updateTicket",init:!1,options:function(e){var t=e.setAlert,a=e.setFormData,n=e.formData.changedFields,r=e.resetFormData,o=e.ticket,c=e.standardRefetch;return{variables:Object(f.a)(Object(f.a)({id:o.id},n),{},{standardRefetch:c}),onRequestFinished:function(){c().then(r),t({alertMsg:"Ticket #".concat(o.code," atualizado com sucesso"),alertType:"success",showAlert:!0})},onRequestError:function(e){if(Object(S.get)(e,"errors"))a({validationErrors:Object(S.get)(e,"errors",{})});else{var n="forbidden"===e.error||403===e.response.status?"Voc\xea n\xe3o tem permiss\xe3o suficiente":"Erro ao alterar este ticket";t({alertMsg:n,alertType:"error",showAlert:!0})}}}}}),yo=ca(yr.moveTicket,{name:"moveTicket",init:!1,options:function(e){var t=e.setAlert,a=e.ticket,n=e.setFormData,r=e.resetFormData,o=e.standardRefetch;return{onRequestFinished:function(){o().then(r),t({alertMsg:"Ticket #".concat(a.code," atualizado com sucesso"),alertType:"success",showAlert:!0})},onRequestError:function(e){Object(S.get)(e,"errors")?n({validationErrors:Object(S.get)(e,"errors",{})}):t({alertMsg:"Erro ao alterar este ticket",alertType:"error",showAlert:!0})}}}}),ko=ca(yr.archiveTicket,{name:"archiveTicket",init:!1,options:function(e){var t=e.ticket,a=e.onClose,n=e.setAlert,r=e.standardRefetch,o=e.resetFormData;return{variables:{ticketsIds:[t.id]},onRequestFinished:function(){r().then(o);var e={id:Object(S.get)(t,"id"),title:Object(S.get)(t,"title")};G.hit("Ticket - Archived",e),n({alertMsg:"Ticket #".concat(t.code," arquivado com sucesso"),alertType:"success",showAlert:!0})},onRequestError:function(){n({alertMsg:"Erro ao arquivar ticket #".concat(t.code),alertType:"error",showAlert:!0}),a()}}}}),Ao=ca(yr.unarchiveTicket,{name:"unarchiveTicket",init:!1,options:function(e){var t=e.ticket,a=e.onClose,n=e.setAlert,r=e.standardRefetch,o=e.resetFormData;return{variables:{ticketsIds:[t.id]},onRequestFinished:function(){r().then(o);var e={id:Object(S.get)(t,"id"),title:Object(S.get)(t,"title")};G.hit("Ticket - Unarchived",e),n({alertMsg:"Ticket #".concat(t.code," desarquivado com sucesso"),alertType:"success",showAlert:!0})},onRequestError:function(){n({alertMsg:"Erro ao desarquivar ticket #".concat(t.code),alertType:"error",showAlert:!0}),a()}}}}),wo=ca(yr.deleteTicket,{name:"deleteTicket",init:!1,options:function(e){var t=e.ticket,a=e.onClose,n=e.setAlert;return{variables:t.id,onRequestFinished:function(){var e={id:Object(S.get)(t,"id"),title:Object(S.get)(t,"title")};G.hit("Ticket - Deleted",e),n({alertMsg:"Ticket #".concat(t.code," exclu\xeddo com sucesso"),alertType:"success",showAlert:!0}),a()},onRequestError:function(){n({alertMsg:"Erro ao excluir ticket #".concat(t.code),alertType:"error",showAlert:!0}),a()}}}}),To=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},io(e)),{},{ticketContent:{marginTop:-20},ticketActions:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",alignSelf:"flex-end",paddingLeft:25,paddingRight:25,marginTop:22},multiSelect:{marginTop:10,marginBottom:15},categorySelect:{marginBottom:5},gridDeadline:{marginTop:-10}})}),{withTheme:!0}),zr((function(e){var t=e.ticket;return{title:t.title,priority:t.priority,deadline:t.deadline,cost:t.cost,locationId:t.location.id,categoryId:t.category.id,assigneeIds:Object(S.map)(t.assignees,(function(e){return e.id})),ticketTagIds:Object(S.map)(t.ticket_tags,(function(e){return e.id})),status:t.status}})),Object(Z.h)("isEditingTitle","setIsEditingTitle",!1),jo,Object(Z.e)({standardRefetch:function(e){var t=e.ticketFetch,a=e.ticketCommentsFetch;return function(){return a(!0),t(!0)}}}),Co,yo,ko,Ao,wo,Object(Z.e)({submitChanges:function(e){var t=e.formData.changedFields,a=e.ticket,n=e.updateTicketFetch,r=e.moveTicketFetch;return function(){var e=Object(S.first)(Object.keys(t));if(Object(S.includes)(["status","locationId"],e)){var o={variables:Object(f.a)({id:a.id},t)};return r(!0,"",null,o)}if(Object(S.includes)(["title","priority","deadline","cost","locationId","categoryId","assigneeIds","ticketTagIds"],e)){var c={variables:Object(f.a)({id:a.id},t)};return n(!0,"",null,c)}return null}}}))((function(e){var t=e.setAlert,a=e.classes,n=e.ticket,r=e.setFormData,c=e.formData,l=c.validationErrors,i=c.title,s=c.priority,m=c.deadline,u=c.locationId,d=c.categoryId,b=c.assigneeIds,p=c.ticketTagIds,g=c.status,f=c.cost,h=e.submitChanges,E=e.unarchiveTicketFetch,v=e.assignables,O=e.categories,j=e.tags,C=e.onClose,y=e.unarchiveTicketLoading,k=e.ticketFetch,w=e.ticketLoading,T=e.theme,x=e.isEditingTitle,N=e.setIsEditingTitle,D=e.updateTicketLoading,M=e.ticketCommentsFetch,I=e.deleteTicketLoading,R=e.deleteTicketFetch,L=e.updateTicketFetch,B=e.moveTicketLoading,P=e.archiveTicketFetch,_=e.archiveTicketLoading,q=ut.isMobile(),U=F.getUserData(),z=Object(S.get)(U,"role","MEMBER"),W=Qa.includes(z),V="ADMIN"===z,H=Object(S.sortBy)(Object(S.get)(U,"".concat(V?"company.":"","locations"),[]),["name"]),Y=Object(S.get)(n,"status"),G=Boolean(Object(S.get)(n,"archived_at")),Q=W&&!G,J=Boolean(D||B||w||y||_||I),X=!Q,K=Boolean(!W||J||X),Z="".concat(Object(S.get)(n,"requester.name","")," ").concat(Object(S.get)(n,"requester.lastname","")),$=Object(S.get)(n,"created_at")?A()(n.created_at).fromNow():"",ee=Object(S.get)(n,"code",""),te=Object(S.get)(n,"priority"),ae=Object(S.get)(n,"location.id",""),ne=Object(S.get)(n,"category.id",""),re=Object(S.get)(n,"is_standby"),oe=Object(S.compact)([Object(S.get)(n,"category")].concat(O||[])),ce=Object(S.sortBy)(Object(S.uniqBy)(oe,"id"),"title"),le=Object(S.map)(Object(S.filter)(v,(function(e){return Object(S.includes)(b,e.id)})),(function(e){return"".concat(e.name," ").concat(e.lastname)})).join(", "),ie=Object(S.map)(Object(S.get)(n,"ticket_tags"),(function(e){return e.title})).join(", ");X&&(te=Object(S.get)(Object(S.find)(vo,(function(e){return e.key===te})),"label",""),ae=Object(S.get)(Object(S.find)(H,(function(e){return e.id===ae})),"name",""),ne=Object(S.get)(Object(S.find)(O,(function(e){return e.id===ne})),"title",""),Y=Object(S.get)(Object(S.find)(Oo,(function(e){return e.key===Y})),"label",""));var de=T.mainColor,be=function(){window.document.querySelector("#title").focus(),N(!0)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Vr.a,null,o.a.createElement(Qe.a,{multiline:!0,id:"title",disabled:K,InputProps:{disableUnderline:!0,style:{color:"#000",fontSize:20,width:q?300:350,backgroundColor:x?"#E0E0E0":"",borderRadius:x?5:"",paddingLeft:5},endAdornment:o.a.createElement(Kr.a,{position:"end"},W&&!q&&!x&&!K&&o.a.createElement(tt.a,{onClick:be,disabled:J||K},D?o.a.createElement(se.a,{color:de,className:a.progress,variant:"indeterminate",disableShrink:!0,thickness:5,size:25}):!x&&o.a.createElement(go.a,{fontSize:"small"})))},value:i,onFocus:be,onKeyDown:function(e){e.stopPropagation(),13!==e.keyCode||Object(S.isEmpty)(i)?27===e.keyCode&&N(!1):(h(),N(!1))},onBlur:function(){h(),N(!1)},onChange:function(e){return r({title:e.target.value})}},l.title&&o.a.createElement(gt.a,null,"T\xedtulo n\xe3o pode ficar em branco")),o.a.createElement("br",null),o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},w?"":"#".concat(ee," - ").concat($," por "),o.a.createElement("b",null,Z)),o.a.createElement(tt.a,{className:a.closeButton,onClick:C},o.a.createElement(et.a,null))),o.a.createElement(Hr.a,{className:a.ticketContent},o.a.createElement(It,{errors:Object(S.get)(l,"status",[]),label:"Status",value:g,disabled:J||!Q,readOnly:X,onChangeValue:function(e){return r({status:e})},onClose:h,options:Oo,optionValueField:"key",size:"small"}),Object(S.size)(H)>1&&o.a.createElement(It,{errors:Object(S.get)(l,"location_id",[]),label:"Local",value:u,disabled:J||!Q,readOnly:X,onChangeValue:function(e){return r({locationId:e})},onClose:h,options:H,optionValueField:"id",optionLabelField:"name",size:"small"}),o.a.createElement(It,{errors:Object(S.get)(l,"category_id",[]),label:"Categoria",value:d,disabled:J||!Q,readOnly:X,className:a.categorySelect,onChangeValue:function(e){return r({categoryId:e})},onClose:h,options:ce,optionValueField:"id",optionLabelField:"title",size:"small"}),Object(S.size)(j)?X?o.a.createElement(ht,{label:"Etiquetas",value:ie,disabled:J||X,readOnly:X,size:"small"}):o.a.createElement(pt.a,{fullWidth:!0,margin:"dense",variant:"outlined",className:a.multiSelect,error:!!l.ticket_tags},o.a.createElement(St.a,{shrink:!0},"Etiquetas"),o.a.createElement(Dt.a,{error:!!l.ticket_tags,label:"Etiquetas",multiple:!0,value:p,onChange:function(e){return r({ticketTagIds:e.target.value})},onClose:h,disabled:J||X,size:"small"},j.map((function(e){return o.a.createElement(Mt.a,{key:e.id,value:e.id},e.title)}))),l.ticket_tags&&o.a.createElement(gt.a,null,l.ticket_tags)):o.a.createElement(o.a.Fragment,null),X?o.a.createElement(ht,{label:"Respons\xe1veis",value:le,disabled:J||X,readOnly:X,size:"small"}):o.a.createElement(pt.a,{fullWidth:!0,margin:"dense",variant:"outlined",className:a.multiSelect,error:!!l.assignees},o.a.createElement(St.a,{shrink:!0},"Respons\xe1veis"),o.a.createElement(Dt.a,{error:!!l.assignees,label:"Respons\xe1veis",multiple:!0,value:b,onChange:function(e){return r({assigneeIds:e.target.value})},onClose:h,disabled:J||X,size:"small"},v.map((function(e){return o.a.createElement(Mt.a,{key:e.id,value:e.id},"".concat(e.name," ").concat(e.lastname))}))),l.assignees&&o.a.createElement(gt.a,null,l.assignees)),o.a.createElement(me.a,{container:!0,direction:"row",justify:"flex-start",spacing:1,className:a.gridDeadline},o.a.createElement(me.a,{item:!0,xs:W?4:6},o.a.createElement(Bt,{errors:Object(S.get)(l,"deadline"),label:"Prazo",value:m,disabled:J||X,readOnly:X,size:"small",onChangeValue:function(e){r({deadline:e&&e.format()}),setTimeout(h,10)}})),o.a.createElement(me.a,{item:!0,xs:W?4:6},o.a.createElement(It,{errors:Object(S.get)(l,"priority",[]),label:"Prioridade",value:s,disabled:J||!Q,readOnly:X,onChangeValue:function(e){return r({priority:e})},onClose:h,options:vo,optionValueField:"key",size:"small"})),W?o.a.createElement(me.a,{item:!0,xs:4},o.a.createElement(jt,{errors:Object(S.get)(l,"cost",[]),label:"Custo",value:f,disabled:J||!Q,readOnly:X,size:"small",onBlurValue:function(e){var t={variables:{id:n.id,cost:fo.fromCurrencyToNumber(e)}};L(!0,"",null,t)},onChangeValue:function(e){return r({cost:e})}})):o.a.createElement(o.a.Fragment,null))),!G&&W&&o.a.createElement(Yr.a,{className:a.ticketActions},re?o.a.createElement(o.a.Fragment,null):o.a.createElement(ue.a,{color:"default",size:"medium",variant:"outlined",onClick:function(){Q&&window.confirm("Tem certeza em arquivar esse ticket?")&&P(!0)},disabled:J},"Arquivar"),o.a.createElement(Eo,{setAlert:t,ticket:n,isFormLoading:J,onSuccess:function(){k(!0),M(!0)}})),G&&W&&o.a.createElement(Yr.a,{className:a.ticketActions},o.a.createElement(ue.a,{color:"default",size:"medium",variant:"outlined",onClick:function(){return E(!0)},disabled:J},"DESARQUIVAR"),o.a.createElement(ue.a,{color:"secondary",size:"medium",variant:"outlined",onClick:function(){W&&window.confirm("Deseja excluir este ticket? Essa a\xe7\xe3o \xe9 irrevers\xedvel.")&&R(!0)},disabled:J},"EXCLUIR TICKET")))})),xo=a(922),No=a(541),So=a.n(No),Do=a(151),Mo=a.n(Do),Io=a(542),Fo=a.n(Io),Ro={attributes:{target:"_blank",rel:"noopener noreferrer"}},Lo=function(e){return Fo()({input:e,options:Ro})},Bo=Object(r.memo)((function(e){var t=e.comment,a=e.classes,n=e.deleteCommentFetch,r=e.deleteCommentLoading,c=v()(t,"is_internal"),l=c?a.internalBallon:"",i=F.getUserData(),s=v()(i,"id"),m=v()(t,"member_id",""),u=v()(t,"member.job_role")?"- ".concat(v()(t,"member.job_role")):"",d=v()(t,"member.photo_url",P.systemPhotoUrl),b=v()(t,"is_activity"),p=So()(t.content||""),g=c&&!b?" - Interno":"",f=b?p:u;return o.a.createElement("div",null,o.a.createElement("div",{className:a.userNameContainer},o.a.createElement(Va,{name:t.author_fullname,photoUrl:d}),o.a.createElement(ge.a,{variant:"subtitle2",className:a.userName},o.a.createElement("b",null,t.author_fullname),"\xa0",o.a.createElement(ge.a,{variant:"body2",component:"span"},f),b&&o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},o.a.createElement("br",null),"".concat(A()(v()(t,"created_at")).calendar()).concat(g)))),o.a.createElement("div",{className:a.content},!b&&o.a.createElement(o.a.Fragment,null,t.attachment_data&&o.a.createElement(Kt,{file:t.attachment_data,outterContainerClassName:a.previewButtonContainer}),t.content&&o.a.createElement("div",{className:"".concat(a.baloon," ").concat(l)},o.a.createElement("div",{className:t.attachment_data&&a.contentWithMargin},(t.content||"").split("\n").map((function(e,t){return o.a.createElement("span",{key:"".concat(Date.now(),"_").concat(t.toString())},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:Lo(e)}}),o.a.createElement("br",null))})))),o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},"".concat(A()(v()(t,"created_at")).calendar()).concat(g)),m&&s===m&&o.a.createElement(Mo.a,{className:a.iconButton,onClick:function(){window.confirm("Deseja excluir o coment\xe1rio? Essa a\xe7\xe3o \xe9 irrevers\xedvel")&&n(!0)},disabled:r}))))})),Po=ca(bo.deleteComment,{name:"deleteComment",init:!1,options:function(e){var t=e.comment,a=e.setAlert,n=e.fetchComments;return{variables:{id:v()(t,"id")},onRequestFinished:function(){a({alertMsg:"Coment\xe1rio exclu\xeddo com sucesso",alertType:"success",showAlert:!0});var e={id:v()(t,"id"),content:v()(t,"content")};G.hit("TicketComment - Deleted",e),n()},onRequestError:function(){a({alertMsg:"Erro ao excluir coment\xe1rio",alertType:"error",showAlert:!0})}}}}),_o=Object(Z.b)(r.memo,Object($.a)((function(){return{userNameContainer:{display:"flex",alignItems:"space-between",flexDirection:"row",marginTop:15},userName:{marginLeft:10},content:{marginLeft:40,marginBottom:20},baloon:{backgroundColor:"#fff",borderRadius:5,paddingLeft:15,paddingRight:15,paddingTop:10,paddingBottom:10,marginBottom:5,height:"auto",wordBreak:"break-word",whiteSpace:"pre-line"},internalBallon:{backgroundColor:"#fff3d7"},previewButtonContainer:{display:"flex",width:"fit-content",backgroundColor:"white",marginBottom:5},contentWithMargin:{marginTop:10},iconButton:{fontSize:22,paddingLeft:5,verticalAlign:"bottom",cursor:"pointer"}}}),{withTheme:!0}),Po)(Bo),qo=ca(bo.sendComment,{name:"sendTicketComment",init:!1,options:function(e){var t=e.setFile,a=e.onAttachmentSent,n=e.onUploadError;return{onRequestFinished:function(){t(null),a&&a()},onRequestError:function(e){t(null),n(e)}}}}),Uo=Object(Z.b)(r.memo,Object(Z.h)("file","setFile",null),qo,Object(Z.e)({onUploadSuccess:function(e){var t=e.ticketId,a=e.isInternal,n=e.setFile,r=e.sendTicketCommentFetch;return function(e){n(Object(f.a)(Object(f.a)({},e),{},{progressPercent:99})),r(!0,null,null,{variables:{id:t,attachmentData:e,content:null,isInternal:a}})}},onUploadError:function(e){var t=e.onUploadError,a=e.setFile;return function(e){a(null),t&&t(e)}}}))((function(e){var t=e.file,a=e.setFile,n=e.onUploadSuccess,r=e.disabled,c=e.onUploadError,l=e.size;return o.a.createElement(Zt,{value:t,onChange:a,onUploadSuccess:n,disabled:r,size:l,accept:"image/*,.doc,.docx,.xls,.xlsx,.pdf,.xml",buttonProps:{style:{backgroundColor:"#fff"}},sizeLimit:10,onUploadError:c})})),zo=ca(bo.sendComment,{name:"sendTicketComment",init:!1,options:function(e){var t=e.ticket,a=e.commentMessage,n=e.setCommentMessage,r=e.onClose,o=e.ticketCommentsFetch;return{variables:Object(f.a)({id:Object(S.get)(t,"id")},a),onRequestFinished:function(){n(Wo),o(!1)},onRequestError:function(e){var a={id:Object(S.get)(t,"id"),title:Object(S.get)(t,"title")};G.hit("TicketModal - Closed",a),r(e,"Erro ao enviar um coment\xe1rio para esse ticket")}}}}),Wo={content:"",isInternal:!1},Vo=Object(Z.b)(r.memo,Object(Z.h)("commentMessage","setCommentMessage",Wo),Object($.a)((function(e){return Object(f.a)(Object(f.a)({},io(e)),{},{commentContent:{marginTop:-20,paddingLeft:20,paddingRight:20},commentArea:{height:315,minHeight:315,maxHeight:315,marginBottom:15,overflowY:"scroll"},commentHeaderContainer:{display:"flex",alignItems:"center"},isInternalSwitch:{marginLeft:"1rem"},commentActions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-end",alignSelf:"flex-end",paddingLeft:20,paddingRight:20,paddingBottom:20}})}),{withTheme:!0}),zo,Object(Z.f)((function(e){return{canComment:function(e){var t=e.ticket,a=e.isAgentUser,n=e.isMemberRequester;return!Boolean(t.archived_at)&&(!!n||(t.viewer_is_only_participant||t.viewer_is_assignee||a))}(e)}})))((function(e){var t=e.classes,a=e.ticketCommentsFetch,n=e.ticketCommentsData,r=e.ticketCommentsLoading,c=e.commentMessage,l=e.setCommentMessage,i=e.sendTicketCommentFetch,s=e.sendTicketCommentLoading,m=e.archiveTicketLoading,u=e.unarchiveTicketLoading,d=e.setAlert,b=e.isAgentUser,p=e.ticket,g=e.canComment,h=Object(S.sortBy)(Object(S.get)(n,"ticket_comments",[]),["created_at"]).reverse(),E=Boolean(!g||s||r||m||u),v=E||Object(S.isEmpty)(Object(S.get)(c,"content",""));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Hr.a,{className:t.commentContent},o.a.createElement("div",{className:t.commentArea},r?o.a.createElement(pe,null):Object(S.map)(h,(function(e){return o.a.createElement(_o,{key:e.id,comment:e,setAlert:d,fetchComments:a})}))),o.a.createElement("div",{className:t.commentHeaderContainer},o.a.createElement(ge.a,{variant:"h6"},"Comentar"),b&&o.a.createElement(_t.a,{className:t.isInternalSwitch,control:o.a.createElement(xo.a,{checked:c.isInternal,onChange:function(){return l(Object(f.a)(Object(f.a)({},c),{},{isInternal:!c.isInternal}))},color:"primary"}),label:"Interno",disabled:E})),o.a.createElement(ht,{multiline:!0,rows:3,rowsMax:3,placeholder:"Escreva seu coment\xe1rio aqui...",classes:{root:t.bgWhite},value:c.content,onChange:function(e){return l(Object(f.a)(Object(f.a)({},c),{},{content:e.target.value}))},disabled:E})),o.a.createElement(Yr.a,{className:t.commentActions},o.a.createElement(Uo,{size:"medium",ticketId:Object(S.get)(p,"id"),isInternal:c.isInternal,disabled:!!E,onAttachmentSent:function(){return a(!0)},onUploadError:function(e){d({alertMsg:e.message,alertType:"error",showAlert:!0})}}),o.a.createElement(ue.a,{color:"primary",size:"medium",variant:"contained",onClick:function(){g&&i(!0)},disabled:v},"ENVIAR")))})),Ho=a(918),Yo=a(543),Go=a.n(Yo),Qo={getMembers:function(e){var t=er.a.toSnakeCase(Object(S.pick)(e,["onlyActive","locationId"]));return U.get("/members",t)},getMember:function(e){return U.get("/members/".concat(e))},blockMember:function(e){return U.put("/members/".concat(e,"/block"))},updateMember:function(e){var t=e.id,a=e.name,n=e.lastname,r=e.phone,o=e.role,c=e.job_role,l=e.locationIds;return U.put("/members/".concat(t),{id:t,name:a,lastname:n,phone:r,role:o,job_role:c,location_ids:l})},emailCheck:function(e){return U.get("/members/email_check",{email:e})},createMember:function(e){var t=e.name,a=e.lastname,n=e.phone,r=e.role,o=e.email,c=e.jobRole,l=e.locationIds;return U.post("/members?send_invite=true",{name:t,lastname:a,phone:n,role:r,email:o,job_role:c,location_ids:l})},resendInvitationEmail:function(e){return U.get("/members/resend_invitation_email",{id:e})},unblockMember:function(e){return U.put("/members/".concat(e,"/unblock"))}},Jo=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{container:{display:"flex",alignItems:"center"},name:{marginLeft:e.spacing(1)}})}),{withTheme:!0}),r.memo)((function(e){var t=e.classes,a=e.name,n=e.photoUrl,r=e.onlyImage;return o.a.createElement("div",{className:t.container},o.a.createElement(Va,{name:a,photoUrl:n}),r||o.a.createElement("span",{className:t.name},a))})),Xo=function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{ticketContent:{marginTop:-20},ticketActions:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",alignSelf:"flex-end",paddingLeft:25,paddingRight:25,paddingBottom:20,marginTop:22},bgCommentDialog:{backgroundColor:"rgb(242, 243, 248)"},title:{marginBottom:0},editButton:{position:"absolute",right:e.spacing(75),top:e.spacing(1),color:e.palette.grey[500]},inputLabel:{color:"rgba(0, 0, 0, 0.54)"},multiSelect:{marginTop:10,marginBottom:15},categorySelect:{marginBottom:5},gridDeadline:{marginTop:-10}})},Ko=ca(Qo.getMembers,{name:"members",props:function(e){var t=e.membersData,a=e.ownProps.ticket.participants;return{members:Object(S.differenceBy)(Object(S.get)(t,"members",[]),a,(function(e){return e.id}))}},options:function(){return{variables:{onlyActive:!0}}}}),Zo=ca(yr.createParticipant,{name:"createParticipant",init:!1,options:function(e){var t=e.setAlert,a=e.formData.changedFields,n=e.ticket,r=e.refetch;return{variables:Object(f.a)({id:n.id},a),onRequestFinished:r,onRequestError:function(e){P.isDevelopment&&e&&console.error(e),t({alertMsg:"Erro ao adicionar participante",alertType:"error",showAlert:!0})}}}}),$o=ca(yr.destroyParticipant,{name:"destroyParticipant",init:!1,options:function(e){var t=e.setAlert,a=e.refetch,n=e.setFormData;return{onRequestFinished:a,onRequestError:function(e){P.isDevelopment&&e&&console.error(e),t({alertMsg:"Erro ao remover participante",alertType:"error",showAlert:!0}),n({participantId:""})}}}}),ec=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Xo(e)),{},{removeButton:{marginLeft:e.spacing(2)},limitedSizeScrollable:{maxHeight:"38vh",overflowY:"auto"},participantContent:{paddingTop:"9px !important"}})}),{withTheme:!0}),zr((function(){return{participantId:""}})),Nr,Ko,Zo,$o,Object(Z.f)((function(e){var t=e.ticketLoading,a=e.createParticipantLoading,n=e.destroyParticipantLoading;return{loading:t||a||n}})),Object(Z.e)({createParticipant:function(e){var t=e.createParticipantFetch;return function(){return t(!0)}},destroyParticipant:function(e){var t=e.viewer,a=e.destroyParticipantFetch,n=e.ticket;return function(e){if(window.confirm("Deseja realmente remover o participante?")){var r=!1;t.is_agent&&Object(S.includes)(Object(S.map)(n.assignees,(function(e){return e.id})),e)&&(r=window.confirm("Esse participante \xe9 um respons\xe1vel do ticket. Deseja excluir como respons\xe1vel tamb\xe9m?")),a(!0,"",null,{variables:{id:n.id,participantId:e,destroyAssignee:r}})}}}}))((function(e){var t=e.classes,a=e.viewer,n=e.setFormData,r=e.formData,c=r.validationErrors,l=r.participantId,i=e.ticket.participants,s=e.members,m=e.loading,u=e.createParticipant,d=e.destroyParticipant;return o.a.createElement(Hr.a,{className:t.participantContent},a.is_agent&&o.a.createElement(It,{label:"Usu\xe1rios",errors:c.participants,disabled:m,value:l,onChangeValue:function(e){n({participantId:e}),e&&u()},options:s.map((function(e){return{label:e.fullname,value:e.id}})),emptyOptionLabel:"Adicione um participante"}),o.a.createElement(dr.a,{mt:1,mx:[0,"10%"],className:t.limitedSizeScrollable},o.a.createElement(rn.a,null,Object(S.map)(i,(function(e){return o.a.createElement(fn.a,{key:e.id},o.a.createElement(Jo,{name:e.fullname,photoUrl:e.photoUrl}),(a.is_agent||a.id===e.id)&&o.a.createElement(Ho.a,null,o.a.createElement(tt.a,{disabled:m,onClick:function(){return d(e.id)},className:t.removeButton},o.a.createElement(Go.a,null))))})))))})),tc=Sr.PRIORITIES,ac=Sr.STATUSES,nc=function(e){var t=e.children,a=e.activeTabValue,n=e.value;return o.a.createElement("div",{hidden:a!==n,id:"scrollable-force-tabpanel-".concat(n)},a===n&&t)},rc=Object(r.memo)((function(e){var t=e.setAlert,a=e.classes,n=e.categories,r=e.tags,c=e.open,l=e.onClose,i=e.unarchiveTicketLoading,s=e.currentTicket,m=e.ticketFetch,u=e.ticketLoading,d=e.ticketCommentsFetch,b=e.ticketCommentsData,p=e.ticketCommentsLoading,g=e.archiveTicketLoading,f=e.activeTab,h=e.setActiveTab;if(!c)return null;var E=F.getUserData(),v=Object(S.sortBy)(Object(S.get)(E,"locations",[]),["name"]),O=Object(S.get)(E,"role","MEMBER"),j=Qa.includes(O),C=Object(S.get)(s,"requester.id"),y=Object(S.get)(E,"id"),k=Object(S.get)(s,"status"),A=Boolean(Object(S.get)(s,"archived_at")),w=C&&y&&y===C,T=!(j&&!A),x=Object(S.get)(s,"priority"),N=Object(S.get)(s,"location.id",""),D=Object(S.get)(s,"category.id","");T&&(x=Object(S.get)(Object(S.find)(tc,(function(e){return e.key===x})),"label",""),N=Object(S.get)(Object(S.find)(v,(function(e){return e.id===N})),"name",""),D=Object(S.get)(Object(S.find)(n,(function(e){return e.id===D})),"title",""),k=Object(S.get)(Object(S.find)(ac,(function(e){return e.key===k})),"label",""));var M=Object(Na.a)(),I=Object(Sa.a)(M.breakpoints.down("sm")),R=function(){var e={id:Object(S.get)(s,"id"),title:Object(S.get)(s,"title")};G.hit("TicketModal - Closed",e),l()};return o.a.createElement(Wr.a,{open:c,fullScreen:I,onClose:R,keepMounted:!0,fullWidth:!0,maxWidth:"md"},o.a.createElement(me.a,{container:!0},o.a.createElement(me.a,{item:!0,xs:12,sm:12,md:5},o.a.createElement(To,{setAlert:t,ticket:s,categories:n,ticketFetch:m,ticketLoading:u,tags:r,ticketCommentsFetch:d,onClose:R})),o.a.createElement(me.a,{item:!0,xs:12,md:7,className:a.bgCommentDialog},o.a.createElement(me.a,{item:!0,xs:12,md:11,className:a.bgCommentDialog},o.a.createElement(Vr.a,null,o.a.createElement(Mn.a,{value:f,onChange:function(e,t){return h(t)},indicatorColor:"primary"},o.a.createElement(In.a,{label:"Atividade"}),o.a.createElement(In.a,{label:"Participantes (".concat(Object(S.get)(s,"participants_total_count",0),")")})))),o.a.createElement(nc,{value:0,activeTabValue:f},o.a.createElement(Vo,{setAlert:t,ticket:s,ticketCommentsFetch:d,ticketCommentsData:b,ticketCommentsLoading:p,isMemberRequester:w,archiveTicketLoading:g,unarchiveTicketLoading:i,isAgentUser:j,onClose:l})),o.a.createElement(nc,{value:1,activeTabValue:f},o.a.createElement(ec,{setAlert:t,ticket:s,ticketLoading:u,refetch:function(){m(!0),d(!0)}})))))})),oc=ca(bo.getComments,{name:"ticketComments",init:!1,options:function(e){var t=e.ticket;return{variables:Object(S.get)(t,"id")}}}),cc=ca(yr.getTicket,{name:"ticket",init:!1,options:function(e){var t=e.ticket,a=e.setCurrentTicket,n=e.onClose;return{variables:Object(S.get)(t,"id"),onRequestFinished:function(e){a(Object(S.get)(e,"ticket"))},onRequestError:function(e){var a={id:Object(S.get)(t,"id"),title:Object(S.get)(t,"title")};G.hit("TicketModal - Closed",a),n(e,"Erro ao abrir esse ticket")}}}}),lc=Object(Z.b)(Object($.a)(Xo,{withTheme:!0}),h.g,Object(Z.e)({setFormData:function(e){var t=e.setFormDataRaw,a=e.formData;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),Object(Z.h)("currentTicket","setCurrentTicket",{}),Object(Z.h)("selectedAssignees","setSelectedAssignees",[]),Object(Z.h)("selectedTags","setSelectedTags",[]),Object(Z.h)("initialTitle","setInitialTitle",""),Object(Z.h)("lastTitle","setLastTitle",""),Object(Z.h)("activeTab","setActiveTab",0),oc,cc,Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.ticket,a=e.setCurrentTicket,n=e.setSelectedAssignees,r=e.setSelectedTags;n(Object(S.map)(Object(S.get)(t,"assignees"),(function(e){return e.id}))),r(Object(S.map)(Object(S.get)(t,"ticket_tags"),(function(e){return e.id}))),a(t)}}),Object(Z.g)(["open"],(function(e){var t=e.open,a=e.setCurrentTicket,n=e.setSelectedAssignees,r=e.ticketFetch,o=e.ticketCommentsFetch,c=e.ticket,l=e.setInitialTitle,i=e.setSelectedTags;if(t){var s={id:Object(S.get)(c,"id"),title:Object(S.get)(c,"title")};G.hit("TicketModal - Opened",s),Object(S.get)(c,"mark_as_read")||Object(S.get)(c,"viewer_is_only_participant")||yr.markAsRead(c.id),a(c),n(Object(S.map)(Object(S.get)(c,"assignees"),(function(e){return e.id}))),i(Object(S.map)(Object(S.get)(c,"ticket_tags"),(function(e){return e.id}))),l(Object(S.get)(c,"title")),r(!0),o(!0)}})))(rc),ic=function(e){return Object(f.a)(Object(f.a)({},io(e)),{},{paper:{overflowX:"auto",marginRight:"auto",marginLeft:"auto"},showMore:{display:"flex",margin:"0 auto",padding:15}})},sc=Sr.STATUSES,mc=Object(r.memo)((function(e){var t=e.ticket,a=e.viewer,n=e.index,r=e.classes,c=e.onOpenTicket;if(!a)return null;var l=Object(S.get)(t,"created_at"),i=l?"".concat(A()(l).format("DD/MM/YYYY hh:mm")):"--",s=Object(S.get)(t,"archived_at"),m=s?"".concat(A()(s).format("DD/MM/YYYY hh:mm")):"--",u=Object(S.get)(t,"assignees",[]),d=Object(S.get)(t,"ticket_tags",[]),b=Object(S.get)(Object(S.find)(sc,(function(e){return e.key===Object(S.get)(t,"status")})),"label","--"),p=n%2?r.bgWhite:r.bgGray;return o.a.createElement(Aa.a,{className:p,style:{cursor:"pointer"},onClick:function(){return c(t)}},o.a.createElement(wa.a,{className:r.tableTinyCell},o.a.createElement("span",{className:r.cellText},b)),o.a.createElement(wa.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},Object(S.get)(t,"title"))),o.a.createElement(wa.a,{className:r.tableTinyCell},o.a.createElement("span",{className:r.cellText},Object(S.get)(t,"category.title"))),o.a.createElement(wa.a,{className:r.tableTinyCell},o.a.createElement("span",{className:r.cellText},d.map((function(e){return e.title})).join(", "))),o.a.createElement(wa.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},i)),o.a.createElement(wa.a,{className:r.tableSmallCell},o.a.createElement("div",{className:r.cardAvatarContainer},u.map((function(e){return o.a.createElement("div",{key:e.id,className:r.cardAvatarImage},o.a.createElement(Va,{name:"".concat(Object(S.get)(e,"name")," ").concat(Object(S.get)(e,"lastname")),photoUrl:Object(S.get)(e,"photo_url")}))})))),o.a.createElement(wa.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},m)))})),uc=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},ic(e)),{},{cardAvatarImage:{marginRight:5,marginTop:5},cardAvatarContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap"}})}),{withTheme:!0}),Nr)(mc),dc=Object(r.memo)((function(e){var t=e.tickets,a=e.loading,n=e.setAlert,r=e.categories,c=e.tags,l=e.assignees,i=e.classes,s=e.ticketToOpenModal,m=e.onCloseTicketModal,u=e.onOpenTicketModal,d=e.showMore,b=e.showMoreLoading,p=e.onShowMoreArchiveds,g=Oa()(t,["archived_at"]).reverse();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.container},o.a.createElement(Za.a,{className:i.paper},o.a.createElement(ya.a,null,o.a.createElement(ka.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:i.tableTinyCell},"STATUS"),o.a.createElement(wa.a,{className:i.tableSmallCell},"TICKET"),o.a.createElement(wa.a,{className:i.tableTinyCell},"CATEGORIA"),o.a.createElement(wa.a,{className:i.tableSmallCell},"ETIQUETAS"),o.a.createElement(wa.a,{className:i.tableSmallCell},"SOLICITADO EM"),o.a.createElement(wa.a,{className:i.tableSmallCell},"RESPONS\xc1VEIS"),o.a.createElement(wa.a,{className:i.tableSmallCell},"ARQUIVADO EM"))),o.a.createElement(xa.a,null,a?o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{colSpan:7,align:"center"},o.a.createElement(pe,null))):ua()(g)?g.map((function(e,t){return o.a.createElement(uc,{index:t,key:e.id,ticket:e,onOpenTicket:u,loading:a})})):o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:i.empty,colSpan:7,align:"center"},"Nenhum ticket arquivado")))),d&&o.a.createElement(ue.a,{color:"primary",size:"large",onClick:p,disabled:b,className:i.showMore},b?"Carregando...":"Ver mais arquivados"))),o.a.createElement(lc,{open:!uo()(s),ticket:s,categories:r,tags:c,assignees:l,onClose:m,setAlert:n}))})),bc=Object(Z.b)(Object($.a)(ic,{withTheme:!0}))(dc),pc=Object(r.memo)((function(e){var t=e.classes,n=e.history,r=Object(Na.a)(),c=Object(Sa.a)(r.breakpoints.down("sm")),l=c?275:480,i=c?76:132;return o.a.createElement("section",{className:t.welcome},o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.root},o.a.createElement(ge.a,{variant:"h5",className:t.center},o.a.createElement("b",null,"Organize suas demandas")),o.a.createElement("p",{className:t.center},"Organize de forma inteligente as demandas de seu ambiente de trabalho.",o.a.createElement("br",null),"Todos colaboradores podem abrir solicita\xe7\xf5es facilmente, seja no computador, celular, QR code ou Slack.",o.a.createElement("br",null),"Chega de dor de cabe\xe7a com planilhas ou sistemas que n\xe3o te servem mais."),o.a.createElement("p",{className:t.center},o.a.createElement("img",{src:a(734),width:l,height:i,alt:"Organize suas demandas"})),o.a.createElement("br",null),o.a.createElement("p",{className:t.center},o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",onClick:function(){F.setTicketsWelcomeVisited(),n.replace("/tickets")}},"Come\xe7ar")))))})),gc=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{welcome:{marginTop:30}})}),{withTheme:!0}),h.g)(pc),fc=a(547),hc=a.n(fc),Ec=a(546),vc=a.n(Ec),Oc=a(186),jc={kanban:{display:"inline-flex",userSelect:"none",alignItems:"center",justifyContent:"center",height:740},column:{margin:10,display:"flex",flexDirection:"column",marginBottom:10,minWidth:328,height:740},columnLoading:{transition:"background-color 500ms fade-out 1s",backgroundColor:"rgba(96, 115, 137, 0.04)"},columnHeader:{display:"flex",alignItems:"center",justifyContent:"center",border:0,backgroundColor:"rgba(96, 115, 137, 0.04)",transition:"background-color 0.1s ease",height:50,userSelect:"none"},columnTitle:{padding:10,transition:"background-color ease 0.2s",flexGrow:1,userSelect:"none",position:"relative",fontSize:14,fontWeight:600,color:"#515c6a"},columnTitleLoading:{color:"rgb(224, 224, 224)"},list:{backgroundColor:"#F2F3F8",display:"flex",flexDirection:"column",padding:10,borderRadius:8,paddingBottom:0,transition:"background-color 0.1s ease, opacity 0.1s ease",userSelect:"none",minHeight:250,marginBottom:10},card:{cursor:"pointer",height:"auto"},cardContent:{flexGrow:1,flexBasis:"100%",display:"flex",flexDirection:"column",marginBottom:8}},Cc=Object(r.memo)((function(e){var t=e.provided,a=void 0===t?{}:t,n=e.children;return o.a.createElement("a",Object.assign({style:jc.card,ref:a.innerRef},a.draggableProps,a.dragHandleProps),n)}));Cc.propTypes={children:ne.a.any,provided:ne.a.any};var yc=Object(r.memo)((function(e){var t=e.provided,a=e.renderCard,n=e.row,r=e.cardWrapperStyle,c=e.disableDragDrop;return o.a.createElement(Cc,{provided:c?{}:t},o.a.createElement("div",{style:Object(f.a)(Object(f.a)({},jc.cardContent),r)},a(n)))})),kc=Object(r.memo)((function(e){var t=e.provided,a=void 0===t?{}:t,n=e.style,r=e.children;return o.a.createElement("div",Object.assign({style:Object(f.a)(Object(f.a)({},jc.list),n),ref:a.innerRef},a.droppableProps),r)}));kc.propTypes={children:ne.a.any,provided:ne.a.any,style:ne.a.any};var Ac=Object(r.memo)((function(e){var t=e.column,a=e.cardWrapperStyle,n=e.renderCard,r=e.disableDragDrop,c=uo()(v()(t,"rows"))?[]:t.rows;return j()(c,(function(e,t){return r?o.a.createElement(yc,{key:t,row:e,renderCard:n,cardWrapperStyle:a,disableDragDrop:r}):o.a.createElement(Oc.b,{key:e.id,draggableId:e.id,index:t},(function(c,l){return o.a.createElement(yc,{key:t,row:e,provided:c,dragSnapshot:l,renderCard:n,cardWrapperStyle:a,disableDragDrop:r})}))}))})),wc=Object(r.memo)((function(e){var t=e.listStatus,a=e.column,n=e.disableDragDrop,r=e.renderCard,c=e.columnStyle,l=e.cardWrapperStyle,i=e.isDraggingFrom;return n?o.a.createElement(kc,{style:c},o.a.createElement(Ac,{column:a,renderCard:r,disableDragDrop:n,cardWrapperStyle:l})):o.a.createElement(Oc.c,{droppableId:t||"ROW",isDropDisabled:i,type:"ROW"},(function(e){return o.a.createElement(kc,{style:c,provided:e},o.a.createElement(Ac,{column:a,renderCard:r,disableDragDrop:n,cardWrapperStyle:l}),e.placeholder)}))}));wc.propTypes={listStatus:ne.a.string,renderCard:ne.a.func,column:ne.a.object,columnStyle:ne.a.object,cardWrapperStyle:ne.a.object,disableDragDrop:ne.a.bool,isDraggingFrom:ne.a.bool};var Tc=wc,xc=Object(r.memo)((function(e){var t=e.index,a=e.column,n=e.renderCard,r=e.columnStyle,c=e.columnWrapperStyle,l=e.cardWrapperStyle,i=e.columnTitleStyle,s=e.columnHeaderStyle,m=e.disableDragDrop,u=e.loading,d=e.isDraggingFrom,b=e.actionComponent;return o.a.createElement("div",{style:Object(f.a)(Object(f.a)({},jc.column),c)},o.a.createElement("header",{style:Object(f.a)(Object(f.a)({},jc.columnHeader),s)},o.a.createElement("h4",{style:Object(f.a)(Object(f.a)(Object(f.a)({},jc.columnTitle),i),u?jc.columnTitleLoading:{})},"".concat(v()(a,"title")," (").concat(ua()(v()(a,"rows")),")")),b),o.a.createElement(Tc,{key:t,columnStyle:r,column:a,loading:u,listStatus:v()(a,"status"),renderCard:n,cardWrapperStyle:l,disableDragDrop:m,isDraggingFrom:d}))}));xc.propTypes={index:ne.a.number,renderCard:ne.a.func,loading:ne.a.bool,column:ne.a.object,columnWrapperStyle:ne.a.object,columnStyle:ne.a.object,columnTitleStyle:ne.a.object,columnHeaderStyle:ne.a.object,cardWrapperStyle:ne.a.object,disableDragDrop:ne.a.bool,actionComponent:ne.a.object,isDraggingFrom:ne.a.bool};var Nc=xc,Sc=Sr.STATUSES,Dc=Sr.STATUS_PENDING,Mc=Sr.STATUS_IN_PROGRESS,Ic=Sr.STATUS_DONE,Fc=function(e,t){return Object(S.map)(e,(function(e){return e.status})).indexOf(t)},Rc=function(e){return Object(S.map)(Sc,(function(t,a){var n=Object(S.get)(t,"key"),r=Object(S.filter)(e,(function(e){return e.status===n}));return{index:a,status:n,title:Object(S.get)(t,"label","").toUpperCase(),rows:r}}))},Lc=Object(r.memo)((function(e){var t=e.columns,a=e.setColumns,n=e.onDragEnd,r=e.renderCard,c=e.loading,l=e.columnWrapperStyle,i=e.cardWrapperStyle,s=e.columnStyle,m=e.columnHeaderStyle,u=e.columnTitleStyle,d=e.disableDragDrop,b=e.currentDraggingSource,p=e.setCurrentDraggingSource,g=e.actionPending,h=e.actionInProgress,E=e.actionDone,v=function(e){return e===Dc&&g?g:e===Mc&&h?h:e===Ic&&E?E:null};return o.a.createElement(Oc.a,{onDragStart:function(e){p(e.source)},onDragEnd:function(e){if(p(null),e.destination){var r=e.source,o=e.destination;if(r.droppableId!==o.droppableId)if(!(!o||r.droppableId===o.droppableId&&r.index===o.index)){var c=Object(S.cloneDeep)(t),l=Fc(t,r.droppableId),i=Fc(t,o.droppableId),s=Object(S.cloneDeep)(t[l].rows),m=Object(S.cloneDeep)(t[i].rows),u=s.splice(r.index,1),d=Object(At.a)(u,1)[0];m.splice(o.index,0,d),c[l].rows=Object(S.cloneDeep)(s),c[i].rows=Object(S.cloneDeep)(m),a(Object(S.cloneDeep)(c)),n(e)}}}},o.a.createElement("div",{style:jc.kanban},Object(S.map)(Sc,(function(e,a){return o.a.createElement(Nc,{key:a,index:a,loading:c,column:t[a],renderCard:r,columnHeaderStyle:m,columnTitleStyle:u,columnStyle:Object(f.a)(Object(f.a)({},s),c?jc.columnLoading:{}),columnWrapperStyle:l,cardWrapperStyle:i,disableDragDrop:d,actionComponent:v(e.key),isDraggingFrom:Object(S.get)(b,"droppableId")===e.key})}))))})),Bc=Object(Z.b)(Object(Z.h)("columns","setColumns",[]),Object(Z.h)("currentDraggingSource","setCurrentDraggingSource",null),Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.data;(0,e.setColumns)(Rc(t))}}),Object(Z.g)(["data","loading"],(function(e){var t=e.data;(0,e.setColumns)(Rc(t))})))(Lc),Pc=a(946),_c=a(937),qc=a(545),Uc=a.n(qc),zc=Object(r.memo)((function(e){var t=e.classes,a=e.ticket,n=e.loading,r=e.onClickCard,c=v()(a,"requester.fullname"),l=v()(a,"assignees"),i=v()(a,"created_at")?"".concat(A()(a.created_at).fromNow()," por "):"",s=v()(a,"title",""),m=v()(a,"category.title",""),u=v()(a,"ticket_tags",[]),d=v()(a,"is_standby",!1)?t.standbyCard:t.card;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ar.a,{className:d,onClick:function(){n||r(a)}},o.a.createElement(or.a,{className:t.cardContent},!v()(a,"viewer_has_read")&&o.a.createElement(Uc.a,{className:t.notReadIndicator}),!n&&function(e,t){if(e){var a=A()(e).format("MMM D"),n=A()().startOf("day"),r=A()(e).startOf("day"),c=r.isSame(n,"day"),l=1===r.diff(n,"days"),i=r.isBefore(n,"day");return c?o.a.createElement(Pc.a,{label:a,size:"small",className:t.cardChipToday}):l?o.a.createElement(Pc.a,{label:a,size:"small",className:t.cardChipTomorrow}):i?o.a.createElement(Pc.a,{label:a,size:"small",className:t.cardChipExpired}):o.a.createElement(Pc.a,{label:a,size:"small",className:t.cardChipFarFromExpiration})}return null}(v()(a,"deadline"),t),o.a.createElement(ge.a,{variant:"subtitle1",className:t.cardTitle},n?o.a.createElement(_c.a,{animation:"wave"}):o.a.createElement("b",null,s)),n?o.a.createElement(_c.a,{animation:"wave"}):ua()(u)?o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{variant:"body2",component:"small"},u.map((function(e){return"#".concat(e.title)})).join(" ")),o.a.createElement("br",null)):o.a.createElement(o.a.Fragment,null),n?o.a.createElement(_c.a,{animation:"wave",width:150}):o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},i,o.a.createElement("b",null,c)),o.a.createElement("div",{className:t.cardAction},o.a.createElement("div",{className:t.cardAvatar},n?o.a.createElement(_c.a,{animation:"wave",width:100}):ua()(l)?o.a.createElement("div",{className:t.cardAvatarContainer},l.map((function(e){return o.a.createElement("div",{key:v()(e,"id"),className:t.cardAvatarImage},o.a.createElement(Va,{name:v()(e,"fullname"),photoUrl:v()(e,"photo_url")}))}))):o.a.createElement(o.a.Fragment,null)),o.a.createElement(ge.a,{variant:"body2",color:"textSecondary",component:"small"},n?o.a.createElement(_c.a,{animation:"wave",width:50}):m)))))})),Wc=Object(Z.b)(Object($.a)((function(e){var t={padding:0,width:308,height:"auto",minHeight:"auto",maxHeight:"auto",borderRadius:8,boxShadow:"0 3px 3px 0 rgba(133, 133, 133, 0.2)",border:"1px solid #eee"};return{card:t,standbyCard:Object(f.a)(Object(f.a)({},t),{},{borderColor:e.palette.secondary.light}),cardContent:{marginBottom:0,paddingBottom:"5px !important"},cardAction:{marginTop:10,marginBottom:15,display:"inline-flex",width:"100%",alignItems:"center",justifyContent:"space-between"},cardTitle:{lineHeight:"1.5em",marginBottom:5},cardChipToday:{float:"right",backgroundColor:ve.a[700],color:"white"},cardChipTomorrow:{float:"right",backgroundColor:_a.a[700],color:"white"},cardChipExpired:{float:"right",backgroundColor:ve.a[200],color:"white"},cardChipFarFromExpiration:{float:"right",backgroundColor:"rgb(242, 243, 248)",color:"black"},notReadIndicator:{float:"right",fontSize:"1rem",color:e.palette.success.dark,marginLeft:e.spacing(1)},cardAvatar:{display:"inline-flex",width:"100%",height:"auto",minHeight:"auto",maxHeight:"auto",alignItems:"center"},cardAvatarName:{marginLeft:10,marginTop:0,lineHeight:"1.2em"},cardAvatarImage:{marginRight:5,marginTop:5},cardAvatarContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap"}}}),{withTheme:!0}),h.g)(zc),Vc={wrapper:{marginLeft:0,marginRight:10},header:{backgroundColor:"#FFF",padding:10,paddingTop:0,paddingBottom:0,height:60,width:"100%",borderTopLeftRadius:5,borderTopRightRadius:5},headerTitle:{color:"#313131"},column:{width:"100%",backgroundColor:"#F2F3F8",height:640,overflowY:"scroll"}},Hc=Object(r.memo)((function(e){var t=e.anchorEl,a=e.setAnchorEl,n=e.archiveFetch,r=e.archiveLoading,c=e.doneTickets,l=e.theme,i=e.classes,s=Boolean(t),m=l.mainColor;return o.a.createElement("div",null,r?o.a.createElement(se.a,{color:m,className:i.progress,variant:"indeterminate",disableShrink:!0,thickness:5,size:25}):o.a.createElement(o.a.Fragment,null,o.a.createElement(tt.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},o.a.createElement(Dr.a,null)),o.a.createElement(cn.a,{id:"long-menu",anchorEl:t,keepMounted:!0,open:s,onClose:function(){a(null)},PaperProps:{style:{maxHeight:216,width:"23ch"}}},o.a.createElement(Mt.a,{onClick:function(){window.confirm("Deseja arquivar os tickets?")&&(a(!1),n(c))}},"Arquivar conclu\xeddos"))))})),Yc=ca(yr.archiveTicket,{name:"archive",init:!1,options:function(e){var t=e.setAlert,a=e.ticketsFetch,n=e.doneTickets;return{variables:{ticketsIds:n},onRequestFinished:function(){var e=Object(S.size)(n)>1?"tickets conclu\xeddos foram arquivados":"ticket conclu\xeddo foi arquivado",r=0===Object(S.size)(n)?"Nenhum ticket foi arquivado":e;a(!0),t({alertMsg:"".concat(0===Object(S.size)(n)?"":Object(S.size)(n)," ").concat(r),alertType:"success",showAlert:!0})},onRequestError:function(){t({alertMsg:"Erro ao arquivar tickets",alertType:"warning",showAlert:!0})}}}}),Gc=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{progress:{marginRight:10,marginTop:12}})}),{withTheme:!0}),Yc,Object(Z.h)("anchorEl","setAnchorEl",null),Object(Z.h)("isExportModalOpen","setIsExportModalOpen",!1))(Hc),Qc=Object(r.memo)((function(e){var t=e.tickets,a=e.categories,n=e.tags,r=e.assignees,c=e.loading,l=e.onClickCard,i=e.onCloseCardModal,s=e.lockBoard,m=e.ticketToOpenModal,u=e.onDragCard,d=e.setAlert,b=e.doneTickets,p=e.ticketsFetch,g=e.isManager,f=e.history;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Bc,{actionPending:o.a.createElement(tt.a,{"aria-label":"New Ticket",color:"primary",onClick:function(){return f.push("/tickets/novo")}},o.a.createElement(vc.a,null)),actionDone:o.a.createElement(o.a.Fragment,null,o.a.createElement(Da.a,{title:"Aten\xe7\xe3o: Tickets conclu\xeddos acima de 10 dias ser\xe3o automaticamente arquivados.",arrow:!0,placement:"top"},o.a.createElement(hc.a,{color:"disabled"})),g&&o.a.createElement(Gc,{doneTickets:b,setAlert:d,ticketsFetch:p})),data:t||[],disableDragDrop:s,loading:c,renderCard:function(e){return o.a.createElement(Wc,{ticket:e,loading:c,onClickCard:l,onCloseModal:i})},onDragEnd:function(e){var t=e.draggableId,a=e.destination,n={variables:{id:t,status:v()(a,"droppableId"),position:v()(a,"index")}};u(n)},columnStyle:Vc.column,columnHeaderStyle:Vc.header,columnTitleStyle:Vc.headerTitle,columnWrapperStyle:Vc.wrapper}),o.a.createElement(lc,{open:!uo()(m),ticket:m,categories:a,tags:n,assignees:r,onClose:i,setAlert:d}))}));Qc.propTypes={setAlert:ne.a.func,tickets:ne.a.array,tags:ne.a.array,categories:ne.a.array,assignees:ne.a.array,lockBoard:ne.a.bool,loading:ne.a.bool,history:ne.a.object,ticketToOpenModal:ne.a.object,onCloseCardModal:ne.a.func,onDragCard:ne.a.func,onClickCard:ne.a.func,doneTickets:ne.a.array,ticketsFetch:ne.a.func,isManager:ne.a.bool};var Jc=Object(Z.b)(Object($.a)(Vc,{withTheme:!0}),h.g)(Qc),Xc=Sr.STATUSES,Kc=Sr.STATUS_DONE,Zc=Object(S.find)(Xc,(function(e){return e.key===Kc})).key,$c=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.assigneeId,c=e.setAssigneeId,l=e.code,s=e.setCode,d=e.deadline,b=e.setDeadline,p=e.locationId,g=e.setLocationId,f=e.archived,h=e.setArchived,E=e.tickets,v=e.ticketsFetch,O=e.ticketByCodeFetch,j=e.priority,C=e.setPriority,y=e.ticketTagsData,k=e.ticketTagsError,w=e.ticketTagsLoading,T=e.status,x=e.setStatus,N=e.ticketsError,D=e.ticketsLoading,M=e.ticketCategoriesData,I=e.ticketLoading,R=e.ticketCategoriesError,L=e.ticketCategoriesLoading,B=e.categoryId,_=e.setCategoryId,q=e.ticketAssigneesData,U=e.ticketAssigneesError,z=e.ticketAssigneesLoading,W=e.history,V=e.ticketToOpenModal,H=e.setTicketToOpenModal,Y=e.ticketByCodeLoading,Q=e.moveTicketFetch,J=e.showMoreArchiveds,X=e.setPerPage,K=e.setPage,Z=e.page,$=e.setTickets,ee=e.ticketTagId,ae=e.setTicketTagId,ne=e.showMoreLoading,re=e.setShowMoreLoading,oe=e.subscriptionData,ce=e.viewer,le=e.currentRole,ie=e.isAgent,se=e.isManager,de=Object(Na.a)(),be=Object(Sa.a)(de.breakpoints.down("sm"));if(Object(S.get)(ce,"company.has_ticket_support")){if(!F.isTicketsWelcomeVisited())return o.a.createElement("div",{className:n.root},o.a.createElement(Nn,null),o.a.createElement(gc,null));var pe="ADMIN"===le,fe=Object(S.sortBy)(Object(S.get)(ce,"".concat(pe?"company.":"","locations"),[]),["name"]),he="MEMBER"===le,Ee=Object(S.filter)(E,(function(e){return e.status===Zc})),ve=Object(S.map)(Ee,(function(e){return e.id})),Oe=Object(S.sortBy)(Object(S.get)(y,"ticketTags",[]),["title"]),je=Object(S.sortBy)(Object(S.get)(M,"ticketCategories",[]),["title"]),Ce=Object(S.sortBy)(Object(S.get)(q,"members",[]),["name","lastname"]),ye=Object(S.get)(oe,"subscription"),ke=Object(S.get)(ce,"company.trial_expiration"),Ae=D||L||w||z||Y||I,we=Ae,Te=Sr.PRIORITIES,xe=N||R||U||k,Ne=function(e){X(e?20:void 0),K(e?0:void 0),$([])},Se=function(e){H(e),window.history.pushState("","","/#/tickets/".concat(e.id))},De=function(e,t){P.isDevelopment&&e&&console.error(e),t&&a({alertMsg:t,alertType:e?"error":"success",showAlert:!0,actionButton:e?null:"Ver ticket",onClickAction:e?null:function(){return W.push("/tickets/".concat(V.id))}}),H(null),f||v(!1),window.history.pushState("","","/#/tickets")},Me=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(!1,"",null,t);case 2:v(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(e){var t=e.target.value.replace(/[\D]+/g,"");l!==t&&s(t)},Fe=function(){Object(S.size)(l)&&ut.isMobile()&&(H(null),O(!0))},Re=function(e){Object(S.size)(l)&&13===e.keyCode&&(H(null),O(!0))},Le=function(e){var t=Object(S.get)(e,"target.value","all");c(t);var a={select_assignee:t};G.hit("Tickets - FilteredByAssignee",a),Ne(f),v(!0)},Be=function(e){b(e),G.hit("Tickets - FilteredByDeadline"),Ne(f),v(!0)},Pe=function(e){var t=Object(S.get)(e,"target.value","all");C(t);var a={priority:j};G.hit("Tickets - FilteredByPriority",a),Ne(f),v(!0)},_e=function(e){var t=Object(S.get)(e,"target.value","all");_(t);var a={select_category:t};G.hit("Tickets - FilteredByCategory",a),Ne(f),v(!0)},qe=function(e){var t=Object(S.get)(e,"target.value","all");ae(t);var a={select_tag:t};G.hit("Tickets - FilteredByTicketTag",a),Ne(f),v(!0)},Ue=function(e){var t=Object(S.get)(e,"target.value","all");g(t);var a={select_location:t};G.hit("Tickets - FilteredByLocation",a),Ne(f),v(!0)},ze=function(e){var t=Object(S.get)(e,"target.value","all");x(t);var a={select_status:t};G.hit("Tickets - FilteredByStatus",a),Ne(f),v(!0)},We=t.showAlert,Ve=t.alertType,He=t.alertMsg,Ye=t.actionButton,Ge=t.onClickAction,Je=null;We&&(Je=o.a.createElement(ct,{message:He,type:Ve,actionButton:Ye,onClickAction:Ge,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1,actionButton:null,onClickAction:null})}}));var Xe=function(){return o.a.createElement(me.a,{container:!0,spacing:2},o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:1},o.a.createElement(pt.a,{fullWidth:!0},o.a.createElement(Qe.a,{label:"Busca",placeholder:"N\u02da",disabled:we,value:l,type:"tel",InputLabelProps:{shrink:!0},onKeyDown:Re,onBlur:Fe,onChange:Ie}))),Object(S.size)(fe)>1&&o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(pt.a,{fullWidth:!0},o.a.createElement(Qe.a,{select:!0,label:"Local",className:n.filterSelect,disabled:we,value:p,InputLabelProps:{shrink:!0},onChange:Ue},o.a.createElement(Mt.a,{value:"all"},"Todos"),fe.map((function(e){return o.a.createElement(Mt.a,{key:e.id,value:e.id},e.name)}))))),!he&&o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(pt.a,{fullWidth:!0},o.a.createElement(Qe.a,{select:!0,label:"Respons\xe1vel",className:n.filterSelect,disabled:we,value:r,InputLabelProps:{shrink:!0},onChange:Le},o.a.createElement(Mt.a,{value:"all"},"Todos"),o.a.createElement(Mt.a,{value:""},"Nenhum"),Ce.map((function(e){return o.a.createElement(Mt.a,{key:e.id,value:e.id},e.fullname)}))))),o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(pt.a,{fullWidth:!0},o.a.createElement(Qe.a,{select:!0,label:"Categoria",className:n.filterSelect,disabled:we,value:B,InputLabelProps:{shrink:!0},onChange:_e},o.a.createElement(Mt.a,{value:"all"},"Todos"),je.map((function(e){return o.a.createElement(Mt.a,{key:e.id,value:e.id},e.title)}))))),Object(S.size)(Oe)?o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(pt.a,{fullWidth:!0},o.a.createElement(Qe.a,{select:!0,label:"Etiqueta",className:n.filterSelect,disabled:we,value:ee,InputLabelProps:{shrink:!0},onChange:qe},o.a.createElement(Mt.a,{value:"all"},"Todas"),Oe.map((function(e){return o.a.createElement(Mt.a,{key:e.id,value:e.id},e.title)}))))):o.a.createElement(o.a.Fragment,null),f&&o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(pt.a,{fullWidth:!0},o.a.createElement(Qe.a,{select:!0,label:"Status",className:n.filterSelect,disabled:we,value:T,InputLabelProps:{shrink:!0},onChange:ze},o.a.createElement(Mt.a,{value:"all"},"Todos"),Xc.map((function(e){return o.a.createElement(Mt.a,{key:e.key,value:e.key},e.label)}))))),o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(pt.a,{fullWidth:!0},o.a.createElement(Qe.a,{select:!0,label:"Prioridade",className:n.filterSelect,disabled:we,value:j,InputLabelProps:{shrink:!0},onChange:Pe},o.a.createElement(Mt.a,{value:"all"},"Todas"),Te.map((function(e){return o.a.createElement(Mt.a,{key:e.key,value:e.key},e.label)}))))),o.a.createElement(me.a,{item:!0,xs:6,sm:3,md:1},o.a.createElement(pt.a,{fullWidth:!0},o.a.createElement(Rt.a,{libInstance:A.a,utils:Ft.a,locale:P.locale},o.a.createElement(Lt.a,{autoOk:!0,label:"Prazo",clearable:!0,animateYearScrolling:!0,className:n.filterSelect,disabled:we,invalidDateMessage:"Formato inv\xe1lido",InputLabelProps:{shrink:!0},value:d,onChange:Be,placeholder:"DD/MM/YYYY",format:"DD/MM/YYYY",cancelLabel:"Cancelar",clearLabel:"Limpar"})))))},Ke="Tickets".concat(f?" arquivados":"");return o.a.createElement("div",{className:n.root},o.a.createElement(Nn,{alertBox:Je,error:xe}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement(Or,{trialExpiration:ke,willDowngradeAt:Object(S.get)(ye,"willDowngradeAt"),willCancelAt:Object(S.get)(ye,"willCancelAt")}),o.a.createElement(dr.a,{display:"flex",justifyContent:"space-between",mb:2},o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,Object(S.size)(E)?"".concat(Ke," (").concat(Object(S.size)(E),")"):Ke)),o.a.createElement(dr.a,{display:"flex"},o.a.createElement(ue.a,{variant:"contained",component:i.b,to:"/tickets/novo",color:"primary",size:"large",disabled:we,className:be?n.fab:null},"Novo ticket"),ie&&o.a.createElement(dr.a,{ml:1},o.a.createElement(so,{setAlert:a,isArchived:f,onToggleArchived:function(e){h(e),Ne(e),v(!0)}})))),be?ie&&o.a.createElement(br.a,null,o.a.createElement(pr.a,{expandIcon:o.a.createElement(hr.a,null)},o.a.createElement(ge.a,{variant:"subtitle1"},"Filtros")),o.a.createElement(gr.a,null,Xe())):ie&&Xe()),f?o.a.createElement(bc,{tickets:E,ticketToOpenModal:V,categories:je,tags:Oe,assignees:Ce,loading:Ae,onOpenTicketModal:Se,onCloseTicketModal:De,onShowMoreArchiveds:function(){re(!0),X(20),K(Z+1),v(!1)},showMore:J,showMoreLoading:ne,setAlert:a}):o.a.createElement("div",{className:n.container},o.a.createElement(me.a,{container:!0},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(Jc,{isManager:ie,ticketsFetch:v,doneTickets:ve,lockBoard:he,tickets:E,ticketToOpenModal:V,categories:je,tags:Oe,assignees:Ce,loading:Ae,onClickCard:Se,onDragCard:Me,onCloseCardModal:De,setAlert:a}))))))}return o.a.createElement("div",{className:n.root},o.a.createElement(Nn,null),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement(me.a,{container:!0,spacing:1},o.a.createElement("div",{className:n.centerHeaderView},se?o.a.createElement(Cr,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{className:n.emptyHeaderIcon}),o.a.createElement("b",{className:n.emptyHeaderTitle},"Essa conta n\xe3o possui o servi\xe7o de tickets")))))))})),el=ca(xr.get,{name:"subscription"}),tl=ca(Ar.getCategories,{name:"ticketCategories"}),al=ca(kr.getTags,{name:"ticketTags"}),nl=ca(yr.getAssignables,{name:"ticketAssignees"}),rl=ca(yr.moveTicket,{name:"moveTicket",init:!1,options:function(e){var t=e.setAlert;return{onRequestError:function(e){var a=e.errors?Object.values(e.errors).flat().join():"Erro ao mover esse ticket";t({alertMsg:a,alertType:"error",showAlert:!0})}}}}),ol=ca(yr.getTicketByCode,{name:"ticketByCode",init:!1,options:function(e){var t=e.setAlert,a=e.setCode,n=e.setTicketToOpenModal,r=e.code;return{variables:r,onRequestFinished:function(e){var t=Object(S.get)(e,"ticket");n(t),a(""),window.history.pushState("","","/#/tickets/".concat(t.id))},onRequestError:function(){n(null),t({alertMsg:"Ticket ".concat(r," n\xe3o foi identificado"),alertType:"warning",showAlert:!0}),window.history.pushState("","","/#/tickets")}}}}),cl=ca(yr.getTicket,{name:"ticket",init:!1,options:function(e){var t=e.match,a=e.setAlert,n=e.setTicketToOpenModal;return{variables:Object(S.get)(t,"params.id"),onRequestFinished:function(e){var t=Object(S.get)(e,"ticket");n(t),window.history.pushState("","","/#/tickets/".concat(t.id))},onRequestError:function(){n(null),a({alertMsg:"Este ticket n\xe3o foi identificado",alertType:"warning",showAlert:!0}),window.history.pushState("","","/#/tickets")}}}}),ll=ca(yr.getTickets,{name:"tickets",init:!1,options:function(e){var t=e.locationId,a=e.assigneeId,n=e.categoryId,r=e.deadline,o=e.priority,c=e.archived,l=e.status,i=e.perPage,s=e.page,m=e.setShowMoreArchiveds,u=e.setTickets,d=e.tickets,b=e.setShowMoreLoading;return{variables:{locationId:t,ticketTagId:e.ticketTagId,assigneeId:a,categoryId:n,deadline:r,priority:o,archived:c,status:l,perPage:i,page:s},onRequestFinished:function(e){var t=Object(S.get)(e,"tickets",[]);c?(m(Object(S.size)(t)>=i),u(d.concat(t))):u(t),b(!1)},onRequestError:function(){b(!1)}}}}),il=Object(Z.b)(Object($.a)(io,{withTheme:!0}),h.g,Object(Z.h)("assigneeId","setAssigneeId","all"),Object(Z.h)("code","setCode",""),Object(Z.h)("tickets","setTickets",[]),Object(Z.h)("ticketToOpenModal","setTicketToOpenModal"),Object(Z.h)("categoryId","setCategoryId","all"),Object(Z.h)("ticketTagId","setTicketTagId","all"),Object(Z.h)("locationId","setLocationId","all"),Object(Z.h)("priority","setPriority","all"),Object(Z.h)("status","setStatus","all"),Object(Z.h)("deadline","setDeadline",null),Object(Z.h)("archived","setArchived",!1),Object(Z.h)("perPage","setPerPage"),Object(Z.h)("page","setPage"),Object(Z.h)("showMoreArchiveds","setShowMoreArchiveds",!1),Object(Z.h)("showMoreLoading","setShowMoreLoading",!1),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1,actionButton:null,onClickAction:null}),Nr,Object(Z.f)((function(e){var t=e.viewer,a=Object(S.get)(t,"role","MEMBER");return{currentRole:a,isAgent:Qa.includes(a),isManager:Ga.includes(a)}})),el,ll,cl,ol,al,tl,Object(Z.a)((function(e){return e.isAgent}),nl),rl,Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.ticketsFetch,a=e.ticketFetch,n=e.ticketToOpenModal,r=e.match,o=Object(S.get)(r,"params.id");Object(S.isEmpty)(n)&&t(!0),Object(S.size)(o)&&a(!1)}}))($c),sl=Object(r.memo)((function(e){var t=e.id,a=e.classes,n=e.required,r=e.disabled,c=e.question,l=e.options,i=e.fieldType,s=e.showBlankError,m=e.onChangeQuestion,u=e.onCheckOption,d=s&&n;return"CHECKBOX"===i?o.a.createElement(pt.a,{component:"fieldset",className:a.checkboxControl,fullWidth:!0,error:d},o.a.createElement(gt.a,{component:"legend"},c),o.a.createElement(Pt.a,null,l.map((function(e){return o.a.createElement(_t.a,{key:e,label:e,control:o.a.createElement(qt.a,{color:"primary",disabled:r,onChange:function(a){return u(e,a.target.checked,t)}})})}))),d&&o.a.createElement(gt.a,null,"selecione uma op\xe7\xe3o")):"SELECT"===i?o.a.createElement(pt.a,{fullWidth:!0,error:d},o.a.createElement(Qe.a,{select:!0,label:c,className:a.questionInput,disabled:r,InputLabelProps:{shrink:!0},SelectProps:{native:!0},onChange:function(e){return m(e.target.value,t)},variant:"outlined",error:d},l.map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),d&&o.a.createElement(gt.a,null,"selecione uma op\xe7\xe3o")):o.a.createElement(pt.a,{fullWidth:!0,error:d},o.a.createElement(Qe.a,{label:c,className:a.questionInput,multiline:"TEXT_AREA"===i,rows:"TEXT_AREA"===i?4:1,rowsMax:"TEXT_AREA"===i?4:1,disabled:r,InputLabelProps:{shrink:!0},onChange:function(e){return m(e.target.value,t)},variant:"outlined",error:d}),d&&o.a.createElement(gt.a,null,"este campo est\xe1 em branco"))})),ml=Object(Z.b)(Object($.a)((function(e){return{checkboxControl:{margin:e.spacing(2)},questionInput:{marginTop:14}}}),{withTheme:!0}))(sl),ul=Sr.PRIORITIES,dl=Sr.PRIORITY_NORMAL,bl=function(){var e=F.getUserData(),t="ADMIN"===Object(S.get)(e,"role"),a=Object(S.sortBy)(Object(S.get)(e,"".concat(t?"company.":"","locations"),[]),["name"]);return{title:"",description:"",category_id:"",deadline:null,priority:dl,source:"PORTAL",location_id:Object(S.get)(Object(S.first)(a),"id"),attachment_data:null,ticket_form_questions:Object(S.clone)([])}},pl=function(e,t){var a=Object(S.find)(e,(function(e){return e.id===t})),n=Object(S.get)(a,"ticketFormQuestions",[]);return Object(S.map)(n,(function(e){var t="SELECT"===e.fieldType?Object(S.compact)([Object(S.first)(Object(S.get)(e,"options"))]):[];return Object(f.a)(Object(f.a)({},e),{},{value:t})}))},gl=Object(r.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.ticket,c=e.setTicketState,l=e.ticketLoading,s=e.ticketFetch,m=e.errors,u=e.ticketCategoriesLoading,d=e.categories,b=e.setShowQuestionError,p=e.isUploading,g=e.setIsUploading,f=e.showQuestionError,h=Object(Na.a)(),E=Object(Sa.a)(h.breakpoints.down("sm")),v=F.getUserData(),O=Object(S.get)(v,"company.has_ticket_support"),j=Ga.includes(Object(S.get)(v,"role"));if(O){var C=a.showAlert,y=a.alertMsg,k=a.alertType,w=a.actionButton,T=a.onClickAction,x=null;C&&(x=o.a.createElement(ct,{message:y,type:k,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1,actionButton:""})},actionButton:w,onClickAction:T}));var N="ADMIN"===Object(S.get)(v,"role"),D=Object(S.sortBy)(Object(S.get)(v,"".concat(N?"company.":"","locations"),[]),["name"]),M=Qa.includes(Object(S.get)(v,"role")),I=u||l,R=I||p,L=function(){var e=Object(S.get)(r,"ticket_form_questions",[]),t=Object(S.reject)(e,(function(e){return!e.required}));return Boolean(Object(S.size)(Object(S.reject)(t,(function(e){return Object(S.size)(e.value)}))))},B=function(e,t){var a=Object(S.get)(r,"ticket_form_questions",[]),n=Object(S.findIndex)(a,(function(e){return e.id===t}));Object(S.set)(r,"ticket_form_questions[".concat(n,"].value"),[e]),b(L())},_=function(e,t,a){var n=Object(S.get)(r,"ticket_form_questions",[]),o=Object(S.findIndex)(n,(function(e){return e.id===a})),c=n[o].value;c=t?c.concat(e):c.filter((function(t){return t!==e})),Object(S.set)(r,"ticket_form_questions[".concat(o,"].value"),c),b(L())},q=Object(S.get)(r,"ticket_form_questions",[]);return o.a.createElement("div",{className:t.root},o.a.createElement(Nn,{alertBox:x}),o.a.createElement("section",null,o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Novo ticket"))))),o.a.createElement("br",null),o.a.createElement("form",{className:t.container},o.a.createElement(Za.a,{className:t.paper},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Solicita\xe7\xe3o")),o.a.createElement(me.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ht,{label:"No que podemos te ajudar?",errors:Object(S.get)(m,"title",[]),className:t.input,disabled:I,placeholder:"Ex.: Banheiro entupido, m\xe1quina de caf\xe9 com defeito, etc",value:Object(S.get)(r,"title",""),onChange:function(e){return c({title:e.target.value})}}),Object(S.size)(D)>1&&o.a.createElement(It,{label:"Local",errors:Object(S.get)(m,"location_id",[]),className:t.input,disabled:I,value:Object(S.get)(r,"location_id"),onChange:function(e){return c({location_id:e.target.value})},options:D,optionValueField:"id",optionLabelField:"name"}),o.a.createElement(It,{label:"Categoria",errors:Object(S.get)(m,"category_id",[]),className:t.input,disabled:I,value:Object(S.get)(r,"category_id"),onChange:function(e){var t=e.target.value;c({category_id:t,ticket_form_questions:pl(d,t)}),b(!1)},options:d,optionValueField:"id",optionLabelField:"title"}),Object(S.map)(q,(function(e){return o.a.createElement(ml,{key:Object(S.get)(e,"id"),id:Object(S.get)(e,"id"),question:e.question,options:Object(S.get)(e,"options"),fieldType:e.fieldType,required:e.required,disabled:R,showBlankError:f,onChangeQuestion:B,onCheckOption:_})})),o.a.createElement(ht,{label:"Descri\xe7\xe3o",multiline:!0,rows:4,rowsMax:4,errors:Object(S.get)(m,"comments")||Object(S.get)(m,"description")||[],className:t.input,disabled:I,placeholder:"Descreva mais detalhes sobre esta ocorr\xeancia...",value:Object(S.get)(r,"description",""),onChange:function(e){return c({description:e.target.value})}}))),M&&o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement(ge.a,{variant:"h6",className:t.deadline},o.a.createElement("b",null,"Deadline")),o.a.createElement(me.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(pt.a,{fullWidth:!0},o.a.createElement(Rt.a,{libInstance:A.a,utils:Ft.a,locale:P.locale},o.a.createElement(Lt.a,{autoOk:!0,label:"Prazo",clearable:!0,animateYearScrolling:!0,className:t.input,disabled:I,invalidDateMessage:"Formato inv\xe1lido",variant:"outlined",inputVariant:"outlined",InputLabelProps:{shrink:!0},value:Object(S.get)(r,"deadline"),onChange:function(e){return c({deadline:e})},format:"DD/MM/YYYY",cancelLabel:"Cancelar",clearLabel:"Limpar"})))),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(pt.a,{fullWidth:!0,error:!!m.priority},o.a.createElement(Qe.a,{select:!0,label:"Prioridade",error:!!m.priority,className:E?t.priorityIput:"",disabled:I,value:Object(S.get)(r,"priority"),InputLabelProps:{shrink:!0},SelectProps:{native:!0},onChange:function(e){return c({priority:e.target.value})},variant:"outlined"},Object(S.map)(ul,(function(e){return o.a.createElement("option",{value:e.key,key:e.key},e.label)}))),m.priority&&o.a.createElement(gt.a,null,m.priority))))),o.a.createElement("br",null),o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Mais detalhes")),o.a.createElement("br",null),o.a.createElement(me.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement("div",null,o.a.createElement(Zt,{value:Object(S.get)(r,"attachment_data",null),onChange:function(e){c({attachment_data:e}),g(Object(S.get)(e,"progressPercent",100)<100)},disabled:I,accept:"image/*,.doc,.docx,.xls,.xlsx,.pdf,.xml"})),o.a.createElement("div",{className:t.actions},o.a.createElement(ue.a,{component:i.b,to:"/tickets",color:"default",size:"large",disabled:I,className:t.cancel},"Voltar"),o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",disabled:R,onClick:function(){if(Object(S.isEmpty)(D))n({alertMsg:"N\xe3o foi informado o local da ocorr\xeancia",alertType:"error",showAlert:!0});else{var e=L();b(e),e||s(!0)}}},R?"Aguarde...":"Enviar"))))))))}return o.a.createElement("div",{className:t.root},o.a.createElement(Nn,null),o.a.createElement("section",null,o.a.createElement("div",{className:t.container},o.a.createElement(me.a,{container:!0,spacing:1},o.a.createElement("div",{className:t.centerHeaderView},j?o.a.createElement(Cr,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{className:t.emptyHeaderIcon}),o.a.createElement("b",{className:t.emptyHeaderTitle},"Essa conta n\xe3o possui o servi\xe7o de tickets")))))))})),fl=ca(Ar.getCategories,{name:"ticketCategories",options:function(e){var t=e.setTicketState,a=e.setCategories,n=e.selectedCategory,r=e.selectedLocation;return{onRequestFinished:function(e){var o=F.getUserData(),c=Object(S.sortBy)(Object(S.get)(e,"ticketCategories",[]),["title"]),l="ADMIN"===Object(S.get)(o,"role"),i=Object(S.sortBy)(Object(S.get)(o,"".concat(l?"company.":"","locations"),[]),["name"]),s=function(e,t){var a=Object(S.find)(e,(function(e){return Object(S.toLower)(e.title)===Object(S.toLower)(t)||e.id===t}));return Object(S.get)(a,"id")||Object(S.get)(Object(S.first)(e),"id")}(c,n),m=function(e,t){var a=Object(S.find)(e,(function(e){return Object(S.toLower)(e.name)===Object(S.toLower)(t)||e.id===t}));return Object(S.get)(a,"id")||Object(S.get)(Object(S.first)(e),"id")}(i,r);a(c),t({category_id:s,location_id:m,ticket_form_questions:pl(c,s)})}}}}),hl=ca(yr.postTicket,{name:"ticket",init:!1,options:function(e){var t=e.ticket,a=e.setTicketState,n=e.setAlert,r=e.categories,o=e.history,c=e.setErrors;return{variables:t,onRequestFinished:function(e){document.querySelector("form").reset();var t=Object(S.get)(Object(S.first)(r),"id");a(Object(f.a)(Object(f.a)({},bl()),{},{category_id:t,ticket_form_questions:pl(r,t)}));var l=Object(S.get)(e,"ticket.id");n({alertMsg:"Ticket registrado com sucesso",alertType:"success",showAlert:!0,actionButton:"Ver ticket",onClickAction:function(){return o.push("/tickets/".concat(l))}}),c({})},onRequestError:function(e){c(Object(S.get)(e,"errors",{})),n({alertMsg:Object(S.get)(e,"error")||"Erro ao registrar esse ticket",alertType:"error",showAlert:!0})}}}}),El=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{cancel:{marginRight:20},input:{marginTop:0,marginBottom:-8},priorityIput:{marginTop:8},deadline:{marginBottom:20}})}),{withTheme:!0}),h.g,Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("ticket","setTicket",bl),Object(Z.h)("categories","setCategories",[]),Object(Z.h)("showQuestionError","setShowQuestionError",!1),Object(Z.h)("isUploading","setIsUploading",!1),Object(Z.h)("selectedCategory","setSelectedCategory"),Object(Z.h)("selectedLocation","setSelectedLocation"),Object(Z.h)("errors","setErrors",{}),Object(Z.e)({setTicketState:function(e){var t=e.setTicket,a=e.ticket;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),fl,hl,Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.location,a=e.setTicketState,n=e.setSelectedCategory,r=e.setSelectedLocation,o=new URLSearchParams(t.search),c=(o.get("utm_source")||"").toUpperCase();n(o.get("category")||o.get("category_id")||o.get("categoria")),r(o.get("location")||o.get("location_id")||o.get("local")),"QRCODE"===c&&a({source:"QRCODE"})}}))(gl),vl=Object(r.memo)((function(e){var t=e.messageText,a=e.classes;return o.a.createElement("div",{className:a.root},o.a.createElement("section",null,o.a.createElement(me.a,{container:!0,spacing:1},o.a.createElement("div",{className:a.centerHeaderView},o.a.createElement(te.a,{className:a.emptyHeaderIcon}),o.a.createElement("b",{className:a.emptyHeaderTitle},t)))))}));vl.propTypes={classes:ne.a.object,messageText:ne.a.string};var Ol=Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0})(vl),jl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.condition,a=e.messageText,n=void 0===a?"Voc\xea n\xe3o possui permiss\xe3o de acesso a esta \xe1rea.":a;return function(e){return Nr((function(a){return a.viewer?t(a.viewer)?o.a.createElement(Ol,{messageText:n}):o.a.createElement(e,a):null}))}},Cl={id:"ALL",name:"Todos"},yl=Object(r.memo)((function(e){var t=e.viewer,a=e.setFormData,n=e.isLoading,r=e.onSubmit,c=e.formData,l=c.location_id,i=c.start_date,s=c.end_date,m=c.validationErrors,u="ADMIN"===Object(S.get)(t,"role"),d=Object(S.sortBy)(Object(S.get)(t,"".concat(u?"company.":"","locations"),[]),["name"]),b=Object(S.concat)(Cl,d);return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{container:!0,spacing:3,alignItems:"center"},o.a.createElement(me.a,{item:!0,xs:12,sm:2},o.a.createElement(It,{variant:"standard",label:"Local",errors:m.location_id,disabled:n,value:l,onChangeText:function(e){return a({location_id:e})},options:b,optionValueField:"id",optionLabelField:"name"})),o.a.createElement(me.a,{item:!0,xs:12,sm:2},o.a.createElement(Bt,{variant:"standard",errors:m.start_date,label:"Data de in\xedcio",disabled:n,value:i,onChangeValue:function(e){return a({start_date:e})},disableFuture:!0})),o.a.createElement(me.a,{item:!0,xs:12,sm:2},o.a.createElement(Bt,{variant:"standard",errors:m.end_date,label:"Data de fim",disabled:n,value:s,onChangeValue:function(e){return a({end_date:e})},disableFuture:!0})),o.a.createElement(me.a,{item:!0,xs:12,sm:3},o.a.createElement(ue.a,{color:"primary",size:"large",variant:"contained",onClick:r,disabled:n},"Gerar Relat\xf3rio"))))})),kl=function(e){return e?A.a.duration(e).humanize():" - "},Al=function(e){var t=e.data,a=t.created,n=t.done,r=t.in_progress,c=t.time_to_reply,l=t.time_to_finish;return o.a.createElement(ya.a,null,o.a.createElement(ka.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,"Criados"),o.a.createElement(wa.a,null,"Conclu\xeddos"),o.a.createElement(wa.a,null,"Em Andamento"),o.a.createElement(wa.a,null,"Tempo de Resposta"),o.a.createElement(wa.a,null,"Tempo de Resolu\xe7\xe3o"))),o.a.createElement(xa.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,a),o.a.createElement(wa.a,null,n),o.a.createElement(wa.a,null,r),o.a.createElement(wa.a,null,kl(c)),o.a.createElement(wa.a,null,kl(l)))))},wl=function(e){var t=e.data,a=e.classes;return o.a.createElement(ya.a,null,o.a.createElement(ka.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:a.tableSmallCell},"Categoria"),o.a.createElement(wa.a,null,"Criados"),o.a.createElement(wa.a,null,"Conclu\xeddos"),o.a.createElement(wa.a,null,"Em Andamento"),o.a.createElement(wa.a,null,"Tempo de Resposta"),o.a.createElement(wa.a,null,"Tempo de Resolu\xe7\xe3o"))),o.a.createElement(xa.a,null,Object(S.map)(t,(function(e){return o.a.createElement(Aa.a,{key:e.category_title},o.a.createElement(wa.a,{className:a.tableSmallCell},e.category_title),o.a.createElement(wa.a,null,e.created),o.a.createElement(wa.a,null,e.done),o.a.createElement(wa.a,null,e.in_progress),o.a.createElement(wa.a,null,kl(e.time_to_reply)),o.a.createElement(wa.a,null,kl(e.time_to_finish)))}))))},Tl=function(e){var t=e.data,a=e.classes;return o.a.createElement(ya.a,null,o.a.createElement(ka.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:a.tableSmallCell},"Respons\xe1vel"),o.a.createElement(wa.a,null,"Criados"),o.a.createElement(wa.a,null,"Conclu\xeddos"),o.a.createElement(wa.a,null,"Em Andamento"),o.a.createElement(wa.a,null,"Tempo de Resposta"),o.a.createElement(wa.a,null,"Tempo de Resolu\xe7\xe3o"))),o.a.createElement(xa.a,null,Object(S.map)(t,(function(e){return o.a.createElement(Aa.a,{key:e.assignee_full_name},o.a.createElement(wa.a,{className:a.tableSmallCell},e.assignee_full_name),o.a.createElement(wa.a,null,e.created),o.a.createElement(wa.a,null,e.done),o.a.createElement(wa.a,null,e.in_progress),o.a.createElement(wa.a,null,kl(e.time_to_reply)),o.a.createElement(wa.a,null,kl(e.time_to_finish)))}))))},xl=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),r.memo)((function(e){var t=e.classes,a=e.reportData;return e.isLoading?o.a.createElement(pe,null):a&&a.totals?o.a.createElement(o.a.Fragment,null,o.a.createElement(dr.a,{mt:2},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Total")),o.a.createElement(Al,{data:a.totals})),o.a.createElement(dr.a,{mt:2},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Por Categoria")),o.a.createElement(wl,{data:a.by_category,classes:t})),o.a.createElement(dr.a,{mt:2},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Por Respons\xe1vel")),o.a.createElement(Tl,{data:a.by_assignee,classes:t}))):null})),Nl=ca(yr.report,{name:"report",init:!1,options:function(e){var t=e.formData,a=e.setFormData,n=e.setAlert;t.validationErrors;return{variables:Object(bt.a)(t,["validationErrors"]),onRequestError:function(e){n({alertMsg:"Erro ao tentar gerar relat\xf3rio",alertType:"error",showAlert:!0}),a({validationErrors:Object(S.get)(e,"errors",{})})}}}}),Sl=Object(Z.b)(r.memo,jl({condition:function(e){return!Qa.includes(e.role)}}),Zn,zr((function(){var e=A()().date()>1?0:1;return{location_id:"ALL",start_date:A()().subtract(e,"month").startOf("month"),end_date:A()()}})),Nl)((function(e){var t=e.viewer,a=e.formData,n=e.setFormData,r=e.reportFetch,c=e.reportLoading,l=e.reportData;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Relat\xf3rio de Tickets")),o.a.createElement(yl,{viewer:t,formData:a,setFormData:n,isLoading:c,onSubmit:function(){return r(!0)}}),o.a.createElement(xl,{reportData:l,isLoading:c}))})),Dl={getLocations:function(e){var t=e.listInactive,a=e.listAll,n=er.a.toSnakeCase({listInactive:t,listAll:a});return U.get("/locations",n)},createLocation:function(e){return U.post("/locations",e)},updateLocation:function(e){var t=e.id,a=e.changes;return U.put("/locations/".concat(t),a)},toggleActive:function(e){return U.delete("/locations/".concat(e,"/toggle_active"))},getLocationsByCompany:function(e){if(e){var t=er.a.toSnakeCase({companyId:e});return U.get("/public_locations",t)}return null}},Ml={getCompany:function(e){return U.get("/public_companies/".concat(e))}},Il=Sr.PRIORITY_NORMAL,Fl=function(){return{title:"",description:"",category_id:"",deadline:null,priority:Il,source:"PORTAL",location_id:"",attachment_data:null,ticket_form_questions:Object(S.clone)([]),email:"",name:"",lastname:""}},Rl=function(e,t){var a=Object(S.find)(e,(function(e){return e.id===t})),n=Object(S.get)(a,"ticket_form_questions",[]);return Object(S.map)(n,(function(e){var t="SELECT"===Object(S.get)(e,"field_type")?Object(S.compact)([Object(S.first)(Object(S.get)(e,"options"))]):[];return Object(f.a)(Object(f.a)({},e),{},{value:t})}))},Ll=Object(r.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.ticket,c=e.setTicketState,l=e.ticketLoading,i=e.errors,s=e.ticketFetch,m=e.companyId,u=e.locationsData,d=e.locationsLoading,b=e.showQuestionError,p=e.ticketCategoriesLoading,g=e.categories,f=e.setShowQuestionError,h=e.isUploading,E=e.setIsUploading,v=e.companyData,O=e.companyLoading;if(m){var j=a.showAlert,C=a.alertMsg,y=a.alertType,k=a.actionButton,A=a.onClickAction,w=function(){var e=Object(S.get)(r,"ticket_form_questions",[]),t=Object(S.reject)(e,(function(e){return!e.required}));return Boolean(Object(S.size)(Object(S.reject)(t,(function(e){return Object(S.size)(e.value)}))))},T=function(e,t){var a=Object(S.get)(r,"ticket_form_questions",[]),n=Object(S.findIndex)(a,(function(e){return e.id===t}));Object(S.set)(r,"ticket_form_questions[".concat(n,"].value"),[e]),f(w())},x=function(e,t,a){var n=Object(S.get)(r,"ticket_form_questions",[]),o=Object(S.findIndex)(n,(function(e){return e.id===a})),c=n[o].value;c=t?c.concat(e):c.filter((function(t){return t!==e})),Object(S.set)(r,"ticket_form_questions[".concat(o,"].value"),c),f(w())},N=Object(S.get)(v,"company.name",""),D=Object(S.get)(r,"ticket_form_questions",[]),M=Object(S.sortBy)(Object(S.get)(u,"locations",[]),["name"]),I=Object(S.isEmpty)(M)||Object(S.isEmpty)(g)||p||l||d||O,F=I||h;return o.a.createElement("div",{className:t.root},j&&o.a.createElement(ct,{message:C,type:y,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1,actionButton:""})},actionButton:k,onClickAction:A}),o.a.createElement("section",null,o.a.createElement(me.a,{container:!0,justify:"center",alignContent:"center"},o.a.createElement(me.a,{item:!0,xs:12,sm:8,md:6,lg:4},o.a.createElement("form",{className:t.containerNoSidebar},o.a.createElement(Za.a,{className:t.paper},o.a.createElement(me.a,{container:!0,spacing:2,justify:"center",alignContent:"center"},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Nova solicita\xe7\xe3o".concat(N&&" - ".concat(N))))),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ht,{errors:Object(S.get)(i,"title",[]),label:"No que podemos te ajudar?",placeholder:"Ex.: Banheiro entupido, m\xe1quina de caf\xe9 com defeito, etc",disabled:I,value:Object(S.get)(r,"title",""),onChange:function(e){return c({title:e.target.value})}}),Object(S.size)(M)>1&&o.a.createElement(It,{label:"Local",errors:Object(S.get)(i,"location_id",[]),value:Object(S.get)(r,"location_id"),disabled:I,onChange:function(e){return c({location_id:e.target.value})},options:M,optionLabelField:"name",optionValueField:"id"}),Object(S.size)(g)>1&&o.a.createElement(It,{label:"Categoria",errors:Object(S.get)(i,"category_id",[]),value:Object(S.get)(r,"category_id"),disabled:I,onChange:function(e){var t=e.target.value;c({category_id:t,ticket_form_questions:Rl(g,t)}),f(!1)},options:g,optionLabelField:"title",optionValueField:"id"}),Object(S.map)(D,(function(e){return o.a.createElement(ml,{key:Object(S.get)(e,"id"),id:Object(S.get)(e,"id"),question:Object(S.get)(e,"question"),options:Object(S.get)(e,"options"),fieldType:Object(S.get)(e,"field_type"),required:Object(S.get)(e,"required"),disabled:F,showBlankError:b,onChangeQuestion:T,onCheckOption:x})})),o.a.createElement(ht,{errors:Object(S.get)(i,"comments")||Object(S.get)(i,"description")||[],label:"Descri\xe7\xe3o",multiline:!0,rows:4,rowsMax:4,placeholder:"Descreva mais detalhes sobre esta ocorr\xeancia...",disabled:I,value:Object(S.get)(r,"description",""),onChange:function(e){return c({description:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ht,{errors:Object(S.get)(i,"email",[]),label:"Email",placeholder:"Seu email de trabalho",disabled:I,value:Object(S.get)(r,"email",""),onChange:function(e){return c({email:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:6},o.a.createElement(ht,{errors:Object(S.get)(i,"name",[]),label:"Nome",disabled:I,className:t.inputControl,value:Object(S.get)(r,"name",""),onChange:function(e){return c({name:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:6},o.a.createElement(ht,{errors:Object(S.get)(i,"lastname",[]),label:"Sobrenome",disabled:I,className:t.inputControl,value:Object(S.get)(r,"lastname",""),onChange:function(e){return c({lastname:e.target.value})}}))),o.a.createElement("br",null),o.a.createElement(me.a,{container:!0,spacing:2,justify:"center",alignContent:"center"},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement("div",null,o.a.createElement(Zt,{value:Object(S.get)(r,"attachment_data",null),onChange:function(e){c({attachment_data:e}),E(Object(S.get)(e,"progressPercent",100)<100)},disabled:I,accept:"image/*,.doc,.docx,.xls,.xlsx,.pdf,.xml"})),o.a.createElement("div",{className:t.actions},o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",disabled:F,onClick:function(){if(Object(S.isEmpty)(Object(S.get)(r,"location_id")))n({alertMsg:"N\xe3o foi informado o local da ocorr\xeancia",alertType:"error",showAlert:!0});else{var e=w();f(e),e||s(!0)}}},F?"Aguarde...":"Enviar"))))))))))}return o.a.createElement("div",{className:t.root},o.a.createElement("section",null,o.a.createElement("div",{className:t.containerNoSidebar},o.a.createElement(me.a,{container:!0,spacing:1},o.a.createElement("div",{className:t.centerHeaderView},o.a.createElement(te.a,{className:t.emptyHeaderIcon}),o.a.createElement("b",{className:t.emptyHeaderTitle},"Esse link inv\xe1lido n\xe3o pode solicitar tickets"))))))})),Bl=ca(Ml.getCompany,{name:"company",options:function(e){var t=e.companyId,a=e.setAlert;return{variables:t,onRequestError:function(){a({alertMsg:"URL inv\xe1lida, n\xe3o foi poss\xedvel abrir este form\xfalario",alertType:"error",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})}}}}),Pl=ca(Dl.getLocationsByCompany,{name:"locations",options:function(e){var t=e.companyId,a=e.setAlert,n=e.setTicketState,r=e.selectedLocation;return{variables:t,onRequestFinished:function(e){var t=Object(S.sortBy)(Object(S.get)(e,"locations",[]),["name"]);if(Object(S.size)(t)){var o=function(e,t){var a=Object(S.find)(e,(function(e){return Object(S.toLower)(e.name)===Object(S.toLower)(t)||e.id===t}));return Object(S.get)(a,"id")||Object(S.get)(Object(S.first)(e),"id")}(t,r);n({location_id:o})}else a({alertMsg:"Esta empresa n\xe3o possui um local",alertType:"warning",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})},onRequestError:function(){a({alertMsg:"Erro ao carregar os locais da empresa",alertType:"warning",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})}}}}),_l=ca(Ar.getCategoriesByCompany,{name:"ticketCategories",options:function(e){var t=e.setTicketState,a=e.companyId,n=e.setCategories,r=e.selectedCategory,o=e.setAlert;return{variables:a,onRequestFinished:function(e){var a=Object(S.sortBy)(Object(S.get)(e,"ticket_categories",[]),["title"]);if(Object(S.size)(a)){var c=function(e,t){var a=Object(S.find)(e,(function(e){return Object(S.toLower)(e.title)===Object(S.toLower)(t)||e.id===t}));return Object(S.get)(a,"id")||Object(S.get)(Object(S.first)(e),"id")}(a,r);n(a),t({category_id:c,ticket_form_questions:Rl(a,c)})}else o({alertMsg:"Esta empresa n\xe3o possui uma categoria",alertType:"warning",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})},onRequestError:function(){o({alertMsg:"Erro ao carregar categorias",alertType:"error",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})}}}}),ql=ca(yr.postPublicTicket,{name:"ticket",init:!1,options:function(e){var t=e.ticket,a=e.companyId,n=e.setAlert,r=e.categories,o=e.locationsData,c=e.setErrors,l=e.setSelectedCategory,i=e.setSelectedLocation,s=e.setTicketState;return{variables:{ticket:t,companyId:a},onRequestFinished:function(){document.querySelector("form").reset();var e=Object(S.get)(Object(S.first)(r),"id"),t=Object(S.get)(o,"data[0].id");l(e),i(t),s(Object(f.a)(Object(f.a)({},Fl()),{},{category_id:e,location_id:t,ticket_form_questions:Rl(r,e)})),n({alertMsg:"Ticket registrado com sucesso",alertType:"success",showAlert:!0}),c({})},onRequestError:function(e){c(Object(S.get)(e,"errors",{})),n({alertMsg:Object(S.get)(e,"error")||"Erro ao registrar esse ticket",alertType:"error",showAlert:!0})}}}}),Ul=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{root:Object(re.a)({flexGrow:1,marginRight:5,marginLeft:5},e.breakpoints.up("md"),{marginRight:100,marginLeft:100}),cancel:{marginRight:20},checkboxControl:{margin:e.spacing(2)},inputControl:{marginTop:-20}})}),{withTheme:!0}),h.g,Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("ticket","setTicket",Fl),Object(Z.h)("categories","setCategories",[]),Object(Z.h)("companyId","setCompanyId"),Object(Z.h)("showQuestionError","setShowQuestionError",!1),Object(Z.h)("isUploading","setIsUploading",!1),Object(Z.h)("selectedCategory","setSelectedCategory"),Object(Z.h)("selectedLocation","setSelectedLocation"),Object(Z.h)("errors","setErrors",{}),Object(Z.e)({setTicketState:function(e){var t=e.setTicket,a=e.ticket;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),Pl,_l,ql,Bl,Object(Z.c)({componentDidMount:function(){if(F.isLoggedIn())return window.location.href="/#/tickets/novo",!0;var e=this.props,t=e.location,a=e.setTicketState,n=e.setCompanyId,r=e.setSelectedCategory,o=e.setSelectedLocation,c=new URLSearchParams(t.search),l=(c.get("utm_source")||"").toUpperCase();return r(c.get("category")||c.get("category_id")||c.get("categoria")),o(c.get("location")||c.get("location_id")||c.get("local")),n(c.get("company_id")||c.get("company")||c.get("c")),"QRCODE"===l&&a({source:"QRCODE"}),!0}}))(Ll),zl=a(944),Wl={ON_DEMAND:"ON_DEMAND",SUBSCRIPTION:"SUBSCRIPTION"},Vl={getServices:function(e){var t=e.serviceType;return U.get("/services",{service_type:t})},getService:function(e){return U.get("/services/".concat(e))}},Hl=function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{container:{marginLeft:"auto",marginRight:"auto",marginBottom:20}})},Yl=Object(r.memo)((function(e){var t=e.classes,a=e.service,n=e.history;return o.a.createElement(ar.a,{onClick:function(){return n.push("/servicos/".concat(a.id,"/solicitar-servico"))}},o.a.createElement(nr.a,null,o.a.createElement(rr.a,{className:t.media,image:a.image_url,title:a.title}),o.a.createElement(or.a,{className:t.content},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("small",null,o.a.createElement("b",null,a.title))))))}));Yl.propTypes={classes:ne.a.object,service:ne.a.object,history:ne.a.object};var Gl=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Hl(e)),{},{media:{minHeight:150}})}),{withTheme:!0}),h.g)(Yl),Ql=Object(r.memo)((function(e){var t=e.history,a=e.classes,n=e.servicesData;if(e.servicesLoading)return o.a.createElement(pe,null);var r=Object(S.get)(n,"services",[]),c=Object(S.groupBy)(r,"category");return o.a.createElement(o.a.Fragment,null,o.a.createElement(zl.a,{freeSolo:!0,options:Object(S.sortBy)(r,"title"),getOptionLabel:function(e){return e.title},onChange:function(e,a){Object(S.get)(a,"id")?t.push("/servicos/".concat(a.id,"/solicitar-servico")):alert("Infelizmente n\xe3o trabalhamos com esse servi\xe7o.")},style:{width:300},renderInput:function(e){return o.a.createElement(Qe.a,Object.assign({},e,{label:"Qual servi\xe7o procura?",variant:"outlined"}))}}),Object(S.map)(c,(function(e,t){return o.a.createElement("div",{className:a.categoryContainer,key:t},o.a.createElement(ge.a,{className:a.categoryName,variant:"h6"},o.a.createElement("b",null,t)),o.a.createElement(me.a,{container:!0,spacing:2},Object(S.map)(e,(function(e){return o.a.createElement(me.a,{key:e.id,item:!0,xs:12,sm:4,md:3},o.a.createElement(Gl,{service:e}))}))))})))})),Jl=ca(Vl.getServices,{name:"services",options:function(e){var t=e.setAlert;return{variables:{serviceType:Wl.ON_DEMAND},onRequestError:function(){t({alertMsg:"Erro ao carregar lista de servi\xe7os",alertType:"error",showAlert:!0})}}}}),Xl=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{categoryContainer:{marginTop:40},categoryName:{marginTop:15,marginBottom:10}})}),{withTheme:!0}),h.g,Jl)(Ql),Kl={createServiceRequest:function(e){var t=e.serviceId,a=e.dynamicQuestions,n=Object(S.mapValues)(a,(function(e){return e.originalFileObj?{id:e.id,storage:e.storage,metadata:e.metadata,base64Data:e.base64Data}:e}));return U.post("/service_requests",{service_id:t,dynamic_questions:n})},getServiceRequests:function(e){var t=e.status;return U.get("/service_requests",{status:t})},getServiceRequest:function(e){return U.get("/service_requests/".concat(e))},deleteServiceRequest:function(e){return U.put("/service_requests/".concat(e))}},Zl=Kl,$l=ca(Vl.getService,{name:"service",options:function(e){return{variables:e.match.params.serviceId}}}),ei=ca(Zl.createServiceRequest,{name:"createServiceRequest",init:!1,options:function(e){var t=e.serviceData,a=e.formData,n=e.resetFormData,r=e.setFormData,o=e.setAlert,c=a.changedFields;return{variables:{serviceId:Object(S.get)(t,"service.id"),dynamicQuestions:c},onRequestFinished:function(){o({alertMsg:"Recebemos! Em breve nosso especialista vai entrar em contato com voc\xea!",alertType:"success",showAlert:!0}),n()},onRequestError:function(e){o({alertMsg:"Erro ao solicitar servi\xe7o",alertType:"error",showAlert:!0}),r({validationErrors:Object(S.get)(e,"errors",{})})}}}}),ti=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Hl(e)),{},{title:{marginBottom:e.spacing(4)},subtitlesContainer:{marginBottom:e.spacing(1)},marginLeftContainer:{paddingLeft:e.spacing(4)},benefitsList:{margin:0,padding:0,paddingLeft:"1em"},textContentsContainer:{marginBottom:e.spacing(4)},questionContainer:{marginTop:e.spacing(3)},goBackButton:{marginRight:e.spacing(2)}})}),{withTheme:!0}),h.g,$l,(function(e){return function(t){return t.serviceLoading?o.a.createElement(pe,null):o.a.createElement(e,t)}}),r.memo,zr((function(e){return Object(S.zipObject)(Object(S.map)(Object(S.get)(e,"serviceData.service.form_questions"),(function(e){return e.question})),Object(S.map)(Object(S.get)(e,"serviceData.service.form_questions"),(function(e){return"ATTACHMENT"===e.field_type?{}:"CHECKBOX"===e.field_type?[]:""})))})),ei)((function(e){var t=e.classes,a=e.serviceData,n=e.formData,r=e.setFormData,c=e.createServiceRequestFetch,l=e.createServiceRequestLoading,s=n.validationErrors||{},m=function(){return c(!0)},u=function(e){e.ctrlKey&&13===e.keyCode&&m()},d=a.service;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{className:t.title,variant:"h4"},d.title),o.a.createElement(me.a,{container:!0,className:t.subtitlesContainer},o.a.createElement(me.a,{item:!0,xs:6},o.a.createElement(ge.a,{variant:"subtitle1"},o.a.createElement("b",null,d.subtitle)))),o.a.createElement(me.a,{container:!0,className:t.textContentsContainer},o.a.createElement(me.a,{item:!0,xs:6},o.a.createElement(ge.a,{variant:"body2"},d.description)),o.a.createElement(me.a,{item:!0,xs:6,className:t.marginLeftContainer},o.a.createElement("ul",{className:t.benefitsList},Object(S.map)(d.benefits,(function(e){return o.a.createElement("li",{key:e},o.a.createElement(ge.a,{variant:"body2"},e))}))))),o.a.createElement(Za.a,{className:"".concat(t.container," ").concat(t.paper)},o.a.createElement(me.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},o.a.createElement(me.a,{item:!0,xs:12},Object(S.map)(d.form_questions,(function(e){return o.a.createElement("div",{key:e.id,className:t.questionContainer},o.a.createElement(ge.a,{variant:"subtitle1"},o.a.createElement("b",null,e.question)),o.a.createElement(oa,{fieldType:e.field_type,onKeyDown:u,value:n[e.question],onChangeValue:function(t){return r(Object(re.a)({},e.question,t))},errors:s["dynamic_questions.".concat(e.question)],options:Object(S.map)(e.options,(function(e){return{label:e,value:e}})),emptyOptionLabel:" ",uploadFileFunc:Ht,required:e.required,disabled:l}))})),o.a.createElement("div",{className:t.actions},o.a.createElement(ue.a,{className:t.goBackButton,component:i.b,to:"/servicos",color:"default",size:"large",disabled:l},"Voltar"),o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",onClick:m,disabled:l},l?"Aguarde...":"Enviar"))))))})),ai=Object(r.memo)((function(e){var t=e.classes,n=e.history,r=Object(Na.a)(),c=Object(Sa.a)(r.breakpoints.down("sm")),l=c?275:380,i=c?133:184;return o.a.createElement("section",{className:t.welcome},o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.root},o.a.createElement(ge.a,{variant:"h5",className:t.center},o.a.createElement("b",null,"Solicite servi\xe7os e conecte-se com nossos parceiros")),o.a.createElement("p",{className:t.center},"Receba or\xe7amentos e contrate o que precisar sem a dor de cabe\xe7a de lidar com v\xe1rios fornecedores.",o.a.createElement("br",null),"N\xf3s lidamos com eles com carinho e voc\xea fica no controle."),o.a.createElement("p",{className:t.center},o.a.createElement("img",{src:a(736),width:l,height:i,alt:"Todos os servi\xe7os em um \xfanico lugar"})),o.a.createElement("br",null),o.a.createElement("p",{className:t.center},o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",onClick:function(){F.setServicesWelcomeVisited(),n.replace("/servicos")}},"Come\xe7ar")))))})),ni=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{welcome:{marginTop:30},container:{paddingLeft:0}})}),{withTheme:!0}),h.g)(ai),ri=Object(r.memo)((function(e){var t=e.classes,a=e.setAlert,n=e.children;return F.isServicesWelcomeVisited()?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Servi\xe7os"))))),o.a.createElement("div",{className:t.container},o.a.cloneElement(n,{setAlert:a}))):o.a.createElement(ni,null)})),oi=Object(Z.b)(Object($.a)(Hl,{withTheme:!0}),Zn)(ri),ci=Object(r.memo)((function(){return o.a.createElement(h.d,null,o.a.createElement(h.b,{exact:!0,path:"/servicos"},o.a.createElement(oi,null,o.a.createElement(Xl,null))),o.a.createElement(h.b,{exact:!0,path:"/servicos/sobdemanda"},o.a.createElement(h.a,{to:{pathname:"/servicos"}})),o.a.createElement(h.b,{exact:!0,path:"/servicos/recorrentes"},o.a.createElement(h.a,{to:{pathname:"/servicos"}})),o.a.createElement(h.b,{path:"/servicos/:serviceId/solicitar-servico"},o.a.createElement(Kn,null,o.a.createElement(ti,null))))})),li=ci,ii=Object(r.memo)((function(e){var t=e.classes,a=e.onClose,n=e.setAlert,r=e.formData,c=e.setFormData,l=e.checkEmailStep,i=e.refetch,s=e.setCheckEmailStep,d=e.loading,b=e.setLoading,p=e.errors,g=e.setErrors,h=Object(Na.a)(),E=Object(Sa.a)(h.breakpoints.down("sm")),v=d||Object(S.isEmpty)(r.email),O=F.getUserData(),j="ADMIN"===Object(S.get)(O,"role","MEMBER"),C=Object(S.sortBy)(Object(S.get)(O,"".concat(j?"company.":"","locations"),[]),["name"]),y=function(e){return c(Object(f.a)(Object(f.a)({},r),e))},k=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=16;break}return e.prev=1,g({}),b(!0),e.next=6,Qo.emailCheck(r.email);case 6:s(!1),G.hit("EmailChecked - Success"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),g(Object(S.mapValues)(Object(S.get)(e.t0,"errors",{}),(function(e){return e[0]})));case 13:b(!1),e.next=33;break;case 16:return e.prev=16,g({}),b(!0),e.next=21,Qo.createMember(Object(f.a)({},r));case 21:G.hit("MemberCreated - Success"),n({alertMsg:"Usu\xe1rio criado com sucesso",alertType:"success",showAlert:!0}),b(!1),a(),i(!0),e.next=33;break;case 28:e.prev=28,e.t1=e.catch(16),g(Object(S.mapValues)(Object(S.get)(e.t1,"errors",{}),(function(e){return e[0]}))),n({alertMsg:"N\xe3o foi poss\xedvel criar o usu\xe1rio",alertType:"error",showAlert:!0}),b(!1);case 33:case"end":return e.stop()}}),e,null,[[1,10],[16,28]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(Wr.a,{fullScreen:E,keepMounted:!0,fullWidth:!l,maxWidth:l?"sm":"md",classes:{paper:t.dialogMemberForm},open:!0},o.a.createElement(Vr.a,null,"Convidar usu\xe1rio",o.a.createElement(tt.a,{className:t.closeButton,onClick:a,disabled:d},o.a.createElement(et.a,null))),o.a.createElement(Hr.a,{className:t.content},o.a.createElement(me.a,{container:!0,direction:"row",spacing:1},l&&o.a.createElement(me.a,{item:!0,xs:12,className:t.gridSizeMedium},o.a.createElement(ht,{label:"Email",disabled:d,errors:Object(S.get)(p,"email",[]),value:Object(S.get)(r,"email",""),onChangeText:function(e){return y({email:e})}})),!l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ht,{label:"E-mail",disabled:!0,errors:Object(S.get)(p,"email",[]),value:Object(S.get)(r,"email",""),onChangeText:function(e){return y({email:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{label:"Nome",disabled:d,errors:Object(S.get)(p,"name",[]),value:Object(S.get)(r,"name",""),onChangeText:function(e){return y({name:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{label:"Sobrenome",disabled:d,errors:Object(S.get)(p,"lastname",[]),value:Object(S.get)(r,"lastname",""),onChangeText:function(e){return y({lastname:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{label:"Cargo",disabled:d,value:Object(S.get)(r,"jobRole",""),onChangeText:function(e){return y({jobRole:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Nt,{label:"Telefone celular",disabled:d,value:Object(S.get)(r,"phone",""),onChange:function(e){return y({phone:(e.target.value||"").replace(/[\D]+/g,"").slice(0,15)})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ge.a,{variant:"h6",className:t.blockTitle},"Permiss\xe3o"),o.a.createElement(It,{label:"N\xedvel de acesso",errors:Object(S.get)(p,"role",[]),value:Object(S.get)(r,"role",""),disabled:d,onChange:function(e){return y({role:e.target.value})},options:Ha}),o.a.createElement(gt.a,null,Ya[Object(S.get)(r,"role")||"MEMBER"])),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ge.a,{variant:"h6",className:t.blockTitle},"Locais de acesso"),o.a.createElement(pt.a,{fullWidth:!0,error:!!p.location_ids},p.location_ids&&o.a.createElement(gt.a,null,p.location_ids),C.map((function(e){return o.a.createElement(_t.a,{key:e.id,className:t.checkBox,classes:{label:t.checkboxLabel,root:t.checkboxControl},control:o.a.createElement(qt.a,{checked:e.checked,disabled:d,onChange:function(){return function(e){var t=[];t=Object(S.includes)(Object(S.get)(r,"locationIds",[]),e)?Object(S.pull)(r.locationIds,e):r.locationIds.concat([e]),c(Object(f.a)(Object(f.a)({},r),{},{locationIds:t}))}(e.id)},value:e.id}),label:e.name})}))))))),o.a.createElement(Yr.a,{className:t.actions},o.a.createElement(me.a,{container:!0,justify:l?"flex-start":"space-between",spacing:2},!l&&o.a.createElement(me.a,{item:!0,xs:12,sm:8}),o.a.createElement(me.a,{item:!0,xs:6,sm:l?6:2},o.a.createElement(ue.a,{fullWidth:!0,color:"default",size:"large",variant:"contained",onClick:a,disabled:d},"CANCELAR")),o.a.createElement(me.a,{item:!0,xs:6,sm:l?6:2},o.a.createElement(ue.a,{fullWidth:!0,color:"primary",size:"large",variant:"contained",onClick:k,disabled:v},l?"PR\xd3XIMO":"SALVAR")))))})),si={role:Object(S.first)(Ha).value,locationIds:[]},mi=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{actions:{margin:15,marginBottom:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"},blockTitle:{marginTop:15},checkboxLabel:{fontSize:e.typography.caption.fontSize},checkboxControl:{marginLeft:3},gridSizeMedium:{width:400}})}),{withTheme:!0}),Object(Z.h)("formData","setFormData",si),Object(Z.h)("loading","setLoading",!1),Object(Z.h)("errors","setErrors",{}),Object(Z.h)("checkEmailStep","setCheckEmailStep",!0))(ii),ui=Object(r.memo)((function(e){var t=e.setLocationOptionChecked,a=e.isLoading,n=e.formData,r=e.setFormData,c=e.classes,l=e.isSubmiting;if(a)return o.a.createElement(pe,null);var i=n.locationsOptions,s=n.validationErrors||{},m=F.getUserData(),u=Object(S.get)(m,"role"),d=Object(S.get)(m,"id");return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{container:!0,direction:"row",spacing:1},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{errors:Object(S.get)(s,"name",[]),label:"Nome",disabled:l,value:Object(S.get)(n,"name")||"",onChangeText:function(e){return r({name:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{errors:Object(S.get)(s,"lastname",[]),label:"Sobrenome",disabled:l,value:Object(S.get)(n,"lastname")||"",onChangeText:function(e){return r({lastname:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{errors:Object(S.get)(s,"email",[]),label:"E-mail",disabled:!0,value:Object(S.get)(n,"email")||"",onChangeText:function(e){return r({email:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Nt,{errors:Object(S.get)(s,"phone",[]),label:"Telefone celular",disabled:l,value:Object(S.get)(n,"phone")||"",onChangeValue:function(e){return r({phone:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{label:"Cargo",value:Object(S.get)(n,"job_role")||"",onChangeText:function(e){return r({job_role:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6}),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ge.a,{variant:"h6"},"Permiss\xe3o"),"ADMIN"!==u||Object(S.get)(n,"id")!==d?o.a.createElement(It,{errors:Object(S.get)(s,"role",[]),label:"N\xedvel de acesso",value:Object(S.get)(n,"role")||"",disabled:l,onChange:function(e){return r({role:e.target.value})},options:Ha}):o.a.createElement(ht,{label:"N\xedvel de acesso",disabled:!0,value:Object(S.get)(Ha.find((function(e){return e.value===Object(S.get)(n,"role","MEMBER")})),"label")}),o.a.createElement(gt.a,null,Ya[Object(S.get)(n,"role")||"MEMBER"])),"ADMIN"===Object(S.get)(n,"role")?o.a.createElement(o.a.Fragment,null):o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ge.a,{variant:"h6"},"Locais de acesso"),o.a.createElement(pt.a,{fullWidth:!0,error:!!s.location_ids},s.location_ids&&o.a.createElement(gt.a,null,s.location_ids),i.map((function(e){return o.a.createElement(_t.a,{key:e.value,classes:{label:c.checkboxLabel,root:c.checkboxControl},control:o.a.createElement(qt.a,{checked:e.checked,disabled:l,onChange:function(a){t({locationId:e.value,checked:a.target.checked})},value:e.value}),label:e.label})}))))))})),di=Object(Z.b)(ie,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{checkboxLabel:{fontSize:e.typography.caption.fontSize},checkboxControl:{marginLeft:3}})}),{withTheme:!0}),Nr,Object(Z.e)({setLocationOptionChecked:function(e){var t=e.formData,a=e.setFormData;return function(e){var n=e.locationId,r=e.checked,o=t.locationsOptions;a({locationsOptions:Object(S.map)(o,(function(e){return e.value===n?Object(f.a)(Object(f.a)({},e),{},{checked:r}):e}))})}}}),Object(Z.g)(["viewer","member"],(function(e){var t=e.member,a=e.viewer,n=e.setFormData,r=e.allLocations;if(!a)return null;var o=Object(S.get)(t,"locations",[]),c=r.map((function(e){return{label:e.name,value:e.id,checked:o.some((function(t){return e.id===t.id}))}})),l=Object(f.a)({locationsOptions:c},t);return n(Object(f.a)(Object(f.a)({},l),{},{previousValues:l})),!0})))(ui),bi=di,pi=Object(r.memo)((function(e){var t=e.member,a=e.isLoading,n=e.open,r=e.classes,c=e.formData,l=e.setFormData,i=e.onClose,s=e.updateMemberFetch,m=e.updateMemberLoading,u=e.blockMemberFetch,d=e.blockMemberLoading,b=e.allLocationsData,p=e.allLocationsLoading,g=Object(Na.a)(),f=Object(Sa.a)(g.breakpoints.down("sm")),h=a||p,E=Object(S.get)(b,"locations",[]),v=m||d;return o.a.createElement(Wr.a,{fullScreen:f,keepMounted:!0,fullWidth:!0,maxWidth:"md",classes:{paper:r.dialogMemberForm},open:n,onClose:function(){return i({shouldRefetch:!1})}},o.a.createElement(Vr.a,null,"Editar usu\xe1rio",o.a.createElement(tt.a,{className:r.closeButton,onClick:function(){return i({shouldRefetch:!1})}},o.a.createElement(et.a,null))),o.a.createElement(Hr.a,{className:r.content},o.a.createElement(bi,{member:t,allLocations:E,formData:c,setFormData:l,isLoading:h,isSubmiting:v})),o.a.createElement(Yr.a,{className:r.actions},o.a.createElement(me.a,{container:!0,justify:"space-between",spacing:2},o.a.createElement(me.a,{item:!0,xs:12,sm:8},o.a.createElement(ue.a,{fullWidth:f,color:"secondary",size:"large",variant:f?"outlined":"contained",onClick:function(){window.confirm("Tem certeza em bloquear esse usu\xe1rio?")&&u(!0,"",null,Object(S.get)(t,"id",""))},disabled:h||v},"DESATIVAR USU\xc1RIO")),o.a.createElement(me.a,{item:!0,xs:6,sm:2},o.a.createElement(ue.a,{fullWidth:!0,color:"default",size:"large",variant:"contained",onClick:function(){return i({shouldRefetch:!1})},disabled:h||v},"CANCELAR")),o.a.createElement(me.a,{item:!0,xs:6,sm:2},o.a.createElement(ue.a,{fullWidth:!0,color:"primary",size:"large",variant:"contained",onClick:function(){return s(!0).catch((function(){}))},disabled:h||v},"SALVAR")))))})),gi=ca(Dl.getLocations,{name:"allLocations",options:function(){var e=F.getUserData();return{variables:{listInactive:!1,listAll:"ADMIN"===Object(S.get)(e,"role","MEMBER")}}}}),fi=ca(Qo.updateMember,{name:"updateMember",init:!1,options:function(e){var t=e.formData,a=e.setFormData,n=e.member,r=e.setAlert,o=e.onClose,c=Object(S.pickBy)(t,(function(e,a){var n=t.previousValues[a];return!Object(S.isEqual)(n,e)})),l={};c.locationsOptions&&(l={locationIds:Object(S.map)(Object(S.pickBy)(c.locationsOptions,{checked:!0}),(function(e){return e.value}))});return{variables:Object(f.a)(Object(f.a)({id:n.id},c),l),onRequestFinished:function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getViewer();case 2:t=e.sent,F.setUserData(Object(S.get)(t,"member")),r({alertMsg:"Usu\xe1rio alterado com sucesso",alertType:"success",showAlert:!0}),o({shouldRefetch:!0});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){var t=Object(S.get)(e,"error","");r({alertMsg:t||"Erro ao alterar este usu\xe1rio",alertType:"error",showAlert:!0});var n=Object(S.mapValues)(Object(S.get)(e,"errors",{}),(function(e){return e[0]}));a({validationErrors:n})}}}}),hi=ca(Qo.blockMember,{name:"blockMember",init:!1,options:function(e){var t=e.member,a=e.onClose,n=e.setAlert;return{variables:Object(S.get)(t,"id"),onRequestFinished:function(){n({alertMsg:"Usu\xe1rio bloqueado com sucesso",alertType:"success",showAlert:!0}),a({shouldRefetch:!0})},onRequestError:function(e){n({alertMsg:Object.values(e.errors).flat().join()||"Erro ao bloquear este usu\xe1rio",alertType:"error",showAlert:!0})}}}}),Ei=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{actions:{margin:15,marginBottom:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"}})}),{withTheme:!0}),Object(Z.h)("formData","setFormDataRaw",{locationsOptions:[],previousValues:{},validationErrors:{}}),gi,Object(Z.e)({setFormData:function(e){var t=e.setFormDataRaw,a=e.formData;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),hi,fi)(pi),vi=function(e){return Object(f.a)({},oe(e))},Oi=ca(Qo.unblockMember,{name:"unblockMember",init:!1,options:function(e){var t=e.memberId,a=e.setAlert,n=e.refetch;return{variables:t,onRequestFinished:function(){a({alertMsg:"Usu\xe1rio desbloqueado com sucesso",alertType:"success",showAlert:!0}),G.hit("UnblockUser",{memberId:t}),n(!1)},onRequestError:function(){a({alertMsg:"Erro ao desbloquear usu\xe1rio",alertType:"error",showAlert:!0})}}}}),ji=Object(Z.b)(Oi)((function(e){var t=e.unblockMemberFetch,a=e.unblockMember;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{variant:"outlined",size:"large",onClick:function(){return t(!0)},disabled:a},"Reativar conta"))})),Ci=Object(Z.b)(Object(Z.h)("openModal","setOpenModal",!1),Object(Z.h)("canResendInivitation","setCanResendInivitation",!0))((function(e){var t=e.classes,a=e.canResendInivitation,n=e.setCanResendInivitation,r=e.setAlert,c=e.member,l=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!1),e.next=4,Qo.resendInvitationEmail(c.id);case 4:G.hit("NewMemberInvitation - Resend"),r({alertMsg:"Convite enviado com sucesso",alertType:"success",showAlert:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r({alertMsg:"Erro ao enviar email",alertType:"error",showAlert:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{className:t.smallScreenResendButton,variant:"outlined",size:"large",onClick:l,disabled:!a},a?"Reenviar convite":"Convite enviado"))})),yi=ca(Qo.getMember,{name:"member",init:!1,options:function(e){return{variables:e.memberId}}}),ki=Object(Z.b)(Object(Z.h)("openModal","setOpenModal",!1),yi,Object(Z.g)(["openModal"],(function(e){var t=e.openModal,a=e.memberFetch;t&&a(!0)})))((function(e){var t=e.memberData,a=e.memberLoading,n=e.refetch,r=e.openModal,c=e.setOpenModal,l=e.setAlert,i=Object(S.get)(t,"member"),s=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.shouldRefetch){e.next=4;break}return e.next=4,n(!1);case 4:G.hit("MembersFormModal - Closed"),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{variant:"outlined",size:"large",onClick:function(){G.hit("MembersFormModal - Opened"),c(!0)}},"Editar"),r&&o.a.createElement(Ei,{isLoading:a,member:i,open:r,onClose:s,setAlert:l}))})),Ai=Object(r.memo)((function(e){var t=e.viewer,a=e.index,n=e.member,r=e.classes,c=e.refetch,l=e.setAlert;if(!t)return null;var i=Object(S.get)(F.getUserData(),"id"),s=Object(S.get)(Object(S.find)(Ha,(function(e){return e.value===Object(S.get)(n,"role")})),"label"),m="ADMIN"===Object(S.get)(n,"role"),u=Object(S.get)(n,"id"),d="".concat(Object(S.get)(n,"name")," ").concat(Object(S.get)(n,"lastname")),b=Object(S.get)(n,"email"),p=Object(S.get)(n,"photo_url"),g=Object(S.get)(n,"must_change_password",!1),f=Object(S.get)(n,"blocked_at"),h=Object(S.get)(n,"locations"),E=m?"Todos locais":Object(S.map)(h,(function(e){return e.name})).join(", "),v=Ga.includes(t.role),O=i!==u&&g;return o.a.createElement(Aa.a,{className:a%2?r.bgWhite:r.bgGray},o.a.createElement(wa.a,{className:r.tableSmallCell},o.a.createElement("div",{className:r.avatarNameContainer},o.a.createElement(Va,{name:d,photoUrl:p}),o.a.createElement("span",{className:"".concat(r.cellText," ").concat(r.userName)},d))),o.a.createElement(wa.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},b)),o.a.createElement(wa.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},s)),o.a.createElement(wa.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},E)),o.a.createElement(wa.a,{className:r.tableMediumCell},o.a.createElement(me.a,{container:!0,item:!0},o.a.createElement(me.a,{item:!0,xs:12},f&&o.a.createElement(ji,{memberId:n.id,refetch:c,setAlert:l})),o.a.createElement(me.a,{item:!0,xs:12},v&&!f&&o.a.createElement(ki,{memberId:n.id,refetch:c,setAlert:l})),o.a.createElement(me.a,{item:!0,xs:12},O&&!f&&o.a.createElement(Ci,{member:n,refetch:c,setAlert:l,classes:r})))))})),wi=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},vi(e)),{},{cellText:{color:"#313131",fontSize:14},userName:{marginRight:5,marginLeft:10},avatarNameContainer:{display:"flex",alignItems:"center"},smallScreenResendButton:{marginTop:10}})}),{withTheme:!0}),Nr)(Ai),Ti=Object(r.memo)((function(e){var t=e.membersData,a=e.membersLoading,n=e.openCreateMemberModal,r=e.setOpenCreateMemberModal,c=e.classes,l=e.membersFetch,i=e.setAlert,s=e.onlyActive,m=e.setOnlyChecked,u=Object(S.get)(F.getUserData(),"id"),d=Object(S.get)(t,"members");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:c.container},o.a.createElement("div",{className:c.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Usu\xe1rios (".concat(Object(S.size)(d),")")))),o.a.createElement("aside",null,o.a.createElement("div",{className:c.headerButtonAndActiveFilter},o.a.createElement(Pt.a,{row:!0},o.a.createElement(_t.a,{control:o.a.createElement(qt.a,{checked:s,onChange:function(e){m(e.target.checked),l(!0)},color:"primary",disabled:a}),label:"Usu\xe1rios ativos"})),o.a.createElement(ue.a,{size:"large",color:"primary",variant:"contained",onClick:function(){r(!0),G.hit("NewMemberModal - Opened")}},"CONVIDAR USU\xc1RIO"))))),o.a.createElement("div",{className:c.container},o.a.createElement(Za.a,{className:c.tablePaper},o.a.createElement(ya.a,null,o.a.createElement(ka.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:c.tableCell},"NOME"),o.a.createElement(wa.a,{className:c.tableCell},"EMAIL"),o.a.createElement(wa.a,{className:c.tableCell},"PERMISS\xc3O DE ACESSO"),o.a.createElement(wa.a,{className:c.tableCell},"LOCAIS"))),o.a.createElement(xa.a,null,a?o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{colSpan:5,align:"center"},o.a.createElement(pe,null))):Object(S.size)(d)?d.map((function(e,t){return o.a.createElement(wi,{loggedMemberId:u,refetch:l,setAlert:i,index:t,key:e.id,member:e,loading:a})})):o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:c.empty,colSpan:5,align:"center"},"Nenhum usu\xe1rio cadastrado")),n&&o.a.createElement(mi,{onClose:function(){r(!1)},setAlert:i,refetch:l}))))))})),xi=ca(Qo.getMembers,{name:"members",options:function(e){var t=e.setAlert;return{variables:{onlyActive:e.onlyActive},onRequestError:function(){t({alertMsg:"Erro ao carregar dados do servidor",alertType:"error",showAlert:!0})}}}}),Ni=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},vi(e)),{},{container:{marginBottom:30,marginTop:30},empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14},titleTableCell:{fontSize:20},headerButtonAndActiveFilter:{display:"flex",flexDirection:"row",alignItems:"center"},activeFilter:{marginRight:10}})}),{withTheme:!0}),Object(Z.h)("openCreateMemberModal","setOpenCreateMemberModal",!1),Object(Z.h)("onlyActive","setOnlyChecked",!0),jl({condition:function(e){return!Ga.includes(e.role)}}),xi)(Ti),Si=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=t.showAlert,c=t.alertMsg,l=t.alertType,i=null;return r&&(i=o.a.createElement(ct,{message:c,type:l,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}})),o.a.createElement("div",{className:n.root},o.a.createElement(Nn,{alertBox:i}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:n.container},o.a.createElement(Ni,{setAlert:a}))))})),Di=Object(Z.b)(Object($.a)(vi,{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}))(Si),Mi=Object(Z.b)(Zn,r.memo,Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}))((function(e){var t=e.classes,a=e.setAlert,n=e.WrappedComponent,r=Object(bt.a)(e,["classes","setAlert","WrappedComponent"]),c=ie(n);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es")))),o.a.createElement(qn,null),o.a.createElement(c,Object.assign({setAlert:a},r)))})),Ii=function(e){return function(t){return o.a.createElement(Mi,Object.assign({},t,{WrappedComponent:e}))}},Fi=[{label:"AC",value:"AC"},{label:"AL",value:"AL"},{label:"AP",value:"AP"},{label:"AM",value:"AM"},{label:"BA",value:"BA"},{label:"CE",value:"CE"},{label:"DF",value:"DF"},{label:"ES",value:"ES"},{label:"GO",value:"GO"},{label:"MA",value:"MA"},{label:"MT",value:"MT"},{label:"MS",value:"MS"},{label:"MG",value:"MG"},{label:"PA",value:"PA"},{label:"PB",value:"PB"},{label:"PR",value:"PR"},{label:"PE",value:"PE"},{label:"PI",value:"PI"},{label:"RJ",value:"RJ"},{label:"RN",value:"RN"},{label:"RS",value:"RS"},{label:"RO",value:"RO"},{label:"RR",value:"RR"},{label:"SC",value:"SC"},{label:"SP",value:"SP"},{label:"SE",value:"SE"},{label:"TO",value:"TO"}],Ri=Object(r.memo)((function(e){var t=e.formData,a=e.setFormData,n=e.isLoading;if(n)return o.a.createElement(pe,null);var r=t.validationErrors||{};return o.a.createElement(me.a,{container:!0,direction:"row",spacing:1},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{errors:r.name,label:"Apelido",placeholder:"Endere\xe7o principal, Nome da sede, etc",disabled:n,value:t.name,onChange:function(e){return a({name:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{errors:r.address,label:"Endere\xe7o completo",placeholder:"Rua Monteiro Lobato, 555",disabled:n,value:t.address,onChange:function(e){return a({address:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{errors:r.complement,label:"Complemento",disabled:n,value:t.complement,onChange:function(e){return a({complement:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{errors:r.neighborhood,label:"Bairro",disabled:n,value:t.neighborhood,onChange:function(e){return a({neighborhood:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{errors:r.city,label:"Cidade",disabled:n,value:t.city,onChange:function(e){return a({city:e.target.value})}})),o.a.createElement(me.a,{item:!0,xs:6,sm:3},o.a.createElement(It,{errors:r.state,label:"Estado",disabled:n,value:t.state,onChange:function(e){return a({state:e.target.value})},options:Fi,emptyOptionLabel:"Estado"})),o.a.createElement(me.a,{item:!0,xs:6,sm:3},o.a.createElement(wt,{errors:r.zip_code,label:"CEP",disabled:n,value:t.zip_code,onChangeText:function(e){return a({zip_code:e})}})))})),Li=Object(r.memo)((function(e){var t=e.classes,a=e.open,n=e.onClose,r=e.modalTitle,c=e.formData,l=e.setFormData,i=e.onSubmit,s=e.isLoading,m=Object(Na.a)(),u=Object(Sa.a)(m.breakpoints.down("sm"));return o.a.createElement(Wr.a,{fullScreen:u,keepMounted:!0,fullWidth:!0,maxWidth:"md",classes:{paper:t.dialogMemberForm},open:a,onClose:n},o.a.createElement(Vr.a,null,r,o.a.createElement(tt.a,{className:t.closeButton,onClick:function(){return n({shouldRefetch:!1})}},o.a.createElement(et.a,null))),o.a.createElement(Hr.a,{className:t.content},o.a.createElement(Ri,{formData:c,setFormData:l,isLoading:s})),o.a.createElement(Yr.a,{className:t.actions},o.a.createElement(me.a,{container:!0,justify:"flex-end",spacing:2},o.a.createElement(me.a,{item:!0,xs:6,sm:2},o.a.createElement(ue.a,{fullWidth:!0,color:"default",size:"large",variant:"contained",onClick:n,disabled:s},"CANCELAR")),o.a.createElement(me.a,{item:!0,xs:6,sm:2},o.a.createElement(ue.a,{fullWidth:!0,color:"primary",size:"large",variant:"contained",onClick:i,disabled:s},"SALVAR")))))})),Bi=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{actions:{margin:15,marginBottom:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"}})}),{withTheme:!0})(Li),Pi=Object(r.memo)((function(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.onClose,r=e.formData,c=e.setFormData,l=e.updateLocationFetch,i=e.updateLocationLoading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{variant:"outlined",size:"large",onClick:function(){G.hit("EditLocationModal - Opened"),a(!0)}},"EDITAR"),t&&o.a.createElement(Bi,{open:t,onClose:n,modalTitle:"Editar Local",formData:r,setFormData:c,onSubmit:function(){return l(!0).catch((function(){}))},isLoading:i}))})),_i=ca(Dl.updateLocation,{name:"updateLocation",init:!1,options:function(e){var t=e.location,a=e.formData.changedFields,n=e.setFormData,r=e.setAlert,o=e.onUpdated,c=e.onClose;return{variables:{id:t.id,changes:a},onRequestFinished:function(){r({alertMsg:"Local criado alterado sucesso",alertType:"success",showAlert:!0}),o(),c()},onRequestError:function(e){r({alertMsg:"Erro ao alterar este local",alertType:"error",showAlert:!0}),n({validationErrors:Object(S.get)(e,"errors",{})})}}}}),qi=Object(Z.b)(Object(Z.h)("isModalOpen","setIsModalOpen",!1),zr((function(e){return e.location})),Object(Z.e)({onClose:function(e){var t=e.resetFormData,a=e.setIsModalOpen;return function(){G.hit("EditLocationModal - Closed"),t(),a(!1)}}}),_i)(Pi),Ui=Object(r.memo)((function(e){var t=e.classes,a=e.setAlert,n=e.refetch,r=e.index,c=e.location,l=e.toggleActiveFetch,i=e.toggleActiveLoading,s=e.isActive,m=e.setIsActive,u=c||{},d=u.name,b=u.complement,p=u.address,g=u.city,f=u.state,h=b?"".concat(p,", ").concat(b):p,E=g&&f?"".concat(g,"/").concat(f):"";return o.a.createElement(Aa.a,{className:r%2?t.bgWhite:t.bgGray},o.a.createElement(wa.a,{className:t.tableSmallCell},o.a.createElement("span",{className:t.cellText},d)),o.a.createElement(wa.a,{className:t.tableSmallCell},o.a.createElement("span",{className:t.cellText},h)),o.a.createElement(wa.a,{className:t.tableSmallCell},o.a.createElement("span",{className:t.cellText},E)),o.a.createElement(wa.a,{className:t.tableSmallCell},o.a.createElement(xo.a,{color:"primary",disabled:i,checked:s,onChange:function(){m(!s),l(!0)}})),o.a.createElement(wa.a,{className:t.tableSmallCell},o.a.createElement(qi,{setAlert:a,onUpdated:n,location:c})))})),zi=ca(Dl.toggleActive,{name:"toggleActive",init:!1,options:function(e){var t=e.location,a=e.refetch,n=e.setAlert,r=e.isActive,o=e.setIsActive;return{variables:t.id,onRequestFinished:function(){a()},onRequestError:function(e){n({alertMsg:Object(S.get)(e,"error","Erro ao desabilitar este local")}),o(!r)}}}}),Wi=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{cellText:{color:"#313131",fontSize:14}})}),{withTheme:!0}),Object(Z.h)("isActive","setIsActive",(function(e){var t=e.location;return Object(S.isEmpty)(t.deleted_at)})),zi)(Ui),Vi=Object(r.memo)((function(e){var t=e.locationsData,a=e.locationsLoading,n=e.locationsFetch,r=e.setAlert,c=e.classes,l=Object(S.get)(t,"locations",[]);return o.a.createElement(ya.a,null,o.a.createElement(ka.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:c.tableCell},"NOME"),o.a.createElement(wa.a,{className:c.tableCell},"ENDERE\xc7O"),o.a.createElement(wa.a,{className:c.tableCell},"CIDADE"),o.a.createElement(wa.a,{className:c.tableCell},"HABILITAR"),o.a.createElement(wa.a,{className:c.tableCell}))),o.a.createElement(xa.a,null,a?o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{colSpan:5,align:"center"},o.a.createElement(pe,null))):Object(S.size)(l)?l.map((function(e,t){return o.a.createElement(Wi,{key:e.id,setAlert:r,index:t,location:e,refetch:n})})):o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:c.empty,colSpan:5,align:"center"},"Nenhum local cadastrado"))))})),Hi=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14}})}),{withTheme:!0})(Vi),Yi={validationErrors:{},name:"",address:"",neighborhood:"",city:"",state:"",zip_code:"",complement:""},Gi=Object(r.memo)((function(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.onClose,r=e.formData,c=e.setFormData,l=e.createLocationFetch,i=e.createLocationLoading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{color:"primary",size:"large",variant:"contained",onClick:function(){G.hit("NewLocationModal - Opened"),a(!0)}},"NOVO LOCAL"),t&&o.a.createElement(Bi,{open:t,onClose:n,modalTitle:"Novo Local",formData:r,setFormData:c,onSubmit:function(){return l(!0)},isLoading:i}))})),Qi=ca(Dl.createLocation,{name:"createLocation",init:!1,options:function(e){var t=e.formData,a=e.setFormData,n=e.setAlert,r=e.onCreated,o=e.onClose;t.validationErrors;return{variables:Object(bt.a)(t,["validationErrors"]),onRequestFinished:function(){n({alertMsg:"Local criado com sucesso",alertType:"success",showAlert:!0}),r(),o()},onRequestError:function(e){n({alertMsg:"Erro ao criar local",alertType:"error",showAlert:!0}),a({validationErrors:Object(S.get)(e,"errors",{})})}}}}),Ji=Object(Z.b)(Object(Z.h)("isModalOpen","setIsModalOpen",!1),Object(Z.h)("formData","setFormDataRaw",Yi),Object(Z.e)({setFormData:function(e){var t=e.setFormDataRaw,a=e.formData;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),Object(Z.e)({onClose:function(e){var t=e.setFormData,a=e.setIsModalOpen;return function(){G.hit("NewLocationModal - Closed"),t(Yi),a(!1)}}}),Qi)(Gi),Xi=Object(r.memo)((function(e){var t=e.locationsData,a=e.locationsLoading,n=e.locationsFetch,r=e.classes,c=e.setAlert;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:r.headerContainer},o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Locais (".concat(Object(S.get)(t,"meta.totalCount",0),")"))),o.a.createElement(Ji,{setAlert:c,onCreated:n})),o.a.createElement(Za.a,{className:r.tablePaper},o.a.createElement(Hi,{setAlert:c,locationsData:t,locationsLoading:a,locationsFetch:n})))})),Ki=ca(Dl.getLocations,{name:"locations",options:function(e){var t=e.setAlert;return{variables:{listInactive:!0,listAll:!0},onRequestFinished:function(e){var t=Object(S.reject)(Object(S.get)(e,"locations",[]),(function(e){return Object(S.get)(e,"deleted_at")}));F.setUserData(Object(S.set)(F.getUserData(),"locations",t))},onRequestError:function(){t({alertMsg:"Erro ao carregar dados do servidor",alertType:"error",showAlert:!0})}}}}),Zi=Object(Z.b)(Ii,jl({condition:function(e){return!Ga.includes(e.role)}}),Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:30,marginBottom:30}})}),{withTheme:!0}),Ki)(Xi),$i=a(549),es=a.n($i),ts={encryptCreditCard:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cardNumber,n=t.cardHolderName,r=t.cardExpirationDate,o=t.cardCvv,e.next=3,es.a.client.connect({encryption_key:P.pagarmeEncryptionKey});case 3:return c=e.sent,e.next=6,c.security.encrypt({card_number:a.replace(/\D+/g,""),card_holder_name:n,card_expiration_date:r.replace(/\D+/g,""),card_cvv:o});case 6:return l=e.sent,e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},as={list:function(){return U.get("/plans").then((function(e){return er.a.toCamelCase(e)}))}},ns={list:function(){return U.get("/credit_cards").then((function(e){return er.a.toCamelCase(e)}))}},rs=function(e){if(null===e)return null;var t=/(\d{1,4})(?:-(\d{0,4}))?(?:-(\d{0,4}))?(?:-(\d{0,4}))?/.exec(e);if(!t)return t;var a=Object(S.filter)(t.slice(1),(function(e){return e}));return a.length<4&&4===Object(S.last)(a).length?"".concat(a.join("-"),"-"):a.join("-")},os=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{changeCard:{cursor:"pointer",display:"flex",justifyContent:"flex-end",alignItems:"flex-end",textDecoration:"underline"},changeCardIcon:{paddingTop:5,textDecoration:"none"}})}),{withTheme:!0}))((function(e){var t=e.isLoading,a=e.currentCreditCard,n=e.onSetNewCreditCard,r=e.classes,c=e.setFormData,l=e.formData,i=l.cardHolderName,s=l.cardNumber,m=l.cardCvv,u=l.cardExpirationDate;return a?o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Dados do cart\xe3o de cr\xe9dito")),o.a.createElement(dr.a,{pt:2},o.a.createElement(ge.a,{variant:"body1"},o.a.createElement("b",null,"Titular: "),a.holderName),o.a.createElement(ge.a,{variant:"body1"},o.a.createElement("b",null,"Cart\xe3o: "),"****-****-****-".concat(a.lastDigits," (").concat(Object(S.capitalize)(a.brand),")")),o.a.createElement(ge.a,{variant:"body1"},o.a.createElement("b",null,"Data de expira\xe7\xe3o: "),A()(a.expiration,"MM/YY").format("MM/YY"))),o.a.createElement("span",{className:r.changeCard,onClick:n},o.a.createElement(go.a,{className:r.changeCardIcon}),"Mudar de cart\xe3o")):o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Dados do cart\xe3o de cr\xe9dito")),o.a.createElement(me.a,{container:!0,alignItems:"center"},o.a.createElement(me.a,{item:!0,xs:12,sm:12},o.a.createElement(ht,{label:"Titular",placeholder:"Nome do t\xedtular",disabled:t,value:i,onChangeText:function(e){return c({cardHolderName:e})}})),o.a.createElement(me.a,{container:!0,alignItems:"center",spacing:1},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(ht,{label:"N\xfamero",placeholder:"N\xfamero do cart\xe3o",disabled:t,value:s||"",onChangeText:function(e){return c({cardNumber:e})},maskFunction:rs})),o.a.createElement(me.a,{item:!0,xs:5,sm:3},o.a.createElement(Et,{label:"CVV",disabled:t,value:m,onChangeText:function(e){return c({cardCvv:e})},max:999})),o.a.createElement(me.a,{item:!0,xs:7,sm:3},o.a.createElement(ht,{placeholder:"MM/AA",label:"Data de expira\xe7\xe3o",disabled:t,value:u||"",onChangeText:function(e){return c({cardExpirationDate:e})},maskFunction:function(e){return function(e){var t=e.oldValue,a=e.newValue;if(null===a)return null;var n=/(\d{1,2})(?:\/?(\d{0,2}))?/.exec(a);if(!n)return n;var r=Object(S.filter)(n.slice(1),(function(e){return e})),o=Object(At.a)(r,2),c=o[0],l=o[1];return Number(c)>12?t:1===c.length&&Number(c)>1?"0".concat(c,"/"):2!==c.length?c:"".concat(c,"/").concat(l||"")}({newValue:e,oldValue:u})}})))))})),cs=Object(Z.b)(r.memo)((function(e){var t=e.isLoading,a=e.setFormData,n=e.formData,r=n.cnpj,c=n.addressZipcode,l=n.addressNumber,i=n.addressComplementary,s=n.phone;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Dados do cliente")),o.a.createElement(me.a,{container:!0,alignItems:"center"},o.a.createElement(me.a,{container:!0,alignItems:"center",spacing:1},o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Et,{label:"CNPJ",placeholder:"CNPJ da empresa (Somente n\xfameros)",disabled:t,value:r,onChangeText:function(e){return a({cnpj:e})},max:99999999999999})),o.a.createElement(me.a,{item:!0,xs:8,sm:6},o.a.createElement(Nt,{label:"Telefone",placeholder:"Contato da empresa",disabled:t,value:s,onChangeText:function(e){return a({phone:e})}}))),o.a.createElement(me.a,{container:!0,alignItems:"center",spacing:1},o.a.createElement(me.a,{item:!0,xs:8,sm:5},o.a.createElement(wt,{label:"CEP",placeholder:"CEP da empresa",disabled:t,value:c,onChangeText:function(e){return a({addressZipcode:e})}})),o.a.createElement(me.a,{item:!0,xs:6,sm:3},o.a.createElement(Et,{label:"N\xfamero",placeholder:"N\xfamero logradouro do CEP",disabled:t,value:l,onChangeText:function(e){return a({addressNumber:e})}})),o.a.createElement(me.a,{item:!0,xs:6,sm:4},o.a.createElement(ht,{label:"Complemento",placeholder:"Complemento do CEP",disabled:t,value:i,onChangeText:function(e){return a({addressComplementary:e})}})))))})),ls=function(e){var t=e.item,a=e.classes;return o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:a.tableMediumCell},o.a.createElement(ge.a,{variant:"body1"},t.title),Object(S.get)(t,"description","").split("\n").map((function(e){return o.a.createElement("div",{key:e},o.a.createElement(ge.a,{variant:"body1"},o.a.createElement("small",null,e)))}))),o.a.createElement(wa.a,{className:a.priceCell},o.a.createElement(ge.a,{variant:"h6",component:"span"},o.a.createElement("b",null,fo.toCurrency(t.value)))))},is=function(e){var t=e.item,a=e.disabled,n=e.classes,r=e.onAmountChange;return o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:n.tableMediumCell},o.a.createElement(ge.a,{variant:"body1"},t.title,"\xa0-\xa0",o.a.createElement("b",null,fo.toCurrency(t.unitPrice))),Object(S.get)(t,"description","").split("\n").map((function(e){return o.a.createElement("div",{key:e},o.a.createElement(ge.a,{variant:"body1"},o.a.createElement("small",null,e)))}))),o.a.createElement(wa.a,{className:n.numberFieldCell},!t.disableAmount&&o.a.createElement(kt,{value:t.amount,disabled:a,onChangeText:r,min:1})))},ss=Object(Z.b)(r.memo,Object($.a)((function(e){var t=oe(e);return Object(f.a)(Object(f.a)({},t),{},{tableSmallCell:Object(f.a)(Object(f.a)({},t.tableSmallCell),{},{borderBottom:"none",padding:e.spacing(1),paddingLeft:0}),tableMediumCell:Object(f.a)(Object(f.a)({},t.tableMediumCell),{},{borderBottom:"none",padding:e.spacing(1),paddingLeft:0}),priceCell:Object(f.a)(Object(f.a)({},t.tableSmallCell),{},{borderBottom:"none",padding:e.spacing(1),paddingLeft:0,textAlign:"right"}),numberFieldCell:Object(f.a)(Object(f.a)({},t.tableSmallCell),{},{borderBottom:"none",padding:e.spacing(1),paddingLeft:0,verticalAlign:"text-top",textAlign:"right"})})}),{withTheme:!0}),Object(Z.e)({setItemAmount:function(e){var t=e.formData.items,a=e.setFormData;return function(e,n){var r=t.slice(0,e),o=Object(f.a)(Object(f.a)({},t[e]),{},{amount:n}),c=t.slice(e+1,t.length-1);a({items:r.concat(o).concat(c)})}}}))((function(e){var t=e.classes,a=e.isDowngrade,n=e.formData,r=n.items,c=n.refundItems,l=e.nextCharge,i=e.disabled,s=e.setItemAmount,m=a?0:Object(S.max)([0,Object(S.sumBy)(r,(function(e){return e.unitPrice*e.amount}))-Object(S.sumBy)(c,(function(e){return e.value}))]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Sum\xe1rio")),o.a.createElement(ya.a,null,o.a.createElement(xa.a,null,Object(S.map)(r,(function(e,a){return o.a.createElement(is,{key:"#".concat(a).concat(e.title),item:e,disabled:i,classes:t,onAmountChange:function(e){return s(a,e)}})})),!Object(S.isEmpty)(l)&&o.a.createElement(ls,{item:l,classes:t}),!a&&Object(S.map)(c,(function(e,a){return o.a.createElement(ls,{key:"#".concat(a).concat(e.title),item:{title:e.title,value:-1*e.value||0},classes:t})})),o.a.createElement(ls,{item:{title:"Valor cobrado hoje",description:a?"* Ao reduzir lugares, o plano ser\xe1 atualizado na pr\xf3xima cobran\xe7a.":"",value:m},classes:t}))))})),ms=P.isProduction?30:1,us=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.currentCreditCard,n=t.formFields,e.prev=1,!Object(S.isEmpty)(a)){e.next=8;break}return e.next=5,ts.encryptCreditCard(n);case 5:r=e.sent,e.next=9;break;case 8:o=Object(S.get)(a,"id");case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),r=null;case 15:return e.abrupt("return",{creditCardHash:r,creditCardId:o});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),ds=ca((function(){return Promise.all([as.list().catch((function(e){return e})),ns.list().catch((function(e){return e})),xr.get().catch((function(e){return e}))])}),{name:"preload",props:function(e){var t=e.preloadData;return t?{plan:Object(S.first)(Object(S.get)(Object(S.find)(t,(function(e){return e.plans})),"plans")),currentSubscription:Object(S.get)(Object(S.find)(t,(function(e){return e.subscription})),"subscription")}:{}},options:function(e){var t=e.setAlert,a=e.setCurrentCreditCard;return{onRequestFinished:function(e){var t=Object(S.first)(Object(S.get)(Object(S.find)(e,(function(e){return e.creditCards})),"creditCards"));a(t)},onRequestError:function(e){console.error(e),t({alertMsg:"Erro ao carregar informa\xe7\xf5es sobre assinar plano",alertType:"error",showAlert:!0})}}}}),bs=ca(xr.create,{name:"create",init:!1,options:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,l,i,s,d,b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.currentCreditCard,c=t.setAlert,l=t.plan,i=t.history,a.validationErrors,s=Object(bt.a)(a,["validationErrors"]),d=Object(S.get)(Object(S.first)(s.items),"amount"),e.next=5,us({formFields:s,currentCreditCard:o});case 5:return b=e.sent,e.abrupt("return",{variables:Object(f.a)(Object(f.a)(Object(f.a)({},a),b),{},{planName:l.planName,planSeats:d}),onRequestFinished:function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({alertMsg:"Assinatura de plano efetuada com sucesso.",alertType:"success",showAlert:!0}),r(),e.next=4,z.getViewer();case 4:t=e.sent,F.setUserData(Object(S.get)(t,"member")),setTimeout((function(){i.push("/configuracoes/meu-plano")}),2e3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){c({alertMsg:Object(S.get)(e,"error","Erro ao assinar plano, fique tranquilo, nenhuma cobran\xe7a foi efetuada."),alertType:"error",showAlert:!0}),n({validationErrors:Object(S.get)(e,"errors",{})})}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),ps=ca(xr.update,{name:"update",init:!1,options:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,l,i,s,d,b,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentSubscription,n=t.currentCreditCard,r=t.setAlert,o=t.formData,c=t.setFormData,l=t.resetFormData,i=t.plan,s=t.history,o.validationErrors,d=Object(bt.a)(o,["validationErrors"]),b=Object(S.get)(Object(S.first)(d.items),"amount"),e.next=5,us({formFields:d,currentCreditCard:n});case 5:return p=e.sent,e.abrupt("return",{variables:Object(f.a)({id:a.id,planName:i.planName,planSeats:b},p),onRequestFinished:function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({alertMsg:"Assinatura de plano atualizada com sucesso.",alertType:"success",showAlert:!0}),l(),e.next=4,z.getViewer();case 4:t=e.sent,F.setUserData(Object(S.get)(t,"member")),setTimeout((function(){s.push("/configuracoes/meu-plano")}),2e3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){r({alertMsg:Object(S.get)(e,"error","Erro ao atualizar plano, fique tranquilo, nenhuma cobran\xe7a foi efetuada."),alertType:"error",showAlert:!0}),c({validationErrors:Object(S.get)(e,"errors",{})})}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),gs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),Zn,jl({condition:function(e){return!Ga.includes(e.role)}}),h.g,r.memo,Object(Z.h)("currentCreditCard","setCurrentCreditCard",null),ds,Object(Z.f)((function(e){var t=e.currentSubscription,a=Object(S.get)(t,"periodEnd");return{hasActiveSubscription:a&&new Date(a)>new Date}})),zr((function(e){var t=Object(S.get)(e,"viewer.company"),a=Object(S.get)(e,"plan"),n=Object(S.get)(e,"currentSubscription"),r=Object(S.get)(e,"hasActiveSubscription"),o=Object(S.get)(n,"plan.seats")||Object(S.get)(t,"total_paid_users")||1,c=r?function(e){var t=e.periodStart,a=e.periodEnd,n=e.currentPrice,r=A()(a).endOf("day"),o=A()(t).endOf("day"),c=r.diff(o,"days");return A()(r).diff(A()(),"days")/c*n}(n):0,l=c?[{title:"Valor de desconto do per\xedodo atual",value:c}]:[];return{cardHolderName:"",cardNumber:"",cardCvv:null,cardExpirationDate:"",cnpj:"",addressZipcode:"",addressNumber:"",addressComplementary:"",phone:"",items:[{title:Object(S.get)(a,"planName"),description:"Acesso a ferramenta de gest\xe3o das solicita\xe7\xf5es dos colaboradores de forma centralizada. Seus colaboradores podem abrir tickets para voc\xea e seu time facilmente, seja no computador, celular, QR code ou integrado ao Slack. Tenha mais visibilidade e produtividade na gest\xe3o das suas tarefas.",unitPrice:Object(S.get)(a,"planPrice"),amount:o}],refundItems:l}})),Object(Z.f)((function(e){var t=e.currentSubscription,a=e.hasActiveSubscription,n=e.formData,r=Object(S.first)(n.items),o=Object(S.get)(t,"plan.seats"),c=Object(S.get)(r,"amount"),l=c<o,i=a?A()(t.periodEnd):A()().add(ms,"days");return{isDowngrade:l,nextCharge:a?{title:"Pr\xf3xima cobran\xe7a em ".concat(i.format("DD/MM/YYYY")),value:r.unitPrice*c}:null}})),bs,ps,Object(Z.e)({onSubmit:function(e){var t=e.createFetch,a=e.updateFetch,n=e.hasActiveSubscription;return function(){return n?a(!0):t(!0)}}}))((function(e){var t=e.formData,a=e.setFormData,n=e.onSubmit,r=e.createLoading,c=e.updateLoading,l=e.preloadError,i=e.preloadLoading,s=e.currentCreditCard,m=e.setCurrentCreditCard,u=e.nextCharge,d=e.isDowngrade,b=e.hasActiveSubscription,p=e.history,g=e.plan,f=e.classes;if(i)return o.a.createElement(pe,null);var h=c||r,E=h||l;return Object(S.isEmpty)(g)?o.a.createElement("div",{className:f.centerHeaderView},o.a.createElement(te.a,{className:f.emptyHeaderIcon}),o.a.createElement("b",{className:f.emptyHeaderTitle},"Sistema de assinatura esta temporariamente fora de servi\xe7o")):o.a.createElement(me.a,{item:!0,xs:12,sm:9},o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Assinar plano")),o.a.createElement(dr.a,{mt:3,mb:2},o.a.createElement(os,{currentCreditCard:s,formData:t,setFormData:a,isLoading:h,onSetNewCreditCard:function(){return m(null)}}),!b&&o.a.createElement(dr.a,{mt:2},o.a.createElement(cs,{formData:t,setFormData:a,disabled:h})),o.a.createElement(dr.a,{mt:2},o.a.createElement(ss,{formData:t,setFormData:a,disabled:h,nextCharge:u,isDowngrade:d}))),o.a.createElement(me.a,{justify:"flex-end",container:!0,item:!0,xs:12},o.a.createElement(ue.a,{color:"default",size:"large",onClick:function(){return p.push("/configuracoes/meu-plano")}},"Voltar"),"\xa0\xa0\xa0",o.a.createElement(ue.a,{color:"primary",size:"large",variant:"contained",onClick:n,disabled:E},b?"Atualizar Plano":"Assinar Plano")))})),fs=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{boxItemText:{margin:e.spacing(2)},boxPad:{padding:e.spacing(2)},borderRight:{borderWidth:"thin",borderRight:"solid",borderRightColor:e.palette.grey[300]}})}),{withTheme:!0}),h.g)((function(e){var t=e.classes,a=e.history;return o.a.createElement(Za.a,{className:t.tablePaper},o.a.createElement(me.a,{container:!0,justify:"center",alignItems:"flex-start"},o.a.createElement(me.a,{item:!0,xs:12,sm:!0,align:"center",className:t.boxPad},o.a.createElement(ge.a,{variant:"h6"},"Plano atual"),o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Essencial (Gratuito)")),o.a.createElement(ue.a,{variant:"contained",color:"primary",size:"large",className:t.boxItemText,onClick:function(){return a.push("/assinar-plano")}},"ASSINAR PLANO PROFISSIONAL"))))})),hs=ca(xr.cancel,{name:"cancel",init:!1,options:function(e){var t=e.setAlert,a=e.subscription,n=e.onCancelSuccess;return{variables:a.id,onRequestFinished:function(){t({alertMsg:"Cancelamento de assinatura foi agendado com sucesso",alertType:"success",showAlert:!0}),n&&n()},onRequestError:function(e){t({alertMsg:Object(S.get)(e,"error","N\xe3o foi poss\xedvel cancelar sua assinatura."),alertType:"error",showAlert:!0})}}}}),Es=Object(Z.b)(r.memo,hs,Object(Z.e)({onClick:function(e){var t=e.cancelFetch;return function(){window.confirm("Deseja mesmo cancelar sua assinatura?")&&t(!0)}}}))((function(e){var t=e.className,a=e.onClick;return o.a.createElement(ue.a,{className:t,onClick:a},"CANCELAR PLANO")})),vs=ca(xr.undoCancelation,{name:"undocancelation",init:!1,options:function(e){var t=e.setAlert,a=e.onSuccess;return{onRequestFinished:function(){t({alertMsg:"Sua assinatura foi reativada sucesso.",alertType:"success",showAlert:!0}),a&&a()},onRequestError:function(e){console.error(e),t({alertMsg:Object(S.get)(e,"error","N\xe3o foi poss\xedvel reativar sua assinatura."),alertType:"error",showAlert:!0})}}}}),Os=Object(Z.b)(r.memo,vs,Object(Z.e)({onClick:function(e){var t=e.undocancelationFetch;return function(){return t(!0)}}}))((function(e){var t=e.className,a=e.onClick;return o.a.createElement(ue.a,{variant:"outlined",className:t,onClick:a},"REATIVAR PLANO")})),js=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{boxItemText:{margin:e.spacing(2)},updateSeats:{marginTop:-3},centerBox:{borderWidth:"thin",borderLeft:"solid",borderLeftColor:e.palette.grey[300],borderRight:"solid",borderRightColor:e.palette.grey[300],marginBottom:20}})}),{withTheme:!0}),Nr,h.g)((function(e){var t=e.classes,a=e.setAlert,n=e.viewer,r=e.subscription,c=e.refetch,l=e.history;if(!n||!r)return null;var i=Object(S.get)(r,"plan",{}),s=Object(S.get)(n,"company.total_paid_users",0);return o.a.createElement(Za.a,{className:t.tablePaper},o.a.createElement(me.a,{container:!0,justify:"center",alignItems:"flex-start"},o.a.createElement(me.a,{item:!0,xs:12,sm:!0,align:"center"},o.a.createElement(ge.a,{variant:"h6",className:t.boxItemText},"Administradores"),o.a.createElement(ge.a,{variant:"h5",className:t.boxItemText},o.a.createElement("b",null,"".concat(s,"/").concat(i.seats))),o.a.createElement(ue.a,{variant:"outlined",className:t.boxItemText,onClick:function(){return l.push("/configuracoes/usuarios")}},"GERENCIAR USU\xc1RIOS")),o.a.createElement(me.a,{item:!0,xs:12,sm:!0,align:"center",className:t.centerBox},o.a.createElement(ge.a,{variant:"h6",className:t.boxItemText},"Valor da assinatura"),o.a.createElement("div",{className:t.boxItemText},o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,fo.toCurrency(r.currentPrice))),o.a.createElement("small",null,r.willCancelAt?"Termina em: ".concat(A()(r.willCancelAt).format("DD/MM/YYYY")):"Pr\xf3xima cobran\xe7a: ".concat(A()(r.periodEnd).format("DD/MM/YYYY HH:mm")))),!r.willCancelAt&&o.a.createElement(ue.a,{variant:"outlined",className:t.updateSeats,onClick:function(){return l.push("/assinar-plano")}},"ADICIONAR LUGARES")),o.a.createElement(me.a,{item:!0,xs:12,sm:!0,align:"center"},o.a.createElement(ge.a,{variant:"h6",className:t.boxItemText},"Plano atual"),o.a.createElement(ge.a,{variant:"h5",className:t.boxItemText},o.a.createElement("b",null,i.name)),r.willCancelAt?o.a.createElement(Os,{setAlert:a,className:t.boxItemText,subscription:r,onSuccess:c}):o.a.createElement(Es,{setAlert:a,className:t.boxItemText,subscription:r,onCancelSuccess:c}))))})),Cs={getInvoices:function(){return U.get("/invoices")}},ys=[{label:"Boleto",key:"BOLETO"},{label:"Cart\xe3o de cr\xe9dito",key:"CREDIT_CARD"}],ks=[{label:"Processando",value:"PROCESSING"},{label:"Autorizado",value:"AUTHORIZED"},{label:"Estornado",value:"REFUNDED"},{label:"Aguardando Pagamento",value:"WAITING_PAYMENT"},{label:"Aguardando Estorno",value:"PENDING_REFUND"},{label:"Pago",value:"PAID"},{label:"Recusado",value:"REFUSED"}],As=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{cellText:{color:"#313131",fontSize:14},userName:{marginRight:5,marginLeft:10},avatarNameContainer:{display:"flex",alignItems:"center"},smallScreenResendButton:{marginTop:10}})}),{withTheme:!0}))((function(e){var t=e.index,a=e.classes,n=e.invoice,r=Object(S.get)(Object(S.find)(ys,(function(e){return e.key===n.payment_type})),"label"),c=Object(S.get)(Object(S.find)(ks,(function(e){return e.value===n.status})),"label"),l=A()(n.created_at).format("DD/MM/YYYY");return o.a.createElement(Aa.a,{className:t%2?a.bgWhite:a.bgGray},o.a.createElement(wa.a,{className:a.tableSmallCell},o.a.createElement("span",{className:a.cellText},n.description)),o.a.createElement(wa.a,{className:a.tableSmallCell},o.a.createElement("span",{className:a.cellText},fo.toCurrency(n.amount))),o.a.createElement(wa.a,{className:a.tableSmallCell},o.a.createElement("span",{className:"".concat(a.cellText)},r)),o.a.createElement(wa.a,{className:a.tableSmallCell},n.boleto_link&&o.a.createElement("a",{href:n.boleto_link,className:a.cellText,target:"_blank",rel:"noopener noreferrer"},"Ver boleto")),o.a.createElement(wa.a,{className:a.tableSmallCell},o.a.createElement("span",{className:a.cellText},c)),o.a.createElement(wa.a,{className:a.tableSmallCell},o.a.createElement("span",{className:a.cellText},l)))})),ws=Object(r.memo)((function(e){var t=e.invoicesData,a=e.invoicesLoading,n=e.classes,r=e.setAlert,c=Object(S.get)(t,"invoices");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Pagamentos (".concat(Object(S.size)(c),")")))))),o.a.createElement("div",{className:n.container},o.a.createElement(Za.a,{className:n.tablePaper},o.a.createElement(ya.a,null,o.a.createElement(ka.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:n.tableSmallCell},"DESCRI\xc7\xc3O"),o.a.createElement(wa.a,{className:n.tableSmallCell},"VALOR"),o.a.createElement(wa.a,{className:n.tableSmallCell},"FORMA DE PGTO"),o.a.createElement(wa.a,{className:n.tableSmallCell},"LINK BOLETO"),o.a.createElement(wa.a,{className:n.tableSmallCell},"STATUS"),o.a.createElement(wa.a,{className:n.tableSmallCell},"DATA"))),o.a.createElement(xa.a,null,a?o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{colSpan:6,align:"center"},o.a.createElement(pe,null))):Object(S.size)(c)?c.map((function(e,t){return o.a.createElement(As,{setAlert:r,index:t,key:e.id,invoice:e,loading:a})})):o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:n.empty,colSpan:6,align:"center"},"Nenhum pagamento realizado")))))))})),Ts=ca(Cs.getInvoices,{name:"invoices",options:function(e){var t=e.setAlert;return{onRequestError:function(){t({alertMsg:"Erro ao carregar hist\xf3rico de pagamentos",alertType:"error",showAlert:!0})}}}}),xs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{container:{marginBottom:30,marginTop:30},empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14},titleTableCell:{fontSize:20},headerButtonAndActiveFilter:{display:"flex",flexDirection:"row",alignItems:"center"},activeFilter:{marginRight:10}})}),{withTheme:!0}),jl({condition:function(e){return!Ga.includes(e.role)}}),Ts)(ws),Ns=ca(xr.get,{name:"subscription",options:function(e){var t=e.setAlert;return{onRequestError:function(){t({alertMsg:"Erro ao carregar dados do servidor",alertType:"error",showAlert:!0})}}}}),Ss=Object(Z.b)(r.memo,jl({condition:function(e){return!Ga.includes(e.role)}}),Nr,Object(Z.h)("loading","setLoading",!0),Ii,Ns)((function(e){var t,a=e.viewer,n=e.setAlert,r=e.subscriptionData,c=e.subscriptionLoading,l=e.subscriptionError,i=e.subscriptionFetch,s=Object(S.get)(a,"company.trial_expiration"),m=Object(S.get)(r,"subscription");if(c)return o.a.createElement(pe,null);Object(S.isEmpty)(l)&&(t=m&&new Date(m.periodEnd)>new Date?o.a.createElement(js,{setAlert:n,subscription:m,refetch:function(){return i(!0)}}):o.a.createElement(fs,{setAlert:n}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Or,{trialExpiration:s,willDowngradeAt:Object(S.get)(m,"willDowngradeAt"),willCancelAt:Object(S.get)(m,"willCancelAt")}),o.a.createElement(dr.a,{mb:4,mt:2},t,o.a.createElement(xs,{setAlert:n})))})),Ds={toggleNewTicket:function(){return U.put("/notification_settings/toggle_new_ticket",{}).then((function(e){return er.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=er.a.toCamelCase(e.errors)),e}))},toggleTicketUpdates:function(){return U.put("/notification_settings/toggle_ticket_updates",{}).then((function(e){return er.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=er.a.toCamelCase(e.errors)),e}))}},Ms=ca(Ds.toggleNewTicket,{init:!1,props:function(e){return e.data||{}},options:function(e){var t=e.setAlert,a=e.viewer;return{onRequestFinished:function(){F.setUserData(Object(f.a)(Object(f.a)({},a),{},{notify_new_ticket:!a.notify_new_ticket}))},onRequestError:function(e){var a=e.errors?Object.values(e.errors).flat().join():"Erro ao comunicar com servidor";t({alertMsg:a,alertType:"error",showAlert:!0})}}}}),Is=Object(Z.b)(r.memo,Nr,Ms,Object(Z.e)({onSubmit:function(e){var t=e.fetch;return function(){return t(!0)}}}))((function(e){var t=e.viewer,a=e.loading,n=e.onSubmit;return o.a.createElement("div",null,o.a.createElement(xo.a,{color:"primary",disabled:a,checked:t.notify_new_ticket,onChange:n}),o.a.createElement(ge.a,{variant:"body1",component:"span"},"Receber notifica\xe7\xf5es de novos tickets abertos"))})),Fs=ca(Ds.toggleTicketUpdates,{init:!1,props:function(e){return e.data||{}},options:function(e){var t=e.setAlert,a=e.viewer;return{onRequestFinished:function(){F.setUserData(Object(f.a)(Object(f.a)({},a),{},{notify_ticket_updates:!a.notify_ticket_updates}))},onRequestError:function(e){var a=e.errors?Object.values(e.errors).flat().join():"Erro ao comunicar com servidor";t({alertMsg:a,alertType:"error",showAlert:!0})}}}}),Rs=Object(Z.b)(r.memo,Nr,Fs,Object(Z.e)({onSubmit:function(e){var t=e.fetch;return function(){return t(!0)}}}))((function(e){var t=e.viewer,a=e.loading,n=e.onSubmit;return o.a.createElement("div",null,o.a.createElement(xo.a,{color:"primary",disabled:a,checked:t.notify_ticket_updates,onChange:n}),o.a.createElement(ge.a,{variant:"body1",component:"span"},"Receber notifica\xe7\xf5es de atualiza\xe7\xf5es de tickets que fa\xe7o parte"))})),Ls=Object(Z.b)(r.memo,Ii,Object($.a)(oe,{withTheme:!0}),Nr)((function(e){var t=e.classes,a=e.setAlert,n=e.viewer;return o.a.createElement(dr.a,{mt:5},o.a.createElement(Za.a,{className:t.paper},"MEMBER"!==n.role&&o.a.createElement(Is,{setAlert:a}),o.a.createElement(Rs,{setAlert:a})))})),Bs=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.updateMemberFetch,c=e.updateMemberLoading,l=e.errors,i=e.email,s=e.name,m=e.lastname,u=e.setName,d=e.setLastname,b=e.jobRole,p=e.setJobRole,g=t.showAlert,f=t.alertMsg,h=t.alertType,E=null;g&&(E=o.a.createElement(ct,{message:f,type:h,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}}));var O=c;return o.a.createElement("div",{className:n.root},o.a.createElement(Nn,{alertBox:E}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:n.container},o.a.createElement(qn,null)),o.a.createElement("br",null),o.a.createElement("div",{className:n.container},o.a.createElement(Za.a,{className:n.paper},o.a.createElement(me.a,{container:!0,item:!0,xs:12,sm:6,md:4},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ht,{errors:v()(l,"name",[]),label:"Nome",className:n.input,disabled:O,value:s,onChange:function(e){return u(e.target.value)}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ht,{errors:v()(l,"lastname",[]),label:"Sobrenome",className:n.input,disabled:O,value:m,onChange:function(e){return d(e.target.value)}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ht,{disabled:!0,label:"Email",className:n.input,value:i})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ht,{errors:v()(l,"jobRole",[]),label:"Departamento",className:n.input,value:b,disabled:O,onChange:function(e){return p(e.target.value)}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement("div",{className:n.actions},o.a.createElement(ue.a,{onClick:function(){return r(!0)},size:"large",color:"primary",variant:"contained",disabled:O},"Atualizar"))))))))})),Ps=ca(z.updateMember,{name:"updateMember",init:!1,options:function(e){var t=e.name,a=e.lastname,n=e.jobRole,r=e.setAlert,o=e.setName,c=e.setLastname,l=e.setJobRole,i=e.setErrors;return{variables:{name:t,lastname:a,jobRole:n},onRequestFinished:function(){var e=Object(u.a)(m.a.mark((function e(){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getViewer();case 3:s=e.sent,F.setUserData(v()(s,"member")),o(t),c(a),l(n),r({alertMsg:"Perfil atualizado com sucesso",alertType:"success",showAlert:!0}),i({}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r({alertMsg:"Erro ao atualizar perfil",alertType:"error",showAlert:!0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){i(v()(e,"errors",{})),r({alertMsg:"Erro ao atualizar perfil",alertType:"error",showAlert:!0})}}}}),_s=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{input:{marginBottom:0}})}),{withTheme:!0}),h.g,Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("disabled","setDisabled",!1),Object(Z.h)("name","setName",""),Object(Z.h)("lastname","setLastname",""),Object(Z.h)("email","setEmail",""),Object(Z.h)("jobRole","setJobRole",""),Object(Z.h)("errors","setErrors",{}),Ps,Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.setName,a=e.setLastname,n=e.setEmail,r=e.setJobRole,o=F.getUserData();t(v()(o,"name")),a(v()(o,"lastname")),n(v()(o,"email")),r(v()(o,"job_role"))}}))(Bs),qs=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.password,c=e.errors,l=e.confirmPassword,i=e.setPassword,s=e.setConfirmPassword,m=e.updateMemberFetch,u=e.updateMemberLoading,d=t.showAlert,b=t.alertMsg,p=t.alertType,g=null;d&&(g=o.a.createElement(ct,{message:b,type:p,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}}));var f=u;return o.a.createElement("div",{className:n.root},o.a.createElement(Nn,{alertBox:g}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:n.container},o.a.createElement(qn,null)),o.a.createElement("br",null),o.a.createElement("div",{className:n.container},o.a.createElement(Za.a,{className:n.paper},o.a.createElement(me.a,{container:!0,item:!0,xs:12,sm:6,md:4},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ht,{errors:v()(c,"password",[]),label:"Nova senha",type:"password",className:n.input,disabled:f,value:r,onChange:function(e){return i(e.target.value)}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ht,{label:"Confirmar nova senha",type:"password",className:n.input,disabled:f,value:l,onChange:function(e){return s(e.target.value)}})),o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement("div",{className:n.actions},o.a.createElement(ue.a,{onClick:function(){r===l?m(!0):a({alertMsg:"As senhas est\xe3o diferentes",alertType:"error",showAlert:!0})},size:"large",color:"primary",variant:"contained",disabled:f},"Atualizar"))))))))})),Us=ca(z.updateMemberPassword,{name:"updateMember",init:!1,options:function(e){var t=e.password,a=e.setAlert,n=e.setPassword,r=e.setConfirmPassword,o=e.setErrors;return{variables:{password:t},onRequestFinished:function(){a({alertMsg:"Perfil atualizado com sucesso",alertType:"success",showAlert:!0}),n(""),r(""),o({})},onRequestError:function(e){o(v()(e,"errors",{})),a({alertMsg:"Erro ao atualizar perfil",alertType:"error",showAlert:!0})}}}}),zs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{input:{marginBottom:0}})}),{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("password","setPassword",""),Object(Z.h)("confirmPassword","setConfirmPassword",""),Object(Z.h)("errors","setErrors",{}),Us)(qs),Ws=function(e){return Object(f.a)({},oe(e))},Vs=ca(yr.getAssignables,{name:"assignables",props:function(e){var t=e.assignablesData;return{assignables:Object(S.get)(t,"members",[])}}}),Hs=ca(Ar.createCategory,{name:"create",init:!1,options:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.setAlert,c=t.onClose,l=t.refetch,e.abrupt("return",{variables:a.changedFields,onRequestFinished:function(){G.hit("TicketCategory - Created"),r(),l(!0),o({alertMsg:"Categoria criada com sucesso",alertType:"success",showAlert:!0}),c()},onRequestError:function(e){n({validationErrors:Object(S.get)(e,"errors",{})}),o({alertMsg:"Erro ao criar categoria",alertType:"error",showAlert:!0})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Ys=ca(Ar.updateCategory,{name:"update",init:!1,options:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,l,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.setAlert,c=t.onClose,l=t.refetch,i=t.ticketCategory,e.abrupt("return",{variables:Object(f.a)(Object(f.a)({},a.changedFields),{},{ticketFormQuestions:a.ticketFormQuestions,id:i.id}),onRequestFinished:function(){G.hit("TicketCategory - Updated"),r(),l(!0),o({alertMsg:"Categoria atualizada com sucesso",alertType:"success",showAlert:!0}),c()},onRequestError:function(e){n({validationErrors:Object(S.get)(e,"errors",{})}),o({alertMsg:"Erro ao atualizar categoria",alertType:"error",showAlert:!0})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Gs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Ws(e)),{},{actions:{margin:15,marginBottom:20},toggleRequired:{marginTop:20,marginLeft:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"},deleteVisitorButton:{fontWeight:"bold",backgroundColor:"#EE3C3C",color:"#FFF","&:hover":{backgroundColor:"#EE3C3C"},maxWidth:"40px",maxHeight:"40px",minWidth:"40px",minHeight:"40px",marginTop:"5px",marginLeft:"10px"}})}),{withTheme:!0}),r.memo,zr((function(e){return e.ticketCategory?e.ticketCategory:{title:"",assigneeIds:[],deadlineInDays:"",ticketFormQuestions:[]}})),Object(Z.e)({onClose:function(e){var t=e.onClose,a=e.resetFormData;return function(){a(),t()}}}),Vs,Hs,Ys,Object(Z.f)((function(e){var t=e.formData,a=e.assignablesLoading,n=e.createLoading,r=e.updateLoading,o=e.ticketCategory,c=a||n||r;return{loading:c,disableNextButton:c||Object(S.isEmpty)(t.title),isNew:!o}})),Object(Z.e)({onSubmit:function(e){var t=e.createFetch,a=e.updateFetch,n=e.ticketCategory;return function(){return n?a(!0):t(!0)}},onAddFormQuestion:function(e){var t=e.setFormData,a=e.formData.ticketFormQuestions;return function(){var e={question:"",fieldType:"TEXT_FIELD",options:"",required:!1};t({ticketFormQuestions:Object(S.concat)(a,e)})}},onRemoveFormQuestion:function(e){var t=e.setFormData,a=e.formData.ticketFormQuestions;return function(e){a.splice(e,1),t({ticketFormQuestions:Object(S.cloneDeep)(a)})}},onUpdateFormQuestion:function(e){var t=e.setFormData,a=e.formData.ticketFormQuestions;return function(e,n,r){a[r][e]=n,t({ticketFormQuestions:Object(S.cloneDeep)(a)})}}}))((function(e){var t=e.classes,a=e.openModal,n=e.formData,r=n.validationErrors,c=n.title,l=n.assigneeIds,i=n.deadlineInDays,s=n.ticketFormQuestions,m=e.setFormData,u=e.onSubmit,d=e.loading,b=e.assignables,p=e.onClose,g=e.disableNextButton,f=e.onAddFormQuestion,h=e.onRemoveFormQuestion,E=e.onUpdateFormQuestion,v=e.isNew;return o.a.createElement(Gr,{onClose:p,modalTitle:v?"Nova categoria":"Editar categoria",content:o.a.createElement(me.a,{container:!0,direction:"row",spacing:1},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ht,{disabled:d,label:"T\xedtulo",errors:r.title,value:c||"",onChangeValue:function(e){return m({title:e})}})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(It,{multiple:!0,label:"Respons\xe1veis",errors:r.assigneeIds,value:l,disabled:d,onChangeValue:function(e){return m({assigneeIds:e})},options:b.map((function(e){return{label:e.fullname,value:e.id}})),emptyOptionLabel:"Nenhum respons\xe1vel"})),o.a.createElement(me.a,{item:!0,xs:12,sm:6},o.a.createElement(Et,{label:"Prazo de resolu\xe7\xe3o (em dias)",disabled:d,errors:r.deadlineInDays,value:i||"",onChangeValue:function(e){return m({deadlineInDays:e})}})),o.a.createElement(me.a,{item:!0,xs:12},Object(S.map)(s,(function(e,a){return o.a.createElement(me.a,{container:!0,direction:"row",spacing:1,key:a.toString()},o.a.createElement(me.a,{item:!0,xs:2,sm:1},o.a.createElement(pt.a,{fullWidth:!0,margin:"normal"},o.a.createElement(ue.a,{onClick:function(){return h(a)},variant:"contained",disabled:d,className:t.deleteVisitorButton},"-"))),o.a.createElement(me.a,{item:!0,xs:10,sm:11},o.a.createElement(ht,{disabled:d,label:"T\xedtulo da pergunta",errors:Object(S.get)(r,"ticketFormQuestions[".concat(a,"].question")),value:e.question,onChangeValue:function(e){return E("question",e,a)}})),o.a.createElement(me.a,{item:!0,xs:2,sm:1}),o.a.createElement(me.a,{item:!0,xs:6,sm:8},o.a.createElement(It,{disabled:d,label:"Tipo do campo resposta",errors:Object(S.get)(r,"ticketFormQuestions[".concat(a,"].fieldType")),value:e.fieldType,onChangeValue:function(e){return E("fieldType",e,a)},options:zt,optionValueField:"key"})),o.a.createElement(me.a,{item:!0,xs:4,sm:3},o.a.createElement(Pt.a,{className:t.toggleRequired},o.a.createElement(_t.a,{control:o.a.createElement(xo.a,{color:"primary",disabled:d,checked:!!Object(S.get)(e,"required"),value:"",onChange:function(){return E("required",!e.required,a)}}),label:o.a.createElement("small",null,"Obrigat\xf3rio")}))),o.a.createElement(me.a,{item:!0,xs:2,sm:1}),Wt.includes(e.fieldType)&&o.a.createElement(me.a,{item:!0,xs:10,sm:11},o.a.createElement(ht,{disabled:d,label:"Op\xe7\xf5es de respostas",placeholder:"Separe por v\xedrgula, ex: Item1,Item2,Item3",errors:Object(S.get)(r,"ticketFormQuestions[".concat(a,"].options")),value:e.options,onChangeValue:function(e){return E("options",e,a)}})))})))),actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(dr.a,{style:{width:"100%"},display:"flex",justifyContent:v?"flex-end":"space-between"},!v&&o.a.createElement(ue.a,{color:"primary",size:"large",variant:"outlined",disabled:d,onClick:f},"ADICIONAR PERGUNTA"),o.a.createElement(dr.a,{display:"flex"},o.a.createElement(ue.a,{color:"default",size:"large",variant:"contained",onClick:p,disabled:d},"CANCELAR"),o.a.createElement(dr.a,{ml:2},o.a.createElement(ue.a,{color:"primary",size:"large",variant:"contained",onClick:u,disabled:g},"SALVAR"))))),fullWidth:!0,open:a})})),Qs=Object(Z.b)(Object(Z.h)("openModal","setOpenModal",!1))((function(e){var t=e.ticketCategory,a=e.refetch,n=e.openModal,r=e.setOpenModal,c=e.setAlert,l=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.hit("TicketCategoryModal - Closed"),r(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{variant:"outlined",size:"medium",onClick:function(){G.hit("TicketCategoryModal - Opened"),r(!0)}},"Editar"),o.a.createElement(Gs,{ticketCategory:t,onClose:l,setAlert:c,refetch:a,openModal:n}))})),Js=Object(r.memo)((function(e){var t=e.viewer,a=e.index,n=e.classes,r=e.setAlert,c=e.ticketCategory,l=e.loading,i=e.setLoading,s=e.refetch,d=e.isManager,b=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Deseja realmente excluir essa categoria?")){e.next=13;break}return i(!0),e.prev=2,e.next=5,Ar.toggleCategory(c.id);case 5:r({alertMsg:"A categoria foi exclu\xedda",alertType:"success",showAlert:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),r({alertMsg:"Erro ao excluir categoria",alertType:"error",showAlert:!0});case 11:i(!1),s();case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),p=c.deadlineInDays;return t?o.a.createElement(Aa.a,{className:a%2?n.bgWhite:n.bgGray},o.a.createElement(wa.a,{className:n.tableSmallCell},o.a.createElement("span",{className:n.cellText},c.title)),o.a.createElement(wa.a,{className:n.tableSmallCell},Object(S.map)(c.assignees,(function(e){return o.a.createElement("div",{key:e.id,className:n.avatarNameContainer},o.a.createElement(Va,{name:e.fullname,photoUrl:e.photoUrl}),o.a.createElement("span",{className:"".concat(n.cellText," ").concat(n.userName)},e.fullname))}))),o.a.createElement(wa.a,{className:n.tableSmallCell},o.a.createElement("span",{className:n.cellText},p?"".concat(p," ").concat(p>1?"dias \xfateis":"dia \xfatil"):"")),d&&o.a.createElement(wa.a,{className:n.tableSmallCell},o.a.createElement(Qs,{ticketCategory:c,setAlert:r,refetch:s}),"\xa0\xa0\xa0",o.a.createElement(tt.a,{disabled:l,onClick:b},o.a.createElement(Mo.a,null)))):null})),Xs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Ws(e)),{},{cellText:{color:"#313131",fontSize:14},userName:{marginRight:5,marginLeft:10},avatarNameContainer:{display:"flex",alignItems:"center",marginTop:e.spacing(1)},smallScreenResendButton:{marginTop:e.spacing(2)}})}),{withTheme:!0}),Object(Z.h)("loading","setLoading",!1),Nr)(Js),Ks=Object(r.memo)((function(e){var t=e.ticketCategories,a=e.ticketCategoriesLoading,n=e.openTicketCategoryModal,r=e.setOpenTicketCategoryModal,c=e.classes,l=e.setAlert,i=e.ticketCategoriesFetch,s=F.getUserData(),m=Ga.includes(Object(S.get)(s,"role")),u=a,d=m?4:3;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:c.container},o.a.createElement("div",{className:c.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Categorias (".concat(Object(S.size)(t),")")))),o.a.createElement("aside",null,m&&o.a.createElement(ue.a,{size:"large",color:"primary",variant:"contained",onClick:function(){G.hit("TicketCategory - Opened"),r(!0)}},"Nova Categoria")))),o.a.createElement("div",{className:c.container},o.a.createElement(Za.a,{className:c.tablePaper},o.a.createElement(ya.a,null,o.a.createElement(ka.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:c.tableCell},"T\xcdTULO"),o.a.createElement(wa.a,{className:c.tableCell},"RESPONS\xc1VEIS"),o.a.createElement(wa.a,{className:c.tableCell},"PRAZO DE RESOLU\xc7\xc3O"),m&&o.a.createElement(wa.a,{className:c.tableCell},"A\xc7\xd5ES"))),o.a.createElement(xa.a,null,u?o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{colSpan:d,align:"center"},o.a.createElement(pe,null))):Object(S.size)(t)?t.map((function(e,t){return o.a.createElement(Xs,{isManager:m,setAlert:l,index:t,key:e.id,ticketCategory:e,isLoading:u,refetch:i})})):o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:c.empty,colSpan:d,align:"center"},"Nenhuma categoria cadastrada")),o.a.createElement(Gs,{onClose:function(){G.hit("TicketCategory - Closed"),r(!1)},openModal:m&&n,setAlert:l,refetch:i}))))))})),Zs=ca(Ar.getCategories,{name:"ticketCategories",props:function(e){var t=e.ticketCategoriesData;return{ticketCategories:Object(S.get)(t,"ticketCategories")}},options:function(e){var t=e.setAlert;return{variables:!1,onRequestError:function(){t({alertMsg:"Erro ao carregar categorias",alertType:"error",showAlert:!0})}}}}),$s=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Ws(e)),{},{container:{marginBottom:30,marginTop:30},empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14},titleTableCell:{fontSize:20}})}),{withTheme:!0}),Object(Z.h)("openTicketCategoryModal","setOpenTicketCategoryModal",!1),jl({condition:function(e){return!Ga.includes(e.role)}}),Zs)(Ks),em=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=t.showAlert,c=t.alertMsg,l=t.alertType,i=null;return r&&(i=o.a.createElement(ct,{message:c,type:l,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}})),o.a.createElement("div",{className:n.root},o.a.createElement(Nn,{alertBox:i}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:n.container},o.a.createElement(qn,null)),o.a.createElement("div",{className:n.container},o.a.createElement($s,{setAlert:a}))))})),tm=Object(Z.b)(Object($.a)(Ws,{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}))(em),am=function(e){return Object(f.a)({},oe(e))},nm=ca(kr.createTag,{name:"create",init:!1,options:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.setAlert,c=t.onClose,l=t.refetch,e.abrupt("return",{variables:a.changedFields,onRequestFinished:function(){G.hit("TicketTag - Created"),r(),l(!0),o({alertMsg:"Etiqueta criada com sucesso",alertType:"success",showAlert:!0}),c()},onRequestError:function(e){n({validationErrors:Object(S.get)(e,"errors",{})}),o({alertMsg:"Erro ao criar etiqueta",alertType:"error",showAlert:!0})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),rm=ca(kr.updateTag,{name:"update",init:!1,options:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r,o,c,l,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.setAlert,c=t.onClose,l=t.refetch,i=t.ticketTag,e.abrupt("return",{variables:Object(f.a)(Object(f.a)({},a.changedFields),{},{id:i.id}),onRequestFinished:function(){G.hit("TicketTag - Updated"),r(),l(!0),o({alertMsg:"Etiqueta atualizada com sucesso",alertType:"success",showAlert:!0}),c()},onRequestError:function(e){n({validationErrors:Object(S.get)(e,"errors",{})}),o({alertMsg:"Erro ao atualizar etiqueta",alertType:"error",showAlert:!0})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),om=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},am(e)),{},{actions:{margin:15,marginBottom:20},toggleRequired:{marginTop:20,marginLeft:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"},deleteVisitorButton:{fontWeight:"bold",backgroundColor:"#EE3C3C",color:"#FFF","&:hover":{backgroundColor:"#EE3C3C"},maxWidth:"40px",maxHeight:"40px",minWidth:"40px",minHeight:"40px",marginTop:"5px",marginLeft:"10px"}})}),{withTheme:!0}),r.memo,zr((function(e){return e.ticketTag?e.ticketTag:{title:""}})),Object(Z.e)({onClose:function(e){var t=e.onClose,a=e.resetFormData;return function(){a(),t()}}}),nm,rm,Object(Z.f)((function(e){var t=e.formData,a=e.createLoading,n=e.updateLoading,r=e.ticketTag,o=a||n;return{loading:o,disableNextButton:o||Object(S.isEmpty)(t.title),isNew:!r}})),Object(Z.e)({onSubmit:function(e){var t=e.createFetch,a=e.updateFetch,n=e.ticketTag;return function(){return n?a(!0):t(!0)}}}))((function(e){var t=e.openModal,a=e.formData,n=a.validationErrors,r=a.title,c=e.setFormData,l=e.onSubmit,i=e.loading,s=e.onClose,m=e.disableNextButton,u=e.isNew;return o.a.createElement(Gr,{onClose:s,modalTitle:u?"Nova etiqueta":"Editar etiqueta",content:o.a.createElement(me.a,{container:!0,direction:"row",spacing:1},o.a.createElement(me.a,{item:!0,xs:12},o.a.createElement(ht,{disabled:i,label:"T\xedtulo",errors:n.title,value:r||"",onChangeValue:function(e){return c({title:e})}}))),actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(dr.a,{style:{width:"100%"},display:"flex",justifyContent:"flex-end"},o.a.createElement(dr.a,{display:"flex"},o.a.createElement(ue.a,{color:"default",size:"large",variant:"contained",onClick:s,disabled:i},"CANCELAR"),o.a.createElement(dr.a,{ml:2},o.a.createElement(ue.a,{color:"primary",size:"large",variant:"contained",onClick:l,disabled:m},"SALVAR"))))),fullWidth:!0,open:t})})),cm=Object(Z.b)(Object(Z.h)("openModal","setOpenModal",!1))((function(e){var t=e.ticketTag,a=e.refetch,n=e.openModal,r=e.setOpenModal,c=e.setAlert,l=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.hit("TicketTagModal - Closed"),r(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{variant:"outlined",size:"medium",onClick:function(){G.hit("TicketTagModal - Opened"),r(!0)}},"Editar"),o.a.createElement(om,{ticketTag:t,onClose:l,setAlert:c,refetch:a,openModal:n}))})),lm=Object(r.memo)((function(e){var t=e.viewer,a=e.index,n=e.classes,r=e.setAlert,c=e.ticketTag,l=e.loading,i=e.ticketTagDeleteFetch,s=e.refetch,d=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Deseja realmente excluir essa etiqueta?")&&i(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?o.a.createElement(Aa.a,{className:a%2?n.bgWhite:n.bgGray},o.a.createElement(wa.a,{className:n.tableSmallCell},o.a.createElement("span",{className:n.cellText},c.title)),o.a.createElement(wa.a,{className:n.tableSmallCell},o.a.createElement(cm,{ticketTag:c,setAlert:r,refetch:s}),"\xa0\xa0\xa0",o.a.createElement(tt.a,{disabled:l,onClick:d},o.a.createElement(Mo.a,null)))):null})),im=ca(kr.deleteTag,{name:"ticketTagDelete",init:!1,options:function(e){var t=e.ticketTag,a=e.setAlert,n=e.refetch;return{variables:t.id,onRequestFinished:function(){a({alertMsg:"Etiqueta foi exclu\xedda",alertType:"success",showAlert:!0}),n(!0)},onRequestError:function(){a({alertMsg:"Erro ao excluir etiqueta",alertType:"error",showAlert:!0})}}}}),sm=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},am(e)),{},{cellText:{color:"#313131",fontSize:14}})}),{withTheme:!0}),Object(Z.h)("loading","setLoading",!1),im,Nr)(lm),mm=Object(r.memo)((function(e){var t=e.ticketTags,a=e.ticketTagsLoading,n=e.openTicketTagModal,r=e.setOpenTicketTagModal,c=e.classes,l=e.setAlert,i=e.ticketTagsFetch,s=a;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:c.container},o.a.createElement("div",{className:c.headerView},o.a.createElement("aside",null,o.a.createElement(ge.a,{variant:"h6"},o.a.createElement("b",null,"Etiquetas (".concat(Object(S.size)(t),")")))),o.a.createElement("aside",null,o.a.createElement(ue.a,{size:"large",color:"primary",variant:"contained",onClick:function(){return r(!0)}},"Nova Etiqueta")))),o.a.createElement("div",{className:c.container},o.a.createElement(Za.a,{className:c.tablePaper},o.a.createElement(ya.a,null,o.a.createElement(ka.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:c.tableCell},"T\xcdTULO"),o.a.createElement(wa.a,{className:c.tableSmallCell},"A\xc7\xd5ES"))),o.a.createElement(xa.a,null,s?o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{colSpan:2,align:"center"},o.a.createElement(pe,null))):Object(S.size)(t)?t.map((function(e,t){return o.a.createElement(sm,{setAlert:l,index:t,key:e.id,ticketTag:e,isLoading:s,refetch:i})})):o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{className:c.empty,colSpan:2,align:"center"},"Nenhuma etiqueta cadastrada")),o.a.createElement(om,{onClose:function(){return r(!1)},openModal:n,setAlert:l,refetch:i}))))))})),um=ca(kr.getTags,{name:"ticketTags",props:function(e){var t=e.ticketTagsData;return{ticketTags:Object(S.get)(t,"ticketTags")}},options:function(e){var t=e.setAlert;return{variables:!1,onRequestError:function(){t({alertMsg:"Erro ao carregar etiquetas",alertType:"error",showAlert:!0})}}}}),dm=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},am(e)),{},{container:{marginBottom:30,marginTop:30},empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14},titleTableCell:{fontSize:20}})}),{withTheme:!0}),Object(Z.h)("openTicketTagModal","setOpenTicketTagModal",!1),jl({condition:function(e){return!Ga.includes(e.role)}}),um)(mm),bm=Object(r.memo)((function(e){var t=e.setAlert,a=e.classes;return o.a.createElement("div",{className:a.tablePaper},o.a.createElement(dm,{setAlert:t}))})),pm=Object(Z.b)(Ii,Object($.a)(am,{withTheme:!0}))(bm),gm=a(140),fm={avatarNameContainer:{display:"flex",alignItems:"center"},userName:{marginRight:5,marginLeft:10},image:{width:240,height:120,marginRight:30},container:{display:"flex",flexDirection:"row"},innerContainerTexts:{display:"flex",flexDirection:"column"},title:{marginTop:15,fontSize:20,marginBottom:10},subtitle:{color:"rgba(0, 0, 0, 0.54)"},buttonContainer:{display:"flex",justifyContent:"flex-end"},statusContainerCanceled:{color:"#FFFFFF",backgroundColor:gm.a[400],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50},statusContainerInProgress:{color:"#FFFFFF",backgroundColor:La.a[900],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50,wordWrap:"initial"},statusContainerDone:{color:"#FFFFFF",backgroundColor:at.a[500],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50}},hm=Object(r.memo)((function(e){var t=e.viewer,a=e.classes,n=e.serviceRequest,r=e.isSmallScreen;if(!t)return null;var c=n.member,l=Object(S.get)(n,"service.title",""),s=Object(S.get)(n,"created_at",""),m=Object(S.get)(n,"service.image_url","");return r?o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,o.a.createElement("img",{src:m,alt:l,className:a.image}),o.a.createElement("p",{className:a.title},o.a.createElement("b",null,l)),o.a.createElement("p",{className:a.subtitle},"Enviado em ".concat(A()(s).format("DD/MM/YYYY"))),o.a.createElement("p",null,o.a.createElement("div",{className:a.avatarNameContainer},o.a.createElement(Va,{name:c.fullname,photoUrl:c.photo_url}),o.a.createElement("span",{className:"".concat(a.cellText," ").concat(a.userName)},c.fullname))),o.a.createElement("br",null),o.a.createElement(ue.a,{fullWidth:!0,variant:"outlined",component:i.b,to:"/meus-pedidos/".concat(n.id),color:"primary",size:"large"},"Ver Solicita\xe7\xe3o"))):o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,o.a.createElement("div",{className:a.container},o.a.createElement("img",{src:m,alt:l,className:a.image}),o.a.createElement("div",{className:a.innerContainerTexts},o.a.createElement("p",{className:a.title},o.a.createElement("b",null,l)),o.a.createElement("p",{className:a.subtitle},"Enviado em ".concat(A()(s).format("DD/MM/YYYY")))))),o.a.createElement(wa.a,null,o.a.createElement("div",{className:a.avatarNameContainer},o.a.createElement(Va,{name:c.fullname,photoUrl:c.photo_url}),o.a.createElement("span",{className:"".concat(a.cellText," ").concat(a.userName)},c.fullname))),o.a.createElement(wa.a,null,o.a.createElement("div",{className:a.buttonContainer},o.a.createElement(ue.a,{variant:"outlined",component:i.b,to:"/meus-pedidos/".concat(n.id),color:"primary",size:"large"},"Ver Solicita\xe7\xe3o"))))})),Em=Object(Z.b)(Object($.a)(fm,{withTheme:!0}),h.g,Nr)(hm),vm=Object(r.memo)((function(e){var t=e.classes,a=e.serviceRequests,n=e.serviceRequestsLoading,r=Object(Na.a)(),c=Object(Sa.a)(r.breakpoints.down("md")),l=c?1:3,i=n;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(Za.a,null,o.a.createElement(ya.a,null,o.a.createElement(ka.a,null,o.a.createElement(Aa.a,null,o.a.createElement(wa.a,null,"SERVI\xc7O"),!c&&o.a.createElement(o.a.Fragment,null,o.a.createElement(wa.a,{className:t.tableLargeCell},"SOLICITANTE"),o.a.createElement(wa.a,{className:t.tableLargeCell})))),o.a.createElement(xa.a,null,i?o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{colSpan:l,align:"center"},o.a.createElement(pe,null))):Object(S.size)(a)?Object(S.map)(a,(function(e,t){return o.a.createElement(Em,{serviceRequest:e,index:t,isSmallScreen:c,key:e.id})})):o.a.createElement(Aa.a,null,o.a.createElement(wa.a,{colSpan:l,align:"center"},"Nenhum servi\xe7o solicitado")))))))})),Om=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{statusColumn:{minWidth:400}})}),{withTheme:!0}))(vm),jm=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.serviceRequestsData,c=e.serviceRequestsLoading,l=e.status,i=Object(S.get)(r,"service_requests"),s=t.showAlert,m=t.alertMsg,u=t.alertType,d=null;s&&(d=o.a.createElement(ct,{message:m,type:u,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}}));var b=c?"":"(".concat(Object(S.size)(i),")");return o.a.createElement("div",{className:n.root},o.a.createElement(Nn,{alertBox:d}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement(me.a,{container:!0},o.a.createElement(me.a,{item:!0,xs:12,md:12},o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,"Pedidos ".concat(b))))))),o.a.createElement("div",{className:n.container},c?o.a.createElement(pe,null):o.a.createElement(Om,{filteredStatus:l,serviceRequests:i,serviceRequestsLoading:c}))))})),Cm=ca(Zl.getServiceRequests,{name:"serviceRequests",options:function(e){var t=e.setAlert,a=e.status;return{variables:{status:void 0===a?null:a},onRequestError:function(){t({alertMsg:"Erro ao carregar lista de pedidos",alertType:"error",showAlert:!0})}}}}),ym=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("status","setStatus",""),Cm)(jm),km="CANCELED",Am=function(e){var t=e.classes,a=e.answer;switch(a.field_type){case"ATTACHMENT":return o.a.createElement("p",{className:t.paperSubtitle},o.a.createElement("a",{href:Object(S.get)(a,"answer.url"),target:"_blank",rel:"noopener noreferrer"},Object(S.get)(a,"answer.metadata.filename")));case"DATE_FIELD":return o.a.createElement("p",{className:t.paperSubtitle},a.answer&&A()(a.answer).format("DD/MM/YYYY"));case"TEXT_AREA":return o.a.createElement("p",{className:t.paperSubtitle},a.answer&&Object(S.map)(a.answer.split("\n"),(function(e,t){return o.a.createElement(o.a.Fragment,{key:t},t>0&&o.a.createElement("br",null),e)})));case"CHECKBOX":return o.a.createElement("p",{className:t.paperSubtitle},a.answer&&a.answer.join(", "));default:return o.a.createElement("p",{className:t.paperSubtitle},a.answer&&a.answer.toString())}},wm=ca(Zl.getServiceRequest,{name:"serviceRequest",options:function(e){var t=e.match,a=e.setAlert;return{variables:Object(S.get)(t,"params.id"),onRequestError:function(){a({alertMsg:"Erro ao carregar solicita\xe7\xe3o",alertType:"error",showAlert:!0})}}}}),Tm=ca(Zl.deleteServiceRequest,{name:"deleteServiceRequest",init:!1,options:function(e){var t=e.match,a=e.setAlert,n=e.serviceRequestFetch;return{variables:Object(S.get)(t,"params.id"),onRequestFinished:function(){a({alertMsg:"Solicita\xe7\xe3o cancelada com sucesso",alertType:"success",showAlert:!0}),n(!0)},onRequestError:function(){a({alertMsg:"Erro ao cancelar solicita\xe7\xe3o",alertType:"error",showAlert:!0})}}}}),xm=Object(Z.b)(Zn,wm,Tm,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{questionBlock:{marginTop:e.spacing(4)},paperTitle:{marginLeft:e.spacing(2),fontSize:e.spacing(2)},paperSubtitle:{marginLeft:e.spacing(2),color:"rgba(0, 0, 0, 0.54)"},paperDateInfo:{marginLeft:20,color:"rgba(0, 0, 0, 0.54)"},paperContainer:{paddingBottom:20,paddingTop:20,marginTop:20},serviceSubtitle:{fontSize:18},serviceDescription:{color:"rgba(0, 0, 0, 0.54)"},statusContainerCanceled:{color:"#FFFFFF",backgroundColor:gm.a[400],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50},statusContainerInProgress:{color:"#FFFFFF",backgroundColor:La.a[900],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50,wordWrap:"initial"},statusContainerDone:{color:"#FFFFFF",backgroundColor:at.a[500],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50},mobileButton:{marginTop:25,justifyContent:"flex-end"}})}),{withTheme:!0}))((function(e){var t=e.classes,a=e.serviceRequestData,n=e.serviceRequestLoading,r=e.deleteServiceRequestFetch,c=e.deleteServiceRequestLoading,l=ut.isMobile(),i=Object(S.get)(a,"service_request",""),s=Object(S.get)(i,"service_data",""),m=Object(S.get)(i,"status","")===km;return o.a.createElement(o.a.Fragment,null,n?o.a.createElement(pe,null):o.a.createElement(o.a.Fragment,null,s?o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{container:!0},o.a.createElement(me.a,{item:!0,xs:12,md:8},o.a.createElement(ge.a,{variant:"h5"},o.a.createElement("b",null,s.title))),o.a.createElement(me.a,{item:!0,xs:12,md:4},!m&&o.a.createElement(ue.a,{className:l?t.mobileButton:"",variant:"outlined",color:"secondary",size:"large",onClick:function(){window.confirm("Deseja excluir o pedido?")&&r(!0)},disabled:c},"Cancelar"))),o.a.createElement(me.a,{container:!0},o.a.createElement(me.a,{item:!0,xs:12,md:5},o.a.createElement("p",{className:t.serviceSubtitle},o.a.createElement("b",null,s.subtitle)),o.a.createElement("p",{className:t.serviceDescription},s.description)),o.a.createElement(me.a,{item:!0,xs:12,md:3}),o.a.createElement(me.a,{item:!0,xs:12,md:9},o.a.createElement(Za.a,{className:t.paperContainer},o.a.createElement("span",{className:t.paperDateInfo},"Enviado em ".concat(A()(i.created_at).format("DD/MM/YYYY"))),Object(S.map)(i.answers,(function(e,a){return o.a.createElement("div",{className:t.questionBlock,key:a},o.a.createElement("p",{className:t.paperTitle},o.a.createElement("b",null,e.question)),o.a.createElement(Am,{classes:t,answer:e}))})))))):""))})),Nm=li,Sm=li,Dm=li;K.setup(),A.a.locale(P.locale);var Mm=y()(j()(Ge,(function(e,t){return e.submenus?j()(e.submenus,(function(t,a){return Object(f.a)(Object(f.a)({},t),{},{path:"".concat(e.path).concat(t.path),key:a,page:n[a]})})):Object(f.a)(Object(f.a)({},e),{},{key:t,page:n[t]})}))),Im=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setIOSManifest(),this.setState({loading:!0},Object(u.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!F.isLoggedIn()){t.next=6;break}return t.next=4,z.getViewer();case 4:a=t.sent,F.setUserData(v()(a,"member"));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),F.isUnauthorized(t.t0)&&F.clear();case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])}))))}},{key:"setIOSManifest",value:function(){P.isiOS&&document.querySelector('link[rel="manifest"]').setAttribute("rel","no-on-ios")}},{key:"render",value:function(){var e=this.state.loading;return o.a.createElement(T.a,{theme:Oe},o.a.createElement(w.a,null),o.a.createElement(r.Suspense,{fallback:o.a.createElement(pe,{hasRefreshMsg:!0})},e?o.a.createElement(pe,{hasRefreshMsg:!0}):o.a.createElement(o.a.Fragment,null,o.a.createElement(h.d,null,j()(Mm,(function(e){return o.a.createElement(h.b,{key:e.path,exact:e.exact,path:e.path,render:function(t){try{if(e.private&&F.isLoggedIn()||!e.private){var a=Q(e.page,e.trackPage);return o.a.createElement(a,t)}var n="".concat(t.location.pathname).concat(t.location.search);return M.save("redirectUrl",n),o.a.createElement(h.a,{to:{pathname:"/",state:{from:t.location}}})}catch(r){return o.a.createElement(h.a,{to:{pathname:"/",state:{from:t.location}}})}}})})),o.a.createElement(h.b,{component:he})))))}}]),a}(r.PureComponent),Fm=ie(Im),Rm=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,949)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};l.a.render(o.a.createElement(i.a,null,o.a.createElement(Fm,null)),document.querySelector("main")),Rm()}},[[563,1,2]]]);
//# sourceMappingURL=main.dd8615c8.chunk.js.map