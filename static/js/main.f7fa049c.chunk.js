(this["webpackJsonplobby-portal"]=this["webpackJsonplobby-portal"]||[]).push([[0],{217:function(e,t,a){e.exports=a.p+"static/media/logo.7f12e1c7.png"},290:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAADcCAYAAACs2N87AAAXdUlEQVR4AezBgQAAAAACoDH2Jx3kKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL86dusQEaMoisLohSwBjECUZDCNv0DSNU18BYAogVHI5mIGz2k3AeByVlh11/2NHMyHtcbATCgA8Fs+O3AaemjMIBQAEFggsACoBBYILAAQWAgsABBY7UFgAYDAQmABgMACgQWAwAKBBQACC4EFAAILBBYAAgsEFgACS2AhsABAYIHAAkBgXYaLV8CDwHorAATW6MFEKC+CkYNdgQWAwBJYCCwAEFgILAAQWLRBYAGAwEJgAYDAAoEFgMASWAgsABBYCCwAEFg0Q2ABgMBCYAGAwAKBBYDAElgILAAQWAgsABBYtE9gAYDAQmABgMCibQILAAQWAgsABBZtE1gAILAQWAAgsGiSwAIAgYXAAgCBhcASWIuh+4DlUFJgELoPmAslsb3QvdN2KCCwEFh/30boP2AnlBS4Dv0HLISS2GPo3+k+FBBYCCyB9e8hsILAQmCBwBJYCKwfJLAQWCCwBBYCS2AhsAQWAktgIbAEFggsBJbAohJYCQgsBBYILIGFwBJYCCyBhcASWAgsgQUCC4ElsKgEVgICC4EFAktgIbAEFgJLYCGwBBYCS2CBwEJgCSwqgZWAwEJggcASWAgsgYXAElgILIGFwBJYILAQWAKLSmAlILAQWCCwBBYCS2AhsAQWAktgIbAEFggsBJbAohJYCQgsBBYILIGFwBJYCCyBhcASWAgsgQUCC4ElsKgEVgICC4EFAktgIbAEFgJLYCGwBBYCq0UCC4EFAktgIbAEFgJrK9y8012c55iAQGAJLASWwEJg/TwQWAILgSWwEFggsAQWAktggcBCYAmsJ/buOcqSLGvY+K5q20hna8207cK4bay2bdu2Mtu2bdsufG132Xbu77n5xqtaneude3bgROb+47diWH2T96lzIvYJ5zyw6tAT//oD66LOA2sms7bMx3UZ/KsDy/K/WQRSbi7SF+ZcZIHlgeU8sGqxE25AP0yA/hvG43Ncjl352V4IEpVsA2s1nICH8TOmQf8PMzAEz+Bs9K6ZrWU2SHm4aF+Ycx5YHlhZq5+ntTvXGvTCPjgYJ+K6xLE4GHuiV+UJ6No5WmaBRCj9wOLj5XoEPkEbNAXT8RYONTzwFHtgrYVrMAiakuG4Bf+sm7ulO8TFLdoX5pwHlgdW2urmbOnOdQOchZcD31jH4GWchg0MwRVzYK2GuzANmqFJuAXLln2LsHb2llm5boOPoRn7BYfUzN4yG8TFKdoX5pwHlgdWitbA1fgNmrIhuBordIItwkY8Cc3ZNNyJurIFVsN8rd2SsOoHzdnvOKQSd5C08GcujxcNHmYXYo5IdkK2M34sq3W+m9yd88DywLLbCG9Cc/IKNixhYK2HczAVWqCJOKFxgdZukLwYAmt5vAktWF+sBUnR01CDIyFFqqzwcf0RGqiPYTvWtwidbxF6YHVKq+F9aEFexkolCqyB0Ih8gWUiX8EahUnQSLThYqJi1pR2EFbFDGigwUWvYiX3VarBdvAxDc5XsDywPLBqZm2Zi+tFmAqNwAXB2zcBDIEVo5HYOuLAitUHaIak4DaowekFr179YFkVrNyzCQmV/AvnYuOB5YFVtT+jHzQyX2HFaFew4neSB1bVBmADiEXyFOl4aKAx/BkLQ3JnX73a3geNuvLzFSwPLLutMQ4aqYnYzgMr2F2VkRqQDBgCK2oT0RtidAnU4BxIniqrxsbVqzd8krsrPw8sDyy7E6ElcbwHVrA7rVs2Hek4sDyykm33Yca5Z42QHO0NNehVeGDJ5A9bMalKU7pN/nAxCJzriAeWB5YhrqJ2qQdWsJN9i7BqE1J44OJAqMENkDxU5tKlsXoVQ2DdAK1W+QPLeWB5YHlcmVzogRVsdw+sqg3kvqQFISGSaPneOOdseUgOtspt9coDy3lgeWD55yI6M7C3B1aQqVjZA6tqb1ieaE1myqnBo5AcfBzD6pUHlvPA8sAqo16YBi25yejRSQJrBibgP2nGvmTO0ZwQu0IDawomJCZDM3YKJMRSi7RPrH8darAKJEObG+eI9fbAciXmgeWBZTBryxJcR2Z8ZMuUmUyHZuR3PqaFIHa5BtbvuBo7YWX+2YtC/lPydVoDu+MWDIGm7NySrWDNwCs4Hf9C3UyDOGev/Gf4J07BS5iRftSbjnRaE2rwDiRDH0EDPQzxwHKl5oHlgWXwODRF43Ev9sKqlSemIDOZN4mF/fBoBisN95doBeuBkL/l187Zfg/PRvgg5dWf5UoQWGNxJhoC/kKxCNfj8Cs0Ja9DDO6DGvwDkoHNoAYremA5Aw+sUvPA2gWakm+xX8g2UxJcB6X8prdV5IH1PtaHpGBjfAVNwcMRB9YUXEUkLQCxqKx0JStf9ri3HwGzjHGL/i1ImpZatH378sMYVq88sJwHVql4YFVCiOuAlFasjqybq6U7xCLZ0jkqpTe9nyp/HsQig8Bqwxn82bNB0pLMVroWmoKVIgysAegJSdmK6Ac16mP4GUhj+OjOkBRtGsH3kAeW88DywCql86BGX2I5SMqWRl+o0WGRrWBNwBY5fE9Pt65iRRZYfbBkhvchzs/1BajRZobXsDDXwcbjoyQNjQu2r159EMHqlQeW88DywCrl6tU4qMGTrJrMA8lCspr1HNRgkG0VK9XAmoBekBzskEJk1UcSWG/z/TAnJFNsGdojyzyS4ASowQGQFGwSwX18HljOA8sDq5QOgho82DBfazdIhtKKrN0jWMFqw9aQHB0HNTgngsD6GktC8pBE1ifGpxobgleOFmjtZhw+OuA/n6IM1WRfvboOYuCB5TywSs0D6wtooHcrN6VDckFkGR8VfyeCwLoAUoB7oIG+b2ZOEySELbAMw0/tao3nBJ4BMdgVanA4xGBj49es0QOrS3IeWPDAWg4aaCjqCpjVtaRhVlcbli4wsD6vmb1lNkje+LzNxz9/eEGP2VsD6zhIQXazfL0Lnj011nKEj3H16nqIB1aX5Dyw4IF1BjTQ9pCC7FrQze7WwPobpEB7QwOdVFBg9TdsdZklIwo+hgaYQagsZhxu26OggbEbGQcKN3hgdVnOA8sDyzDb5kNIUZoXNs3lebGgwHoLUqTkUOHfoQGeKiiwdoMYFH2j904Qo6eggcZUnkoMCLsPratXHljl5TywPLDsN/FOhQbYtMRvehMLCqztIRE4ExpgUNNCrd0g1TIE1qjUZoTZb/b+ERrg4pRGlbRBA90AqcK/LEGHJT2wujLngeUrWGtAA/wGKVpyPMyAPAcfGgJr/H8eE1S05GPXIIH38xgC63ZIDAzDP5+BpOB64w3n9YaVbcMTpx5YXY/zwPLA2gMa4BJIJC6HBtgx58B6ARILw2rMOjlvEe4EicSG0AC/pPRwx+Jcx+dwJudG+WxH2hn+zx5YmXIeWB5Y50AD9IBEYnPDDdt5BtZZkIg8DA2wb86B1QSJQWUFMnBLfTIkJacZ53KtkvHq1bkQX8Hq6pwHlgfWVdAqTbcfrpuqBQK/Zq05B9bukIicBA2wT46BNb5+7tbukFjwmoYEjgapSTHyBkADPVr+1StfwXIeWB5Y8XsZWqVxkFg08TQh10HQKt2dc2BtAInI/tAAV+QYWGMhkXk1gpW4PaEGf81o9eo8iK9gOeeBlfDAqtJHkMh8B63SXTkH1uqQiGxZgsB6BxKZV4oOrMqgWq6fWs5zzGD1amAOK9u+guU8sErsr5bHsAvjgfUstEqfemBFH1hfeWBlcIQNsAUECfPU9iMgvoLlnAdWR9aFBrjTA6tQz0Cr9DEkwNXQAJtBIrJXXkfWGAJrjAfWH6ucC8n1Bct0/Mb5W7tBYF69KmrSvu3/7IHlPLDytHbsE7ojeLPoB4nM93ltERqGdO5Z/pvcTU8RhpwdOYn3wTkhseA1/RBybAw3p88DSVOyKjoNmsKokteggY6E+AqWcx5YHar8MueqAUZDSuhaaJWmQGLRuGDuN7kf2Em2ke+ABtgGEuAtaIDlI/v9MCkkFKP7OgI/Jqc5rGZcvZoT4itYznlgdajySDjXYdAAK3SJMQ1APSQKTBYP/BhuMs3dKv8q5zd5TsA3zN3aFRIDQ4h8AMlIDSYaDz5/vAyrV76C5Tywyu9taIATSvnUZPnf9LbMedDo0tAAE9nWmTeSo3LqoAGmh50LaNpavQcSiZOh9u3o1F0KDTQMGugbiAeWcx5YWf+y+hhSMhtZV38icCU0wA6QnKeS7wyJwFHQAF9CAm0BDTA2lvuweC1fQAMclfGE+bmDBqDa7eqB5ZwHVjU2gwbqBSkNpi4HfpwjamdvmRVSqDnaD3v+CRpgRetYiACvQCLQBxrgRsP32hJc26ABdoMUbD1ooPUgGTsSahfp6pUHlvPAKr/KNg7XifY30PhVHtPm+luJtwlD74eaADE4AhpoTUiBtoMG2hZi8FXom3klpiHFMN1DNrp2zpZZIFlqmK+1W8ATjha7emA554FlPw7Dvg0Us3tC5+gUuYqVvKF8DA3wPMRgGWiRNzwbJoD/XNQ9ZPwZZ0MDHQwpyD+hge6NdPXdvnrlgeWcB1aAfaCBBqEGEj37uWYHlfR1HwMx+gQa6FhIAa6GBnoMYrQ8NNBYNBX0lOpP0EBbRveQjt2O8MByzgMreJtwNDTQ5/xing9SAgsks600wHgsBclZLUZBA7ShueB7XqagJyRHO6Itgi2hPtBAH+b5c1U/T/vYlqcsT+jlfYN+6LDkKrwHgQeWcx5Ywa6AGjxh30LLR9hRMwA+4c1ofkgeKm9YxoNuP4JYJWE61fh4/IqQHPTGBMswybTugUrmLqnBk3VztXSHZKlh3vYt6DuhBpdBCvAQNCMbQeCB5ZwHVrAmtEENPq5sMUCilsySMnimbs6W7pAsJXH1MtRgb0hKroMaI2tlSIY2NsUVcErK09AHQg0ezXKmWPJ06h1Qg+lohhRgGbRBU/Y+JOGB5ZwHlsm1UKNfsA4kctYnkF7NcvsmuRfmJajB77zBz57idkw9pkENpmTxYETjAu0rMCel8EY7Mu1z9P5zDpfRpxndk1WPt6BGd0EKdHHGq1ceWM55YJksiYnQFFyLOkikDoUa9cefISlbGV9BjQ7ObNCp3V1E5JIprUiugnehBoYHAnJYxQLG4LA0Vk/r/2NL8GCMghpNQl3BM+4W5zocahDw9KsHlnMeWIbwMJiMW7AGJCbJoa/9oEYTcXwa9+yw2lF5Iz4dU6FGAzo45sUkGdY6BJqC8TjfsLW0Bh6EpuSrymgHSNqSmVqakk+xd8j3XDIFfS/8CE3J6ZAIHA9NQRvW98DywHIeWGmHx+xcP4SmbBgexinYEdtgpUBLpX50jt2POLTyBgapRjL1+3QMgKZku4yf0NOUvY3j0aOj+/j47xqwMa7Ed9CU/TXXeXN2o3Eb9u7oAYLk/qrVcDDuxihoir6y34SfjspDNrye76FGT0Fi5IHlPLDKrwmToJF6A5KSu6EpmoincTh6dDAjbDlshFPxJtQu9zeI+6AZasOX6IPfoRm7MKct+OHQDI1BHyDzn+HpWAkSkb1S+L5b0wPLA8t5YGVp6y4RWIxcMByfE6NBlRUxSMbmNw6kjMlHAQ8DBDAddxSjgyAR6gMN9DSkKh5YznlgBTilFIFltyamQEtuBjbM+fH48dASG0wsLpLzmJCToCV3S6QHui/EdUwOq1ceWM55YJldU4rAstsDWnK7QXLWo8SRNQTLQ/LUvEj7E3y3Qkvq1crZmJDY8NrOscy3g8TMA8t5YHlklS+wgKOhJXUe5N/mkTXUEFdmTQu2R9Zt0JJ51zD0NFO8tkaMgwaYZhi54oHlnAeWyTloizKwPLLOhwAeWfa4ykfD/KWLrGdijasksK6HBroVUhQPLOeB5XbC5OgDy+4YaAm04UhIJNbG79CI9YtppaJu7pbuXE/ADGjEWgzjGDKXrF5NNaxeLQUpkgeW88Byq+Dr6APLbqfIb3wfhy0jvMl4UcP5iVm7PzkGJ8bVl79jRKTfZ3tDYmY8S/E2SOE8sJwHlqtMCOd6ESbFH1jmmPwhxrECMf+Nu4aBj8kq4ARoBEaV4Wc4Oe7lMWgkPsXykMitDA00FUtDYuKB5Tyw3J/wUvSBZT9H7kpoBCbgbPuxPPlIxjg8DS3QbaiFlMg2GAAtyCAcVDmvEBI7XusjnXX1ygPLeWC5Hngm6sCyWxNvQgvyMJaBlNDaeAWao/vwJ0gZJWdlHm6/py3gbEjOm4SUAa93LWigCWWJbw8s54HlmnE+vok2sOw2yTG0puNerAPpBNbGvZgIzcBY3Bjd4/b2FdQ98QE0I31wcOWwcUiZGH8WL4aUhwcW4Dyw3Ko4Hs9hWMyBZYiFazI6W+4LnF65YRzS2VRuNE8eIrgXQ6EGv+BObMm9X7NBOqvkDMvT8C6mQg0+xZlYFVJSfzOtXiUrdWVi+D97YHVGHliufp72eT+N6IG9cQIuMzgEEoPKRGuuPXEKng0Ihun4FnfgSDRAuooG7vPhugz2wmV4DG/h1z/wKh7EBdgVTc0Lt3aDdDXJFuJfcAyuxfPoj19n8v/wPG7DsdjYHhaR4C9aXWT1ylewnAeWc40Mj2SFZm7+9frYCvt3YEMsV3mj/P/t3QPM9eYfx+H7PPobs20EsxnOthfOthXOthljtrfOtm2j09P9Zqt333en3ZXkyomOwk++VUi/H/D1ApqzXo0XkgVLYCGwAPjuDvj3t+DJBxas1kBgAbBWRly9GgvzP0Jqo4w3C6xfhMACcJPjkcx7hG0fUgYLVucgsADYvFXrlQWLFhBYAB7R9cJYXq8sWGH2kH4NCCyA1tonI65eq7leWbDCkiF1DAILgKEjxonXtzICa4uQ6rFgrRASdC6wANg7I64em3TkiKGQ2i7vzWWxe6hq2DYk6FRgATB5eCcjsDYI8TkWrA1DVcNZIUGnAguAozLi6vHv1isL1jyhquGZkKAzgQXAZJkPtt4wJAtW6JXFv1JZfBSqGuYLCToRWACcar36Tv4HlMV9oarhhJCg9YEFwGyhyrBSSF2S/wFlcWioavgwTBIStDqwADgvI65unfL/R/ZC6pL8DyiLJUJV07EhQWsDC4AFQ5Vh6ZAsWD8yWBZDqSxeyoiseUKCVgYWAFflrFdT/OfIXkhd08iHZNxw9AtP98pi/JCgVc8iBGDxUGVYNqQuauZDymLOUGW4bqAsRkIKAVoQWADcmHXu1X+P7IXURc19UFlcHqoMF/TK4t8hQd8vWACsHqoMi4TUVc19UFksGKpM94SpQwKBBdDX7suIq4tCEli/U+6K9bU3wjoh0ZcEFgBrhyrDvCH9fgJrrjAaqgZcHeYPif4gsACYZPiI4Xh91nqVGVg1IuvgUDXonrBLmG2oLAZD4q9BYAH0pU1DlWE+gVVDryz+ncriwVCNAW+FW8IF4fAM8/3hNWXoiP/F/zsiHD7WcLPA6h8Ak4wcMWS9yg2s/EOF74eqT21Y43DVpKFqAQTWmAKwd6hqGg2zCqz8yFpHYHWDwALg6yM5b4aqptNDEljNRNYBAqsTBBYAe4YqwwwCq9nIOkhgtZ7AAmCqMEtN04QksPo7sgQWAgsAgfV1ZG0XRgUWAgsAgdVsZC0dXhZYCCwABFazkTVpuFhgIbAAEFjNh9bG4VWBhcACQGA1qFcW4319K4d3BBYCCwCB1Xxo7RFeFFgILAAEVoOGy2IglcWy4fTwksBCYAEgsBr0j7LopbKYO2weTg13hDKMCiwEFgACq0GDZTGcymLGHL2y+G9If8SkXz1BfMYWYOiI/4b0ZwGAP/oGAAAEFgCAwAIAEFgAAAgsAACBBQAgsAAABBYAAAILAEBgAQAILAAABBYAgMACABBYAAAILAAAgQUAILAAABBYAAACCwBAYAEACCwAAAQWAIDAAgAQWAAACCwAAIEFACCwAAAQWAAAAgsAQGABAPA5vJFvdTUb5IYAAAAASUVORK5CYII="},422:function(e,t,a){e.exports=a(706)},567:function(e,t,a){e.exports=a.p+"static/media/slack-integration.9c4865bb.png"},587:function(e,t,a){e.exports=a.p+"static/media/tickets-welcome.1f5e7193.png"},589:function(e,t,a){e.exports=a.p+"static/media/services-welcome.fdfab99a.png"},599:function(e,t){},601:function(e,t){},626:function(e,t){},628:function(e,t){},656:function(e,t){},657:function(e,t){},662:function(e,t){},664:function(e,t){},671:function(e,t){},690:function(e,t){},706:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"Signin",(function(){return ot})),a.d(n,"Signup",(function(){return aa})),a.d(n,"CreatePassword",(function(){return la})),a.d(n,"ResetPassword",(function(){return sa})),a.d(n,"Slack",(function(){return Bn})),a.d(n,"Members",(function(){return Jl})),a.d(n,"Locations",(function(){return fi})),a.d(n,"PlanSubscription",(function(){return Ii})),a.d(n,"MyPlan",(function(){return Ji})),a.d(n,"Notifications",(function(){return ts})),a.d(n,"MyProfile",(function(){return rs})),a.d(n,"ChangePassword",(function(){return ls})),a.d(n,"Tickets",(function(){return Oc})),a.d(n,"NewTicket",(function(){return Nc})),a.d(n,"TicketsReport",(function(){return Hc})),a.d(n,"PublicNewTicket",(function(){return al})),a.d(n,"TicketCategories",(function(){return Os})),a.d(n,"TicketTags",(function(){return Fs})),a.d(n,"Services",(function(){return yl})),a.d(n,"MyRequests",(function(){return Us})),a.d(n,"MyRequestDetails",(function(){return Ys})),a.d(n,"ServicesOnDemand",(function(){return Qs})),a.d(n,"ServicesSubscription",(function(){return Gs})),a.d(n,"NewServiceRequest",(function(){return Js}));var r=a(0),o=a.n(r),c=a(27),l=a.n(c),i=a(32),s=a(11),u=a.n(s),m=a(16),d=a(48),b=a(49),p=a(59),g=a(58),f=a(4),h=(a(428),a(15)),E=a(10),v=a.n(E),O=a(100),j=a.n(O),C=a(356),y=a.n(C),k=a(18),A=a.n(k),w=a(809),T=a(808),x=a(244),S=a.n(x),N=a(1),D=a(357),M={save:function(e,t){return localStorage.setItem(e,JSON.stringify(t))},get:function(e){try{var t=localStorage.getItem(e);return JSON.parse(t)}catch(a){return{}}},delete:function(e){return localStorage.removeItem(e)}},F=new(a.n(D).a),I={setUserToken:function(e){return M.save("userToken",e)},getUserToken:function(){return M.get("userToken")||""},setUserData:function(e){var t=M.save("userData",e);return F.publish("ON_VIEWER_CHANGE",e),t},getUserData:function(){return M.get("userData")||{}},clear:function(){F.publish("ON_VIEWER_CHANGE",null),M.delete("userToken"),M.delete("userData")},getAuthToken:function(){var e=M.get("userToken");if(e)return e;throw new Error("No authToken")},getBearerToken:function(){var e=M.get("userToken");return"Bearer: ".concat(e)},isTicketsWelcomeVisited:function(){return!!M.get("ticketsWelcomeVisited")},isServicesWelcomeVisited:function(){return!!M.get("servicesWelcomeVisited")},setTicketsWelcomeVisited:function(){M.save("ticketsWelcomeVisited",!0)},setServicesWelcomeVisited:function(){M.save("servicesWelcomeVisited",!0)},isLoggedIn:function(){var e=M.get("userToken");return!!e},isUnauthorized:function(e){return e&&e.response&&401===e.response.status},subscribeOnViewerChange:function(e){return F.subscribe("ON_VIEWER_CHANGE",(function(t){return e(t)}))},unsubscribeOnViewerChange:function(e){return F.unsubscribe(e)}},R=a(358),L="production",B="https://api.lobby.tech",P={appName:"Lobby Portal",appNamespace:a.n(R)()("Lobby Portal"),apiURL:B,systemName:"Lobby",systemPhotoUrl:"".concat("https://portal.lobby.tech","/system-icon.png"),wsURL:"wss://api.lobby.tech",env:L,isDevelopment:!1,isStaging:!1,isProduction:!0,livechatId:12113223,whatsappHelp:"https://wa.me/5511999977468",slackClientId:"760439175683.1126241376992",slackOAuthURL:"https://slack.com/oauth/v2/authorize",slackOAuthScope:"commands,users:read,users:read.email,chat:write",slackOAuthUserScope:"users:read,users:read.email,chat:write",slackRedirectURL:"".concat(B,"/lobby_portal/slack/integrate"),apiRequestTimeout:2e4,mixpanelToken:"edc68e4e1788a9a91e92f329276c65f7",sentryDsn:"https://3be1796d494f46669c83a078596a5f77@o280883.ingest.sentry.io/5246294",pagarmeEncryptionKey:"ek_live_kI7ECtOa76HXqGKCY9qWDxKSmd9Kc6",locale:"pt-br",isiOS:!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},_=function(e){var t=Object(N.get)(e,"response.data")||{};return t.response=Object(N.get)(e,"response"),t||(t={error:Object(N.get)(e,"message")}),t},q="".concat(P.apiURL,"/").concat(P.appNamespace),z={request:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,l=x.CancelToken.source(),i=new Promise((function(a,n){e=a,t=n}));i.cancelRequest=function(){return l.cancel("Operation canceled by the user.")};var s=I.getBearerToken(),u=S.a.create({baseURL:q,timeout:P.apiRequestTimeout,headers:{"Content-Type":"application/json",Authorization:s},responseType:"json",onUploadProgress:Object(N.get)(c,"onUploadProgress"),cancelToken:l.token});return u[a](n,r,o).then((function(t){return e(t.data)})).catch((function(e){return t(_(e))})),i},get:function(e,t,a){return this.request("get",e,{params:t},a)},post:function(e,t,a,n){return this.request("post",e,t,a,n)},put:function(e,t,a,n){return this.request("put",e,t,a,n)},delete:function(e,t,a,n){return this.request("delete",e,t,a,n)}},U={getViewer:function(){return z.get("/member")},updateMember:function(e){var t=e.name,a=e.lastname,n=e.jobRole;return z.put("/member",{name:t,lastname:a,job_role:n})},updateMemberPassword:function(e){var t=e.password;return z.put("/member/change_password",{password:t})},revokeSlackUser:function(){return z.put("/member/revoke_slack")}},W=a(148),V=a.n(W),H=a(359),Y=a.n(H);V.a.init(P.mixpanelToken);var Q={prepareTrackUser:function(){var e=I.getUserData();if(e&&e.id){var t={app_id:P.appNamespace,app_name:P.appName,user_id:v()(e,"id"),email:v()(e,"email"),phone:v()(e,"phone"),name:v()(e,"fullname"),company:v()(e,"company.name"),company_id:v()(e,"company_id"),created_at:v()(e,"created_at"),verified_at:v()(e,"verified_at")};return V.a.identify(t.user_id),V.a.people.set(t),t}return{}},hit:function(e,t){if(P.isProduction){var a=this.prepareTrackUser(),n=Y()(t,a);return V.a.track(e,n)}return console.info(e)},trackPageView:function(e){this.hit("".concat(e," - Viewed"),{screen:e})}},G=function(e,t){return function(a){return Object(r.useEffect)((function(){Q.trackPageView(t)})),o.a.createElement(e,a)}},J=a(810),X=a(55),K=function(){function e(){Object(d.a)(this,e)}return Object(b.a)(e,null,[{key:"setup",value:function(){if(P.isProduction){J.a({dsn:P.sentryDsn,environment:P.env}),X.b("server",P.apiUrl);var e=this.getViewerData();X.c(e)}}},{key:"capture",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.length>1&&void 0!==r[1]?r[1]:{},t&&(P.isProduction?(n=this.getViewerData(),X.c(n),Object.keys(a).forEach((function(e){return X.b(e,a[e])})),setTimeout((function(){return X.a(t)}),10)):console.warn(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewerData",value:function(){try{var e=I.getUserData();return e&&e.id?{id:e.id,email:e.email}:{}}catch(t){return{}}}}]),e}(),Z=a(3),$=a(9),ee=a(69),te=a.n(ee),ae=a(7),ne=a.n(ae),re=a(34),oe=function(e){var t;return{container:(t={width:"auto",height:"100%",maxHeight:"100%",marginBottom:20},Object(re.a)(t,e.breakpoints.up("md"),{paddingLeft:e.menuWidth,width:"calc(100%-".concat(2*e.menuWidth,"px)"),minWidth:"calc(100%-".concat(2*e.menuWidth,"px)"),maxWidth:"calc(100%-".concat(2*e.menuWidth,"px)"),marginLeft:"auto",marginRight:"auto"}),Object(re.a)(t,e.breakpoints.up("xl"),{width:e.maxContainerWidth,minWidth:e.maxContainerWidth,maxWidth:e.maxContainerWidth,marginLeft:"auto",marginRight:"auto"}),t),root:Object(re.a)({flexGrow:1,marginRight:10,marginLeft:10},e.breakpoints.up("md"),{marginRight:40,marginLeft:40}),fab:{position:"fixed",zIndex:1e3,bottom:e.spacing(2),right:e.spacing(2)},headerView:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",alignItems:"flex-start",whiteSpace:"nowrap"},centerHeaderView:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center",marginTop:120},tableCell:{color:"#003f54",fontSize:14,height:"auto",wordBreak:"break-word"},tableExtraSmallCell:{fontSize:14,height:"auto",width:120,maxWidth:120,minWidth:120,wordBreak:"break-word"},tableSmallCell:{fontSize:14,height:"auto",width:160,maxWidth:160,minWidth:160,wordBreak:"break-word"},tableTinyCell:{fontSize:14,height:"auto",width:110,minWidth:110,maxWidth:110,wordBreak:"break-word"},tableMediumCell:{fontSize:14,height:"auto",width:180,maxWidth:180,minWidth:180,wordBreak:"break-word"},bgGray:{backgroundColor:"#e7ebec"},bgWhite:{backgroundColor:"#FFF"},roleSelect:{fontSize:14},inputBox:{marginTop:10},selectBox:{width:200,marginTop:10},center:{display:"flex",justifyContent:"center",textAlign:"center"},textCenter:{textAlign:"center"},emptyHeaderIcon:{fontSize:32},emptyHeaderTitle:{marginLeft:10},iconMenu:{marginRight:10},paper:{padding:20,paddingBottom:30,overflowX:"auto",marginRight:"auto",marginLeft:"auto"},tablePaper:{overflowX:"auto",marginRight:"auto",marginLeft:"auto"},input:{marginTop:20},actions:{marginTop:20,display:"flex",width:"100%",justifyContent:"flex-end"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}},ce=Object(r.memo)((function(e){var t=e.classes;return o.a.createElement("div",{className:t.outterContainer},o.a.createElement(te.a,{className:t.emptyHeaderIcon}),o.a.createElement("b",{className:t.emptyHeaderTitle},"Ocorreu um problema, por favor, tente mais tarde"))}));ce.propTypes={classes:ne.a.object};var le=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{outterContainer:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center"}})}),{withTheme:!0})(ce),ie=Object(Z.b)(Object(Z.h)("hasError","setHasError",!1),Object(Z.c)({componentDidCatch:function(e,t){K.capture(e,{extra:t}),(0,this.props.setHasError)(!0)}}),(function(e){return function(t){return t.hasError?o.a.createElement(le,null):o.a.createElement(e,t)}})),se=a(762),ue=a(761),me=a(763),de=function(e){return{progress:{margin:e.spacing(2)},middle:{marginTop:20},center:{justifyContent:"center",textAlign:"center"}}},be=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={slowConnection:!1},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.hasRefreshMsg&&(this.timeoutConnection=setTimeout((function(){e.setState({slowConnection:!0})}),P.apiRequestTimeout))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutConnection)}},{key:"render",value:function(){var e=this.props,t=e.hasRefreshMsg,a=e.classes,n=e.theme.mainColor,r=this.state.slowConnection;return o.a.createElement(ue.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:a.middle},o.a.createElement(se.a,{color:n,className:a.progress,variant:"indeterminate",disableShrink:!0,thickness:5}),o.a.createElement("b",null,"Carregando..."),t&&r?o.a.createElement("div",{className:a.center},o.a.createElement("br",null),o.a.createElement("b",null,"H\xe1 problemas de conex\xe3o com a internet"),o.a.createElement(me.a,{onClick:function(){return window.location.reload()},size:"large",color:"primary",variant:"contained"},o.a.createElement("b",null,"Recarregar"))):null)}}]),a}(r.PureComponent),pe=Object($.a)(de,{withTheme:!0})(be),ge=a(390),fe=a(193),he=Object(ge.a)({palette:{primary:{main:"#1177FF"},secondary:{main:fe.a[500],light:"#ff7961"},background:{default:"#F5F5F5"}},typography:{useNextVariants:!0},maxContainerWidth:1440,menuWidth:200}),Ee=a(393);function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Oe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var je=o.a.createElement("g",{id:"Group_2417","data-name":"Group 2417",transform:"translate(15781 2913)"},o.a.createElement("g",{id:"Group_2416","data-name":"Group 2416"},o.a.createElement("g",{id:"Group_2413","data-name":"Group 2413"},o.a.createElement("rect",{id:"Rectangle_2430","data-name":"Rectangle 2430",width:128,height:128,transform:"translate(-15781 -2913)",fill:"#fff",opacity:0}),o.a.createElement("path",{id:"Path_7070","data-name":"Path 7070",d:"M-15760.308-2849h86.573l4.255,47.009-7.294,9.349-9.059,3.811h-64.633l-9.843-7.757-4.882-9.514Z",fill:"#ffaba9"}),o.a.createElement("g",{id:"shopping-bag",transform:"translate(-15820.785 -2913)"},o.a.createElement("g",{id:"Group_2412","data-name":"Group 2412",transform:"translate(53.02)"},o.a.createElement("g",{id:"Group_2411","data-name":"Group 2411",transform:"translate(0)"},o.a.createElement("path",{id:"Path_7069","data-name":"Path 7069",d:"M154.449,105.555l-5.716-72.029A9,9,0,0,0,139.8,25.25H128.508v-.507a24.742,24.742,0,1,0-49.484,0v.507H67.733A9,9,0,0,0,58.8,33.516l-5.718,72.049A20.842,20.842,0,0,0,73.861,128h59.808a20.842,20.842,0,0,0,20.78-22.445ZM86.521,24.742a17.245,17.245,0,0,1,34.49,0v.507H86.521Zm56.939,91.484a13.207,13.207,0,0,1-9.79,4.276H73.862a13.344,13.344,0,0,1-13.306-14.355L66.273,34.1a1.47,1.47,0,0,1,1.459-1.351H79.023v9.234a3.749,3.749,0,0,0,7.5,0V32.747h34.49v9.234a3.749,3.749,0,1,0,7.5,0V32.747H139.8a1.473,1.473,0,0,1,1.46,1.361l5.716,72.029A13.208,13.208,0,0,1,143.459,116.226Z",transform:"translate(-53.02)",fill:"#fe5956"}))))))),Ce=function(e){var t=e.svgRef,a=e.title,n=Oe(e,["svgRef","title"]);return o.a.createElement("svg",ve({width:128,height:128,viewBox:"0 0 128 128",ref:t},n),a?o.a.createElement("title",null,a):null,je)},ye=o.a.forwardRef((function(e,t){return o.a.createElement(Ce,ve({svgRef:t},e))})),ke=(a.p,Object(r.memo)((function(){return o.a.createElement(Ee.a,{component:ye,viewBox:"0 0 128 128",style:{width:20,height:20}})})));function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Te=o.a.createElement("path",{d:"M240,144h-5.336V133.336A5.328,5.328,0,0,0,229.336,128H224a5.34,5.34,0,0,0-5.336,5.336V144H165.328V133.336A5.323,5.323,0,0,0,160,128h-5.336a5.34,5.34,0,0,0-5.336,5.336V144H144a16.016,16.016,0,0,0-16,16v80a16.016,16.016,0,0,0,16,16h96a16.016,16.016,0,0,0,16-16V160A16.016,16.016,0,0,0,240,144Zm0,101.338H144A5.34,5.34,0,0,1,138.664,240V176.217H245.328V240A5.328,5.328,0,0,1,240,245.339Z",transform:"translate(-128 -128)",fill:"#4adaa4"}),xe=o.a.createElement("g",{transform:"translate(37.331 55.999)"},o.a.createElement("path",{d:"M10.339,52.621A4.008,4.008,0,0,1,8.7,48.706L11.051,34.3,1.131,24.121A4,4,0,0,1,3.4,17.37L16.946,15.3l6.1-12.987A3.992,3.992,0,0,1,30.278,2.3l6.093,13,13.556,2.073a4,4,0,0,1,2.264,6.75L42.27,34.294l2.352,14.4a4,4,0,0,1-5.879,4.143L26.67,46.17l-12.09,6.683a4.038,4.038,0,0,1-1.937.5A4,4,0,0,1,10.339,52.621ZM24.731,45.1l1.939-3.506Z",transform:"translate(0 0)",fill:"#00d18d",stroke:"rgba(0,0,0,0)",strokeMiterlimit:10,strokeWidth:1})),Se=function(e){var t=e.svgRef,a=e.title,n=we(e,["svgRef","title"]);return o.a.createElement("svg",Ae({width:128,height:128.002,viewBox:"0 0 128 128.002",ref:t},n),a?o.a.createElement("title",null,a):null,Te,xe)},Ne=o.a.forwardRef((function(e,t){return o.a.createElement(Se,Ae({svgRef:t},e))})),De=(a.p,Object(r.memo)((function(){return o.a.createElement(Ee.a,{component:Ne,viewBox:"0 0 128 128",style:{width:20,height:20}})})));function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ie=o.a.createElement("path",{d:"M177.534,128H137.373A9.378,9.378,0,0,0,128,137.374v24.1a9.383,9.383,0,0,0,9.373,9.374h40.161a9.383,9.383,0,0,0,9.374-9.374v-24.1A9.389,9.389,0,0,0,177.534,128Z",transform:"translate(-128 -128)",fill:"#a4b6fc"}),Re=o.a.createElement("path",{d:"M177.534,234.672H137.373A9.377,9.377,0,0,0,128,244.038v56.226a9.378,9.378,0,0,0,9.373,9.374h40.161a9.383,9.383,0,0,0,9.374-9.374V244.038A9.387,9.387,0,0,0,177.534,234.672Z",transform:"translate(-128 -181.645)",fill:"#365df0"}),Le=o.a.createElement("path",{d:"M316.19,298.672H276.029a9.383,9.383,0,0,0-9.373,9.374v24.1a9.383,9.383,0,0,0,9.373,9.374H316.19a9.39,9.39,0,0,0,9.374-9.382v-24.1A9.377,9.377,0,0,0,316.19,298.672Z",transform:"translate(-197.564 -213.516)",fill:"#a4b6fc"}),Be=o.a.createElement("path",{d:"M316.19,128H276.029a9.383,9.383,0,0,0-9.373,9.374V193.6a9.383,9.383,0,0,0,9.373,9.374H316.19a9.383,9.383,0,0,0,9.374-9.374V137.374A9.378,9.378,0,0,0,316.19,128Z",transform:"translate(-197.564 -128)",fill:"#365df0"}),Pe=function(e){var t=e.svgRef,a=e.title,n=Fe(e,["svgRef","title"]);return o.a.createElement("svg",Me({ref:t},n),a?o.a.createElement("title",null,a):null,Ie,Re,Le,Be)},_e=o.a.forwardRef((function(e,t){return o.a.createElement(Pe,Me({svgRef:t},e))})),qe=(a.p,Object(r.memo)((function(){return o.a.createElement(Ee.a,{component:_e,viewBox:"0 0 128 128",style:{width:20,height:20}})}))),ze={Signin:{label:"Signin",trackPage:"Signin",path:"/",exact:!0,hideMenu:!0,private:!1},Signup:{label:"Signup",trackPage:"Signup",path:"/signup",exact:!0,hideMenu:!0,private:!1},ResetPassword:{label:"Recuperar senha",trackPage:"ResetPassword",path:"/recuperar-senha",hideMenu:!0,private:!1},CreatePassword:{label:"Criar senha",trackPage:"CreatePassword",path:"/criar-senha",hideMenu:!0,private:!1},PublicNewTicket:{label:"Novo ticket",trackPage:"PublicNewTicket",path:"/public/tickets/novo",hideMenu:!0,private:!1},NewTicket:{label:"Novo ticket",trackPage:"NewTicket",path:"/tickets/novo",hideMenu:!0,private:!0},TicketsReport:{label:"Relat\xf3rio de Tickets",trackPage:"TicketsReport",path:"/tickets/relatorio",hideMenu:!0,private:!0},Tickets:{label:"Tickets",trackPage:"Tickets",path:"/tickets/:id*",icon:o.a.createElement(qe,null),private:!0},Services:{label:"Servi\xe7os",trackPage:"Services",path:"/servicos",icon:o.a.createElement(De,null),private:!0,exact:!0},MyRequests:{label:"Pedidos",trackPage:"MyRequests",path:"/meus-pedidos",icon:o.a.createElement(ke,null),private:!0,exact:!0},MyRequestDetails:{label:"Detalhes do pedido",trackPage:"MyRequestDetails",path:"/meus-pedidos/:id",private:!0,hideMenu:!0},ServicesOnDemand:{trackPage:"ServicesOnDemand",path:"/servicos/sobdemanda",private:!0,hideMenu:!0},ServicesSubscription:{trackPage:"ServicesSubscription",path:"/servicos/recorrentes",private:!0,hideMenu:!0},NewServiceRequest:{trackPage:"NewServiceRequest",path:"/servicos/:serviceId/solicitar-servico",private:!0,hideMenu:!0},Members:{label:"Usu\xe1rios",trackPage:"Members",path:"/configuracoes/usuarios",settingsMenu:!0,private:!0},TicketCategories:{label:"Categorias",trackPage:"TicketCategories",path:"/configuracoes/categorias",settingsMenu:!0,private:!0},TicketTags:{label:"Etiquetas",trackPage:"TicketTags",path:"/configuracoes/etiquetas",settingsMenu:!0,private:!0},Locations:{label:"Locais",trackPage:"Locations",path:"/configuracoes/locais",settingsMenu:!0,private:!0},MyPlan:{label:"Meu Plano",trackPage:"MyPlan",path:"/configuracoes/meu-plano",settingsMenu:!0,private:!0},MyProfile:{label:"Meu perfil",trackPage:"MyProfile",path:"/configuracoes/meu-perfil",settingsMenu:!0,private:!0},ChangePassword:{label:"Mudar senha",trackPage:"ChangePassword",path:"/configuracoes/mudar-senha",settingsMenu:!0,private:!0},Slack:{label:"Slack",trackPage:"Slack",path:"/configuracoes/slack",settingsMenu:!0,private:!0},Notifications:{label:"Notifica\xe7\xf5es",trackPage:"Settings/Notifications",path:"/configuracoes/notificacoes",settingsMenu:!0,private:!0},PlanSubscription:{label:"Assinar Plano",trackPage:"PlanSubscription",path:"/assinar-plano",hideMenu:!0,private:!0}},Ue=a(73),We=a.n(Ue),Ve=a(766),He=a(111),Ye={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},content:{display:"flex",flexDirection:"column",width:350,marginTop:40,alignItems:"center",justifyContent:"center",textAlign:"center",paddingLeft:5,paddingRight:5},form:{width:"100%",marginTop:5},button:{marginTop:15,height:60},logo:{marginBottom:30}},Qe={postSignin:function(e,t){var a={email:e,password:t};return z.post("/auth/signin",a)},postSignup:function(e){var t=e.memberName,a=e.memberLastname,n=e.memberEmail,r=e.memberPhone,o=e.companyName,c={member_name:t,member_lastname:a,member_email:n,member_phone:r,member_password:e.memberPassword,company_name:o};return z.post("/auth/signup",c)}},Ge=a(821),Je=a(765),Xe=a(57),Ke=a.n(Xe),Ze=a(395),$e=a(195),et=a(764),tt=function(e){return{success:{backgroundColor:$e.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:"#1177FF"},warning:{backgroundColor:et.a[700]},closeIcon:{fontSize:20,opacity:.9,justifyContent:"center"},message:{fontSize:20,display:"flex",alignItems:"center"}}},at=Object(r.memo)((function(e){var t=e.message,a=e.type,n=e.actionButton,r=e.onClickAction,c=e.onClose,l=e.classes,i=[];return n&&i.push(o.a.createElement(me.a,{key:"action",color:"inherit",variant:"outlined",className:l[a||"info"]||l.info,onClick:r},n)),c&&i.push(o.a.createElement(Ze.a,{key:"close",color:"inherit",onClick:c},o.a.createElement(Ke.a,{className:l.closeIcon}))),o.a.createElement(Ge.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,autoHideDuration:c?3e3:null,onClose:function(){return c&&c()}},o.a.createElement(Je.a,{className:l[a||"info"]||l.info,message:o.a.createElement("span",{className:l.message},t),action:i}))})),nt=Object($.a)(tt,{withTheme:!0})(at),rt=Object(r.memo)((function(){return o.a.createElement("p",null,"Acessando portal voc\xea concorda com ",o.a.createElement("a",{href:"https://lobby.tech/termos-de-uso/",target:"_blank",rel:"noopener noreferrer"},"termos de uso"))})),ot=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",errorMsg:"",submit:!1},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password,o=e.props.history;e.setState({submit:!0},Object(m.a)(u.a.mark((function t(){var a,c,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n||!r){t.next=13;break}return t.next=4,Qe.postSignin(n,r);case 4:return a=t.sent,c=a.token,I.setUserToken(c),t.next=9,U.getViewer();case 9:return l=t.sent,I.setUserData(v()(l,"member")),setTimeout((function(){e.setState({submit:!1});var t=M.get("redirectUrl");M.delete("redirectUrl"),o.push(We()(t)?"/tickets":t)}),5),t.abrupt("return",!0);case 13:throw new Error("Blank fields");case 16:return t.prev=16,t.t0=t.catch(0),401===v()(t.t0,"response.status")?e.setState({submit:!1,errorMsg:"Credencial inv\xe1lida, tente novamente."}):e.setState({submit:!1,errorMsg:"Ocorreu um erro inesperado."}),t.abrupt("return",!0);case 20:case"end":return t.stop()}}),t,null,[[0,16]])}))))},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.history;try{I.isLoggedIn()&&e.push("/tickets")}catch(t){401===v()(t,"response.status")?(this.setState({submit:!1,errorMsg:"Sess\xe3o expirada."}),I.clear()):this.setState({submit:!1,errorMsg:"Ocorreu um erro inesperado."})}return!0}},{key:"render",value:function(){var e=this,t=this.state,n=t.username,r=t.password,c=t.submit,l=t.errorMsg;return o.a.createElement("div",{style:Ye.container},o.a.createElement("div",{style:Ye.content},l&&o.a.createElement(nt,{message:l,type:"warning",onClose:function(){return e.setState({errorMsg:""})}}),o.a.createElement("img",{src:a(217),width:150,alt:P.appName,style:Ye.logo}),o.a.createElement(He.a,{component:"h1",variant:"h5"},"Portal da empresa"),o.a.createElement("form",{onSubmit:this.onSubmit,style:Ye.form},o.a.createElement(Ve.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Email",type:"text",disabled:c,value:n,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({username:t.target.value.toLowerCase()})}}),o.a.createElement(Ve.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Senha",type:"password",disabled:c,value:r,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({password:t.target.value})}}),o.a.createElement(me.a,{disabled:c,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:Ye.button,type:"submit"},c?"Carregando...":"Entrar")),o.a.createElement("p",null,o.a.createElement(i.b,{to:"/recuperar-senha"},"Esqueci minha senha")),o.a.createElement("p",null,"N\xe3o possui cadastro? ",o.a.createElement(i.b,{to:"/signup"},"Criar conta")),o.a.createElement(rt,null)))}}]),n}(r.PureComponent),ct=a(196),lt=a.n(ct),it={isTablet:function(){return window.innerWidth<1280},isMobile:function(){return window.innerWidth<720}},st={container:{marginTop:it.isMobile()?10:40},contentLeft:{display:"flex",flexDirection:"column",textAlign:"left",alignItems:"flex-end",padding:20,marginRight:it.isMobile()?0:70},contentRight:{display:"flex",flexDirection:"column",textAlign:"left",alignItems:"flex-start",padding:20},form:{maxWidth:410,width:"100%",marginTop:5,padding:0},button:{marginTop:15,height:60,marginBottom:15},logo:{marginBottom:20},gridItem:{paddingTop:0,paddingBottom:0},checkItem:{marginTop:25,display:"flex",flexDirection:"row"},checkIcon:{height:32,width:32,marginRight:10,color:"green"},title:{marginBottom:10},textFieldMarginBottom:{marginBottom:0},errorMessage:{marginTop:-5}},ut=a(25),mt=a(712),dt=a(714),bt={errors:{paddingTop:8}},pt=function(e){var t=e.errors,a=e.variant,n=void 0===a?"outlined":a,r=e.InputLabelProps,c=void 0===r?{shrink:!0}:r,l=e.maskFunction,i=e.value,s=e.onChangeValue,u=void 0===s?function(){}:s,m=e.onChangeText,d=void 0===m?function(){}:m,b=e.margin,p=void 0===b?"normal":b,g=Object(ut.a)(e,["errors","variant","InputLabelProps","maskFunction","value","onChangeValue","onChangeText","margin"]);return g="standard"!==n?Object(f.a)(Object(f.a)({},g),{},{variant:n}):g,o.a.createElement(mt.a,{fullWidth:!0,margin:p,error:!Object(N.isEmpty)(t)},o.a.createElement(Ve.a,Object.assign({error:!Object(N.isEmpty)(t),InputLabelProps:c,value:i,onChange:function(e){var t=e.target.value;if(!l||i&&Object(N.size)(t)<Object(N.size)(i))return u(t),d(t),null;var a=l(t);return u(a),d(a),null}},g)),!Object(N.isEmpty)(t)&&o.a.createElement(dt.a,{style:bt.errors},Object(N.isArray)(t)?t.join(", "):t))},gt=function(e){var t=e.value,a=e.min,n=e.max,r=e.isInteger,c=void 0!==r&&r,l=e.onChangeText,i=e.onChangeValue,s=void 0===i?function(){}:i,u=Object(ut.a)(e,["value","min","max","isInteger","onChangeText","onChangeValue"]);return o.a.createElement(pt,Object.assign({value:t||"",maskFunction:function(e){return function(e){var t=e.oldValue,a=e.newValue,n=e.min,r=e.max,o=e.isInteger;if(null===a)return null;var c=Number.parseFloat(a);if(n&&c<n||r&&c>r)return t;var l=(o?/\d+/:new RegExp("\\d+(?:".concat(",","\\d*)?"))).exec(a);return l?l[0]:l}({oldValue:t,newValue:e,min:a,max:n,isInteger:c})},inputProps:{inputMode:c?"numeric":"decimal"},onChangeValue:function(e){return s(Number.parseFloat(e))},onChangeText:l},u))},ft=a(769),ht=a(770),Et=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{valueText:{paddingLeft:30,paddingRight:30},button:{width:e.spacing(4),minWidth:e.spacing(4)}})}),{withTheme:!0})((function(e){var t=e.value,a=e.onChangeText,n=e.disabled,r=e.min,c=e.max,l=e.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{className:l.button,size:"large",variant:"contained",onClick:function(){var e=Number(t)-1;r&&e<r||a(e)},disabled:n},o.a.createElement(ft.a,null)),o.a.createElement("b",{className:l.valueText},t),o.a.createElement(me.a,{className:l.button,size:"large",variant:"contained",onClick:function(){var e=Number(t)+1;c&&e>c||a(e)},disabled:n},o.a.createElement(ht.a,null)))})),vt=a(82),Ot=function(e){var t=e.value,a=e.placeholder,n=void 0===a?"00000-000":a,r=Object(ut.a)(e,["value","placeholder"]);return o.a.createElement(pt,Object.assign({value:t||"",maxLength:9,maskFunction:function(e){return function(e){if(null==e)return null;var t=/(\d{0,5})-?(\d{0,3})/.exec(e),a=Object(vt.a)(t,3),n=(a[0],a[1]),r=a[2];return""===r?n:"".concat(n,"-").concat(r)}(e)},type:"tel",placeholder:n},r))},jt=/(\d{0,2})(\d{0,5})(\d{0,4})/,Ct=/(\d{0,2})(\d{0,4})(\d{0,4})/,yt=function(e){var t=e.value,a=e.phoneType,n=void 0===a?"cellphone":a,r=e.placeholder,c=void 0===r?"(00) 00000-0000":r,l=Object(ut.a)(e,["value","phoneType","placeholder"]);return o.a.createElement(pt,Object.assign({value:t||"",maxLength:9,maskFunction:function(e){return function(e,t){var a=t.phoneType;if(null==e)return null;var n=e.replace(/\D/g,""),r=("cellphone"===a?jt:Ct).exec(n),o=Object(vt.a)(r,4),c=(o[0],o[1]),l=o[2],i=o[3];return""===c?null:""===i?""===l?"(".concat(c,")"):"(".concat(c,") ").concat(l):"(".concat(c,") ").concat(l,"-").concat(i)}(e,{phoneType:n})},type:"tel",placeholder:c},l))},kt=a(721),At=a(718),wt=a(771),Tt=function(e){var t=e.errors,a=e.variant,n=void 0===a?"outlined":a,r=e.InputLabelProps,c=void 0===r?{shrink:!0}:r,l=e.onChangeValue,i=void 0===l?function(){}:l,s=e.onChangeText,u=void 0===s?function(){}:s,m=e.margin,d=void 0===m?"normal":m,b=e.label,p=e.multiple,g=e.options,h=e.emptyOptionLabel,E=void 0===h?null:h,v=e.readOnly,O=e.optionValueField,j=void 0===O?"value":O,C=e.optionLabelField,y=void 0===C?"label":C,k=Object(ut.a)(e,["errors","variant","InputLabelProps","onChangeValue","onChangeText","margin","label","multiple","options","emptyOptionLabel","readOnly","optionValueField","optionLabelField"]);k="standard"!==n?Object(f.a)(Object(f.a)({},k),{},{variant:n}):k;var A=p?function(e){var t=e.errors,a=e.label,n=e.onChangeValue,r=e.onChangeText,c=e.InputLabelProps,l=e.options,i=e.optionValueField,s=e.optionLabelField,u=e.margin,m=e.variant,d=Object(ut.a)(e,["errors","label","onChangeValue","onChangeText","InputLabelProps","options","optionValueField","optionLabelField","margin","variant"]),b="label-".concat(Math.random());return o.a.createElement(mt.a,{fullWidth:!0,margin:u,variant:m,error:!Object(N.isEmpty)(t)},o.a.createElement(kt.a,Object.assign({shrink:!0,id:b},c),a),o.a.createElement(At.a,Object.assign({label:a,multiple:!0,labelId:b,error:!Object(N.isEmpty)(t),onChange:function(e){var t=e.target.value;n(t),r(t)}},d),l.map((function(e){return o.a.createElement(wt.a,{value:Object(N.get)(e,i),key:Object(N.get)(e,i)},Object(N.get)(e,s))}))),!Object(N.isEmpty)(t)&&o.a.createElement(dt.a,{style:bt.errors},Object(N.isArray)(t)?t.join(", "):t))}(Object(f.a)({errors:t,label:b,onChangeValue:i,onChangeText:u,InputLabelProps:c,options:g,optionValueField:j,optionLabelField:y,margin:d,variant:n},k)):function(e){var t=e.errors,a=e.label,n=e.onChangeValue,r=e.onChangeText,c=e.emptyOptionLabel,l=e.options,i=e.optionValueField,s=e.optionLabelField,u=e.margin,m=Object(ut.a)(e,["errors","label","onChangeValue","onChangeText","emptyOptionLabel","options","optionValueField","optionLabelField","margin"]);return o.a.createElement(pt,Object.assign({select:!0,errors:t,SelectProps:{native:!0},label:a,onChangeValue:n,onChangeText:r,margin:u},m),c?o.a.createElement("option",{value:""},c):"",l.map((function(e){return o.a.createElement("option",{value:Object(N.get)(e,i),key:Object(N.get)(e,i)},Object(N.get)(e,s))})))}(Object(f.a)({errors:t,label:b,onChangeValue:i,onChangeText:u,emptyOptionLabel:E,options:g,optionValueField:j,optionLabelField:y,margin:d},k));return v?o.a.createElement(pt,Object.assign({errors:t},k)):A},xt=a(122),St=a(50),Nt=a(811),Dt=function(e){var t=e.label,a=(e.disabled,e.value),n=e.onChangeValue,r=e.minDate,c=e.errors,l=e.size,i=e.disableFuture,s=e.disablePast,u=e.readOnly,m=e.variant,d=void 0===m?"outlined":m,b=Object(ut.a)(e,["label","disabled","value","onChangeValue","minDate","errors","size","disableFuture","disablePast","readOnly","variant"]);return u?o.a.createElement(pt,Object.assign({disabled:!0,readOnly:!0,label:t,variant:d,size:l},b)):o.a.createElement(mt.a,{fullWidth:!0,margin:"normal",error:!Object(N.isEmpty)(c)},o.a.createElement(St.a,{libInstance:A.a,utils:xt.a,locale:P.locale},o.a.createElement(Nt.a,{label:t,value:a,onChange:n,minDate:r,size:l,autoOk:!0,clearable:!0,animateYearScrolling:!0,invalidDateMessage:"Formato inv\xe1lido",minDateMessage:"",inputVariant:d,InputLabelProps:{shrink:!0},format:"DD/MM/YYYY",cancelLabel:"Cancelar",clearLabel:"Limpar",disableFuture:i,disablePast:s})),!Object(N.isEmpty)(c)&&o.a.createElement(dt.a,{style:bt.errors},Object(N.isArray)(c)?c.join(", "):c))},Mt=a(776),Ft=a(777),It=a(816),Rt=Object(r.memo)((function(e){var t=e.errors,a=e.value,n=void 0===a?[]:a,r=e.onChangeValue,c=void 0===r?function(){}:r,l=e.disabled,i=e.options,s=e.optionValueField,u=void 0===s?"value":s,m=e.optionLabelField,d=void 0===m?"label":m;return o.a.createElement(mt.a,{fullWidth:!0,margin:"normal",error:!Object(N.isEmpty)(t)},o.a.createElement(Mt.a,null,i.map((function(e){var t=Object(N.get)(e,d),a=Object(N.get)(e,u);return o.a.createElement(Ft.a,{key:a,label:t,control:o.a.createElement(It.a,{color:"primary",checked:Object(N.includes)(n,a),disabled:l,onChange:function(e){var t;t=e.target.checked?Object(N.concat)(n,a):Object(N.filter)(n,(function(e){return e!==a})),c(t)}})})}))),!Object(N.isEmpty)(t)&&o.a.createElement(dt.a,{style:bt.errors},Object(N.isArray)(t)?t.join(", "):t))})),Lt=[{label:"Texto curto",key:"TEXT_FIELD"},{label:"Texto longo",key:"TEXT_AREA"},{label:"Sele\xe7\xe3o \xfanica",key:"SELECT"},{label:"M\xfaltipla sele\xe7\xe3o",key:"CHECKBOX"},{label:"Campo de data",key:"DATE_FIELD"},{label:"Anexo",key:"ATTACHMENT"}].slice(0,-2),Bt=["SELECT","CHECKBOX"],Pt={genericUploadsParams:function(){return z.get("/uploads/params")},uploadToApi:function(e){var t=e.file,a=e.progressHandler,n=z.post("/uploads/upload",t.formData,null,{onUploadProgress:function(e){var n=Math.round(100*e.loaded/e.total);a({progressPercent:n<95?n:95,originalFileName:t.name})}}),r=n.then((function(e){var t=e.id,a=e.storage,n=e.metadata;return{id:t,storage:a,metadata:{filename:n.filename,size:n.size,mime_type:n.mime_type},progressPercent:100}}));return r.cancelRequest=n.cancelRequest,r}},_t=function(e){var t,a,n,r=e.file,o=e.progressHandler,c=e.sizeLimit,l=void 0===c?10:c;if(r.metadata.size>1028*l*1028)return Promise.reject(new Error("Tamanho do arquivo ultrapassou o limite de ".concat(l,"mb")));var i=new Promise((function(e,n){t=e,a=n}));i.cancelUpload=function(){i.wasCanceled=!0,n.cancelRequest(),a(new Error("Upload cancelado"))};var s=function(e){i.wasCanceled||o(Object(f.a)(Object(f.a)(Object(f.a)({},r),e),{},{cancelUpload:i.cancelUpload,wasCanceled:i.wasCanceled}))};return s({progressPercent:0}),(n=(0,Pt.uploadToApi)({file:r,progressHandler:s})).then(t).catch(a),i},qt=a(778),zt=Object(r.memo)((function(e){var t=e.accept,a=e.onChange,n=e.buttonProps,r=e.disabled,c=e.size,l=null;return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,Object.assign({color:"primary",variant:"outlined",size:c,onClick:function(){return l&&l.click()},startIcon:o.a.createElement(qt.a,null),disabled:r},n),"Anexar"),o.a.createElement("input",{type:"file",accept:t,style:{display:"none"},ref:function(e){l=e},onChange:function(e){return function(e){var t=Object(N.map)(e,(function(e){var t=function(e){return{metadata:{size:e.size,filename:e.name,mime_type:e.type},originalFileObj:e}}(e),a=new FileReader,n=new FormData;return n.append("file",e),new Promise((function(r){a.onload=function(e){r(Object(N.merge)(t,{url:e.target.result,data:e.target.result,base64Data:e.target.result,formData:n}))},a.readAsDataURL(e)}))}));return Promise.all(t)}(e.target.files).then((function(e){return a(e[0])}))}}))})),Ut=a(779),Wt=a(780),Vt=Object(r.memo)((function(e){var t=e.file,a=e.onRemoveFile,n=e.outterContainerClassName,r=e.disabled,c=e.classes,l=e.size,i=Object(N.get)(t,"progressPercent")<100;return o.a.createElement("div",{className:"".concat(c.outterContainer," ").concat(n)},o.a.createElement(me.a,{variant:"outlined",size:l,onClick:function(){return t.url&&window.open(t.url,"_blank")},disabled:r||i},o.a.createElement("div",null,o.a.createElement("div",{className:c.innerButtonContainer},o.a.createElement(qt.a,null),o.a.createElement("div",null,o.a.createElement("span",{className:c.filename},Object(N.get)(t,"metadata.filename")),o.a.createElement("br",null),o.a.createElement("small",{className:c.sizeText},Math.round(Object(N.get)(t,"metadata.size")/1e3),"KB"))),i&&o.a.createElement(Ut.a,{className:c.progressBar,variant:"determinate",value:t.progressPercent}))),!r&&a&&o.a.createElement(Wt.a,{onClick:function(){return a(t)},className:c.cancelButton}))})),Ht=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{outterContainer:{display:"inline-block",position:"relative"},innerButtonContainer:{display:"flex",textAlign:"left",lineHeight:1},filename:{fontSize:"calc(".concat(e.typography.button.fontSize," * 0.8)")},sizeText:{fontSize:"calc(".concat(e.typography.button.fontSize," * 0.6)")},progressBar:{position:"absolute",left:0,bottom:0,width:"100%"},cancelButton:{position:"absolute",top:-12,right:-12,cursor:"pointer"}})}))(Vt),Yt=Object(Z.b)(r.memo,Object(Z.e)({onFileChange:function(e){var t=e.onChange,a=e.sizeLimit,n=e.onUploadProgress,r=e.onUploadSuccess,o=e.onUploadError;return function(e){_t({file:e,sizeLimit:a,progressHandler:function(a){var r=a.progressPercent,o=a.cancelUpload;if(!(r>=100)){var c=Object(f.a)(Object(f.a)({},e),{},{cancelUpload:o,progressPercent:r});t(c),n&&n(c)}}}).then((function(a){var n=Object(f.a)(Object(f.a)({},e),a);t(n),r&&r(n)})).catch((function(e){t(null),o&&o(e)}))}}}))((function(e){var t=e.value,a=e.onChange,n=e.disabled,r=e.onFileChange,c=e.size,l=e.accept,i=void 0===l?"image/*,.doc,.docx,.xls,.xlsx,.pdf,.xml":l,s=e.buttonProps;return t&&(t.progressPercent||t.id)?o.a.createElement(Ht,{file:t,size:c,onRemoveFile:function(e){e.cancelUpload&&e.progressPercent<100?e.cancelUpload():a(null)},disabled:n}):o.a.createElement(zt,{accept:i,size:c,onChange:r,disabled:n,buttonProps:s})})),Qt=Object(r.memo)((function(e){var t=e.errors,a=e.value,n=void 0===a?[]:a,r=e.onChangeValue,c=void 0===r?function(){}:r,l=e.disabled,i=Object(ut.a)(e,["errors","value","onChangeValue","disabled"]);return o.a.createElement(mt.a,{margin:"normal",error:!Object(N.isEmpty)(t)},o.a.createElement(Yt,Object.assign({value:n,onChange:c,disabled:l},i)),!Object(N.isEmpty)(t)&&o.a.createElement(dt.a,{style:bt.errors},Object(N.isArray)(t)?t.join(", "):t))})),Gt=["TEXT_FIELD","TEXT_AREA","SELECT","CHECKBOX","ATTACHMENT","DATE_FIELD"],Jt={buildTextField:function(e){var t=Object.assign({},e);return o.a.createElement(pt,t)},buildDateField:function(e){var t=e.value,a=Object(ut.a)(e,["value"]);return o.a.createElement(Dt,Object.assign({disablePast:!0,value:Object(N.isEmpty)(t)?null:t},a))},buildTextArea:function(e){var t=Object.assign({},e);return o.a.createElement(pt,Object.assign({multiline:!0,rows:4,rowsMax:4},t))},buildSelect:function(e){var t=e.options,a=Object(ut.a)(e,["options"]);return o.a.createElement(Tt,Object.assign({options:t},a))},buildCheckbox:function(e){var t=Object.assign({},e);return o.a.createElement(Rt,t)},buildAttachment:function(e){var t=Object.assign({},e);return o.a.createElement(Qt,t)}};Jt.buildSelect.propTypes={options:ne.a.array},Jt.buildDateField.propTypes={value:ne.a.any};var Xt={emptyOptionLabel:["Select"],uploadFileFunc:["Attachment"]},Kt=function(e){var t=e.fieldType,a=Object(ut.a)(e,["fieldType"]);if(!Gt.includes(t))throw new Error("Invalid field type: ".concat(t));var n=Object(N.upperFirst)(Object(N.camelCase)(t)),r=function(e,t){return Object(N.omitBy)(t,(function(t,a){return Xt[a]&&!Xt[a].includes(e)}))}(n,a);return Jt["build".concat(n)](r)};Kt.propTypes={fieldType:ne.a.oneOf(Gt)};var Zt=Kt,$t=function(e,t){var a=t.name,n=void 0===a?null:a,c=t.init,l=void 0===c||c,i=t.options,s=void 0===i?function(){return{}}:i,h=t.props,E=void 0===h?function(){return{}}:h;return function(t){return function(a){Object(p.a)(c,a);var r=Object(g.a)(c);function c(){var t;Object(d.a)(this,c);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(t=r.call.apply(r,[this].concat(o))).state={loading:!0,reloadedMsg:"",error:null,data:null},t.loadingProperty=n?"".concat(n,"Loading"):"loading",t.reloadedMsgProperty=n?"".concat(n,"ReloadedMsg"):"reloadedMsg",t.errorProperty=n?"".concat(n,"Error"):"error",t.dataProperty=n?"".concat(n,"Data"):"data",t.clearProperty=n?"".concat(n,"Clear"):"clear",t.fetchProperty=n?"".concat(n,"Fetch"):"fetch",t.resolveOptions=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.props);case 2:return n=e.sent,e.abrupt("return",Object(f.a)(Object(f.a)({},n),a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.loadDataSource=function(){var a=Object(m.a)(u.a.mark((function a(n,r){var o,c,l,i,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.resolveOptions(r);case 2:return o=a.sent,c=v()(o,"variables"),l=v()(o,"onRequestFinished"),i=v()(o,"onRequestError"),s=null,a.prev=7,a.next=10,e(c);case 10:s=a.sent,a.next=31;break;case 13:if(a.prev=13,a.t0=a.catch(7),!I.isUnauthorized(a.t0)){a.next=18;break}return I.clear(),a.abrupt("return",window.location.reload());case 18:if(!i){a.next=30;break}return a.prev=19,a.next=22,i(a.t0);case 22:return a.abrupt("return",n(null,null));case 25:return a.prev=25,a.t1=a.catch(19),a.abrupt("return",n(a.t1,null));case 28:a.next=31;break;case 30:return a.abrupt("return",n(a.t0,null));case 31:if(!l){a.next=34;break}return a.next=34,l(s);case 34:return a.abrupt("return",n(null,s));case 35:case"end":return a.stop()}}),a,null,[[7,13],[19,25]])})));return function(e,t){return a.apply(this,arguments)}}(),t.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(o,c){t.setState({loading:e},(function(){t.loadDataSource((function(e,r){t.setState({data:r,error:e,loading:!1,reloadedMsg:a},(function(){return e?c(e):o(r),n&&n()}))}),r)}))}))},t.clear=function(e){return t.setState({data:null,error:null,loading:!1},e)},t}return Object(b.a)(c,[{key:"componentDidMount",value:function(){l?this.fetch(!0):this.setState({loading:!1,data:{}})}},{key:"render",value:function(){var e,a=(e={},Object(re.a)(e,this.errorProperty,this.state.error),Object(re.a)(e,this.dataProperty,this.state.data),Object(re.a)(e,this.loadingProperty,this.state.loading),Object(re.a)(e,this.reloadedMsgProperty,this.state.reloadedMsg),Object(re.a)(e,this.fetchProperty,this.fetch),Object(re.a)(e,this.clearProperty,this.clear),e),n=Object(f.a)(Object(f.a)(Object(f.a)({},this.props),a),E(Object(f.a)(Object(f.a)({},a),{},{ownProps:this.props})));return o.a.createElement(t,n)}}]),c}(r.PureComponent)}},ea=Object(r.memo)((function(e){var t=e.formData,n=e.setAlert,r=e.alert,c=e.errors,l=e.setFormData,s=e.submitFormDataFetch,u=e.submitFormDataLoading,m=function(e){return l(Object(f.a)(Object(f.a)({},t),e))},d=function(){return s(!0)},b=t.memberName,p=t.memberLastname,g=t.memberEmail,h=t.memberPhone,E=t.companyName,v=t.memberPassword,O=r.showAlert,j=r.alertMsg,C=r.alertType,y=Object(N.includes)(Object(N.values)(t),"")||u;return o.a.createElement("div",{style:st.container},O&&o.a.createElement(nt,{message:j,type:C,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1})}}),o.a.createElement(ue.a,{container:!0,spacing:2},o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement("div",{style:st.contentLeft},o.a.createElement("div",{style:st.form},o.a.createElement(He.a,{component:"h1",variant:"h4"},"Acesse todos servi\xe7os que precisar para seu ambiente de trabalho"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(He.a,{component:"h1",variant:"h6",style:st.checkItem},o.a.createElement(lt.a,{style:st.checkIcon}),"Atendimento dedicado"),o.a.createElement(He.a,{component:"h1",variant:"h6",style:st.checkItem},o.a.createElement(lt.a,{style:st.checkIcon}),"Fornecedores qualificados"),o.a.createElement(He.a,{component:"h1",variant:"h6",style:st.checkItem},o.a.createElement(lt.a,{style:st.checkIcon}),"Ferramentas para facilitar a gest\xe3o"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(He.a,{component:"h1",variant:"h6"},o.a.createElement("strong",null,"\u201cMe surpreendeu de mais o servi\xe7o, super sol\xedcitos com tudo.\u201d - Mariana, BossaBox"))))),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement("div",{style:st.contentRight},o.a.createElement("form",{onSubmit:d,style:st.form},o.a.createElement("img",{src:a(290),width:175,alt:P.appName,style:st.logo}),o.a.createElement(He.a,{component:"h1",variant:"h5",style:st.title},"Crie sua conta gr\xe1tis"),o.a.createElement(ue.a,{container:!0,spacing:2},o.a.createElement(ue.a,{item:!0,xs:12,md:6,style:st.gridItem},o.a.createElement(pt,{label:"Seu nome*",disabled:u,errors:Object(N.get)(c,"member_name"),value:b,onChange:function(e){return m({memberName:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:12,md:6,style:st.gridItem},o.a.createElement(pt,{label:"Sobrenome*",disabled:u,errors:Object(N.get)(c,"member_lastname"),value:p,onChange:function(e){return m({memberLastname:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:12,style:st.gridItem},o.a.createElement(pt,{label:"Email do trabalho*",disabled:u,errors:Object(N.get)(c,"member_email"),value:g,onChange:function(e){return m({memberEmail:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:12,style:st.gridItem},o.a.createElement(pt,{label:"Telefone com DDD*",placeholder:"Somente n\xfameros, ex: 11988884444",type:"tel",disabled:u,errors:Object(N.get)(c,"member_phone"),value:h,onChange:function(e){var t=(e.target.value||"").replace(/[\D]+/g,"").slice(0,15);m({memberPhone:t})}})),o.a.createElement(ue.a,{item:!0,xs:12,style:st.gridItem},o.a.createElement(pt,{label:"Nome da empresa*",disabled:u,errors:Object(N.get)(c,"company_name"),value:E,onChange:function(e){return m({companyName:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:12,style:st.gridItem},o.a.createElement(pt,{label:"Definir senha*",placeholder:"Informe 6 ou mais d\xedgitos",style:st.textFieldMarginBottom,errors:Object(N.get)(c,"member_password"),disabled:u,value:v,type:"password",onChange:function(e){return m({memberPassword:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(me.a,{disabled:y,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:st.button,onClick:d},u?o.a.createElement(se.a,{color:"primary",variant:"indeterminate",disableShrink:!0,thickness:5}):"CRIAR CONTA")))),o.a.createElement("span",null,"J\xe1 possui conta? ",o.a.createElement(i.b,{to:"/"},"Fazer login")),o.a.createElement(rt,null)))))})),ta=$t(Qe.postSignup,{name:"submitFormData",init:!1,options:function(e){var t=e.formData,a=e.setAlert,n=e.history,r=e.setErrors;return{variables:Object(f.a)({},t),onRequestFinished:function(){var e=Object(m.a)(u.a.mark((function e(){var r,o,c,l,i,s,m,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.memberEmail,o=t.memberPassword,c=t.memberName,l=t.memberLastname,i={email:r,name:c,lastname:l},Q.hit("Signup - SubmitSuccess",i),a({alertMsg:"Conta criada com sucesso, bem-vindo a Lobby!",alertType:"success",showAlert:!0}),e.next=6,Qe.postSignin(r,o);case 6:return s=e.sent,m=s.token,e.next=10,I.setUserToken(m);case 10:return e.next=12,U.getViewer();case 12:d=e.sent,I.setUserData(Object(N.get)(d,"member")),setTimeout((function(){return n.push("/servicos")}),100);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){var n=t.memberEmail,o=t.memberName,c=t.memberLastname,l=Object(N.mapValues)(Object(N.get)(e,"errors",{}),(function(e){return Object(N.first)(e)})),i={email:n,name:o,lastname:c,errors:l};Q.hit("Signup - SubmitError",i),r(l),a({alertMsg:"Erro ao realizar cadastro",alertType:"error",showAlert:!0})}}}}),aa=Object(Z.b)(r.memo,h.g,Object(Z.h)("formData","setFormData",{memberName:"",memberLastname:"",memberEmail:"",memberPhone:"",memberPassword:"",companyName:""}),Object(Z.h)("errors","setErrors",{}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),ta)(ea),na=a(45),ra=a.n(na),oa={verifyIfCanResetPassword:function(e,t){var a={id:e,code:t};return z.post("/password/verify",a)},changePassword:function(e,t,a){var n={id:e,code:t,password:a};return z.put("/password/change",n)},resetPassword:function(e){var t={email:e};return z.post("/password/reset",t)}},ca={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},content:{display:"flex",flexDirection:"column",width:350,marginTop:40,alignItems:"center",justifyContent:"center",textAlign:"center",paddingLeft:5,paddingRight:5},form:{width:"100%",marginTop:5},button:{marginTop:15,height:60},logo:{marginBottom:30}},la=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={memberId:"",recoveryCode:"",password:"",confirmPassword:"",msg:"",msgType:"",hideForm:!0,loading:!0,submit:!1,email:""},e.onSubmit=function(t){t.preventDefault();var a=e.props.history,n=e.state,r=n.confirmPassword,o=n.password,c=n.memberId,l=n.recoveryCode;e.setState({submit:!0},Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!r||!o||r!==o){t.next=9;break}if(!(ra()(o)>=6)){t.next=7;break}return t.next=5,oa.changePassword(c,l,o);case 5:return e.setState({msg:"Senha atualizada, redirecionando para tela de login...",msgType:"success",memberId:"",recoveryCode:"",confirmPassword:"",password:""},(function(){I.clear(),setTimeout((function(){a.replace("/")}),2e3)})),t.abrupt("return",!0);case 7:return e.sendAlert("Informe uma senha com m\xednimo de ".concat(6," caracteres."),"warning"),t.abrupt("return",!0);case 9:e.sendAlert("As senhas est\xe3o em branco ou diferentes.","warning"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.sendAlert("N\xe3o foi poss\xedvel alterar senha.","warning");case 15:return t.abrupt("return",!0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])}))))},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.history,n=t.location;this.setState({submit:!0,loading:!0,memberId:"",recoveryCode:""},Object(m.a)(u.a.mark((function t(){var r,o,c,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=new URLSearchParams(n.search),o=r.get("id"),c=r.get("code"),l=r.get("email"),!o||!c){t.next=10;break}return t.next=8,oa.verifyIfCanResetPassword(o,c);case 8:return e.setState({submit:!1,loading:!1,hideForm:!1,memberId:o,recoveryCode:c,email:l}),t.abrupt("return",!0);case 10:throw new Error("Invalid URL query");case 13:t.prev=13,t.t0=t.catch(0),a.replace("/recuperar-senha");case 16:return t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])}))))}},{key:"sendAlert",value:function(e,t){this.setState({submit:!1,msg:e,msgType:t})}},{key:"clearAlert",value:function(){this.setState({submit:!1,msg:"",msgType:""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.confirmPassword,c=t.password,l=t.submit,s=t.loading,u=t.hideForm,m=t.msg,d=t.msgType;return o.a.createElement("div",{style:ca.container},o.a.createElement("div",{style:ca.content},m&&d&&o.a.createElement(nt,{message:m,type:d,onClose:function(){return e.clearAlert}}),s?o.a.createElement(pe,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:a(217),width:150,alt:P.appName,style:ca.logo}),o.a.createElement(He.a,{component:"h1",variant:"h5"},u?"Link inv\xe1lido para definir senha":"Definir senha"),o.a.createElement(Ve.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Email",disabled:!0,value:n,InputLabelProps:{shrink:!0}}),!u&&o.a.createElement("form",{onSubmit:this.onSubmit,style:ca.form},o.a.createElement(Ve.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Senha",type:"password",disabled:l,value:c,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({password:t.target.value})}}),o.a.createElement(Ve.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Confirmar senha",type:"password",disabled:l,value:r,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({confirmPassword:t.target.value})}}),o.a.createElement(me.a,{disabled:l,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:ca.button,type:"submit"},l?"Carregando...":"Entrar"))),o.a.createElement("p",null,o.a.createElement(i.b,{to:"/"},"Voltar para home")),o.a.createElement(rt,null)))}}]),n}(r.PureComponent),ia={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},content:{display:"flex",flexDirection:"column",width:350,marginTop:40,alignItems:"center",justifyContent:"center",textAlign:"center",paddingLeft:5,paddingRight:5},form:{width:"100%",marginTop:5},button:{marginTop:15,height:60},logo:{marginBottom:30}},sa=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",msg:"",msgType:"",submit:!1},e.onSubmit=function(t){t.preventDefault();var a=e.state.email;e.setState({submit:!0},Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!a){t.next=6;break}return t.next=4,oa.resetPassword(a);case 4:return e.setState({submit:!1,email:"",msgType:"success",msg:"Enviamos para seu email um link de recupera\xe7\xe3o de senha."}),t.abrupt("return",!0);case 6:throw new Error("Blank fields");case 9:return t.prev=9,t.t0=t.catch(0),e.setState({submit:!1,msg:"Email inv\xe1lido ou inexistente.",msgType:"warning"}),t.abrupt("return",!0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))))},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.submit,c=t.msg,l=t.msgType;return o.a.createElement("div",{style:ia.container},o.a.createElement("div",{style:ia.content},c&&o.a.createElement(nt,{message:c,type:l,onClose:function(){return e.setState({msg:"",msgType:""})}}),o.a.createElement("img",{src:a(217),width:150,alt:P.appName,style:ia.logo}),o.a.createElement(He.a,{component:"h1",variant:"h5"},"Informe o seu email e receba instru\xe7\xf5es para criar nova senha"),o.a.createElement("form",{onSubmit:this.onSubmit,style:ia.form},o.a.createElement(Ve.a,{variant:"outlined",margin:"normal",fullWidth:!0,placeholder:"Seu email de acesso",label:"Email",type:"email",disabled:r,value:n,InputLabelProps:{shrink:!0},onChange:function(t){return e.setState({email:t.target.value.toLowerCase()})}}),o.a.createElement(me.a,{disabled:r,fullWidth:!0,variant:"contained",color:"primary",size:"large",style:ia.button,type:"submit"},r?"Carregando...":"Enviar")),o.a.createElement("p",null,o.a.createElement(i.b,{to:"/"},"Voltar para home")),o.a.createElement(rt,null)))}}]),n}(r.PureComponent),ua=a(363),ma=a.n(ua),da=a(146),ba=a.n(da),pa=a(364),ga=a.n(pa),fa=a(787),ha=a(788),Ea=a(789),va=a(790),Oa=a(710),ja=a(791),Ca=a(31),ya=a(786),ka=a(785),Aa=a(822),wa=a(123),Ta=a.n(wa),xa=a(781),Sa=a(194),Na=a(782),Da=a(192),Ma=a(783),Fa=a(784),Ia={width:32,height:32,minWidth:32,minHeight:32},Ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"a",t={a:"gold",b:"gold",c:"gold",d:"purple",e:"purple",f:"purple",g:"black",h:"black",i:"black",j:"blue",k:"blue",l:"blue",m:"green",n:"green",o:"green",p:"brown",q:"brown",r:"brown",s:"pink",t:"pink",u:"pink",v:"red",w:"red",y:"red",x:"lime",z:"lime"};return t[e.toLowerCase()]},La=Object(r.memo)((function(e){var t=e.classes,a=e.name,n=e.photoUrl,r=Ta()(a)||"";return o.a.createElement(ka.a,{title:a,arrow:!0,placement:"bottom"},o.a.createElement(Aa.a,{alt:a,src:n,className:t[Ra(r)]},r.toUpperCase()))})),Ba=Object($.a)((function(e){return{black:Object(f.a)({color:"white",backgroundColor:"black"},Ia),purple:Object(f.a)({color:e.palette.getContrastText(xa.a[500]),backgroundColor:xa.a[500]},Ia),red:Object(f.a)({color:"white",backgroundColor:fe.a[300]},Ia),green:Object(f.a)({color:e.palette.getContrastText($e.a[800]),backgroundColor:$e.a[800]},Ia),blue:Object(f.a)({color:e.palette.getContrastText(Sa.a[800]),backgroundColor:Sa.a[800]},Ia),brown:Object(f.a)({color:e.palette.getContrastText(Na.a[500]),backgroundColor:Na.a[500]},Ia),pink:Object(f.a)({color:e.palette.getContrastText(Da.a[500]),backgroundColor:Da.a[500]},Ia),gold:Object(f.a)({color:"white",backgroundColor:Ma.a[900]},Ia),lime:Object(f.a)({color:"white",backgroundColor:Fa.a[800]},Ia)}}),{withTheme:!0})(La),Pa=[{label:"Colaborador",value:"MEMBER"},{label:"Gestor do escrit\xf3rio",value:"AGENT"},{label:"Administrador da conta",value:"ADMIN"}],_a=["ADMIN"],qa=["AGENT","ADMIN"],za=function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{slackBox:{paddingTop:60,paddingBottom:50},slackIntegration:{marginLeft:25},floatButton:{marginBottom:5,marginLeft:10},tableCheckBox:{width:10,paddingTop:20,paddingBottom:0,margin:0,border:0,paddingLeft:0},tableUser:{paddingTop:20,paddingBottom:10,marginLeft:0,paddingLeft:0},tableInvite:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",padding:0,paddingTop:20,paddingBottom:0,margin:0,border:0},selectFilter:{width:180,minWidth:80},formControl:{margin:10},profileMenuContainer:{display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%"},userName:{marginLeft:15}})},Ua=Object(r.memo)((function(e){var t=e.users,a=e.classes,n=e.onRevoke,r=e.isRevokeDisabled,c=e.locations,l=e.companyName,i=e.checkedAll,s=e.setCheckedAll,u=e.selectedLocations,m=e.setSelectedLocations,d=e.canDisconnect,b=e.selectedRole,p=e.setSelectedRole,g=e.isInviteDisabled,f=e.onShowMore,h=e.setDisableShowMore,E=e.selectedUsers,O=e.setSelectedUsers,j=e.onInvite,C=e.nextCursor,y=e.disableShowMore,k=function(e){var t=e.target,a=t.checked,n=t.value;O(a?E.concat(n):E.filter((function(e){return e!==n})))},A=Object(Ca.a)(),w=Object(ya.a)(A.breakpoints.down("xs")),T=ra()(b)&&ra()(u)&&ra()(E),x=g||!T;return o.a.createElement("section",null,o.a.createElement("div",{className:a.container},o.a.createElement("div",{className:a.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Slack conectado: ".concat(l)))),o.a.createElement("aside",null,d&&o.a.createElement(me.a,{onClick:n,color:"default",variant:"outlined",className:a.floatButton,disabled:r},"Desconectar Slack")))),o.a.createElement("div",{className:a.container},o.a.createElement(fa.a,{size:w?"small":"medium"},o.a.createElement(ha.a,null,o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:a.tableCheckBox},o.a.createElement(It.a,{checked:i,onChange:function(e){var a=e.target.checked;s(a),O(a?t.map((function(e){return JSON.stringify(e)})):[])},disabled:g,color:"primary"})),o.a.createElement(va.a,{className:a.tableUser},!w&&o.a.createElement("b",null,"USU\xc1RIOS (".concat(ra()(E),")"))),o.a.createElement(va.a,{className:a.tableInvite,colSpan:w?2:1},o.a.createElement(mt.a,{className:a.formControl},o.a.createElement(At.a,{displayEmpty:!0,className:a.selectFilter,input:o.a.createElement(Oa.a,null),value:b,onChange:function(e){p(e.target.value)},disabled:g,variant:"outlined"},o.a.createElement(wt.a,{value:"",disabled:!0},"Permiss\xe3o"),Pa.map((function(e){return o.a.createElement(wt.a,{key:e.value,value:e.value},e.label)})))),o.a.createElement(mt.a,{className:a.formControl},o.a.createElement(At.a,{multiple:!0,displayEmpty:!0,className:a.selectFilter,input:o.a.createElement(Oa.a,null),value:u,onChange:function(e){m(e.target.value)},disabled:g,variant:"outlined",renderValue:function(e){var t=ra()(e);return t?"".concat(t," ").concat(t>1?"locais":"local"):"Local"}},c.map((function(e){return o.a.createElement(wt.a,{key:e.id,value:e.id},e.name)})))),o.a.createElement(mt.a,{className:a.formControl},o.a.createElement(me.a,{color:"primary",size:"medium",variant:"contained",className:a.floatButton,disabled:x,onClick:function(){try{var e={role:b,locationIds:u,slackUsers:E.map((function(e){return JSON.parse(e)}))};j(e)}catch(t){O([]),m([]),p("")}}},"Convidar"))))),ra()(t)?o.a.createElement(ja.a,null,t.map((function(e){var t=JSON.stringify(e);return o.a.createElement(Ea.a,{key:e.email},o.a.createElement(va.a,{className:a.tableCheckBox},o.a.createElement(It.a,{checked:E.includes(t),onChange:k,disabled:g,value:t,color:"primary"})),o.a.createElement(va.a,{colSpan:2,className:a.tableUser},o.a.createElement("div",{className:a.profileMenuContainer},o.a.createElement(Ba,{name:v()(e,"name"),photoUrl:v()(e,"photo_url","")}),o.a.createElement("span",{className:a.userName},o.a.createElement("b",null,v()(e,"name")),o.a.createElement("br",null),o.a.createElement(He.a,{variant:"body2",color:"textSecondary",component:"small"},v()(e,"email"))))))})),C?o.a.createElement(Ea.a,null,o.a.createElement(va.a,{colSpan:3,className:a.textCenter},o.a.createElement(me.a,{color:"primary",size:"medium",variant:"contained",disabled:y,onClick:function(){h(!0),f()}},"Ver mais usu\xe1rios"))):null):null)))})),Wa=Object(Z.b)(Object($.a)(za,{withTheme:!0}),Object(Z.h)("checkedAll","setCheckedAll",!0),Object(Z.h)("selectedLocations","setSelectedLocations",[]),Object(Z.h)("selectedUsers","setSelectedUsers",[]),Object(Z.h)("selectedRole","setSelectedRole",""),Object(Z.h)("disableShowMore","setDisableShowMore",!1),Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.users;(0,e.setSelectedUsers)(t.map((function(e){return JSON.stringify(e)})))}}),Object(Z.g)(["users"],(function(e){var t=e.users,a=e.setDisableShowMore,n=e.setCheckedAll,r=e.setSelectedUsers;a(!1),n(!0),r(t.map((function(e){return JSON.stringify(e)})))})))(Ua),Va=a(198),Ha=Object(r.memo)((function(e){var t=e.classes,n=e.onInstallLobby,r=e.onAuthUser,c=e.onRevoke,l=e.isDisabled,i=I.getUserData(),s=v()(i,"slack_user_id"),u=v()(i,"company.slack_team_id");return o.a.createElement("div",{className:t.container},o.a.createElement(Va.a,{className:t.paper},o.a.createElement("section",{className:t.slackBox},o.a.createElement("div",{className:t.textCenter},o.a.createElement("img",{src:a(567),alt:"Integra\xe7\xe3o Lobby com Slack",className:t.slackIntegration}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(He.a,{variant:"h6",component:"strong"},o.a.createElement("b",null,"Crie tickets atrav\xe9s do Slack")),o.a.createElement("br",null),o.a.createElement(He.a,{variant:"body2",color:"textSecondary"},o.a.createElement("b",null,"Leva menos de um minuto"))),o.a.createElement("br",null),o.a.createElement("div",{className:t.textCenter},o.a.createElement(He.a,{variant:"subtitle2"},"Colaboradores poder\xe3o criar tickets",o.a.createElement("br",null),"via atalho Lobby ou comando",o.a.createElement("b",null," /lobby "),"no Slack"),o.a.createElement("br",null),u?s?o.a.createElement(me.a,{onClick:c,size:"large",color:"default",variant:"outlined",disabled:l},"Desconectar Slack"):o.a.createElement(me.a,{onClick:r,size:"large",color:"primary",variant:"contained",disabled:l},"Integrar Slack"):o.a.createElement(me.a,{onClick:n,size:"large",color:"primary",variant:"contained",disabled:l},"Instalar Lobby no Slack")))))})),Ya=Object(Z.b)(Object($.a)(za,{withTheme:!0}))(Ha),Qa=a(366),Ga=a.n(Qa),Ja=a(823),Xa=a(768),Ka=a(817),Za=a(391),$a=a(372),en=a.n($a),tn=a(371),an=a.n(tn),nn=a(367),rn=a.n(nn),on=a(715),cn=a(792),ln=a(793),sn=a(794),un=a(368),mn=a.n(un),dn=a(369),bn=a.n(dn),pn=a(370),gn=a.n(pn),fn=a(795),hn=Object.values(ze).filter((function(e){return!e.hideMenu&&!e.settingsMenu})),En=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={userDataError:!1,sideMenuOpen:!1,profileMenuAnchor:null,showHelp:!1},e.onOpenHelp=function(){e.setState({profileMenuAnchor:null},(function(){return window.open(P.whatsappHelp,"_blank")}))},e.onLogout=function(){e.setState({profileMenuAnchor:null},(function(){if(window.confirm("Voc\xea deseja sair?")){var t=e.props.history;Q.hit("Logout"),I.clear(),t.push("/")}}))},e.onSettings=function(){var t=I.getUserData(),a="ADMIN"===v()(t,"role","MEMBER");e.setState({profileMenuAnchor:null},(function(){var t=e.props.history;Q.hit("Settings"),t.push("/configuracoes/".concat(a?"usuarios":"meu-perfil"))}))},e.onToggleSideMenu=function(){var t=e.state.sideMenuOpen;e.setState({sideMenuOpen:!t})},e.onChangePage=function(t,a){e.props.history.push(hn[a].path)},e.onToggleProfileMenu=function(t){return e.setState({profileMenuAnchor:t.currentTarget})},e.prepareUser=function(){var e=I.getUserData();return{name:v()(e,"fullname",""),email:v()(e,"email","")}},e.prepareMenu=function(e){var t=I.getUserData(),a="MEMBER"!==v()(t,"role","MEMBER");return e.filter((function(e){return!(!a&&e.path.includes("/servicos"))&&!(!a&&e.path.includes("/meus-pedidos"))}))},e.renderAlerts=function(){var t=e.props,a=t.alertBox,n=t.error,r=e.state.userDataError;return a||(n||r?o.a.createElement(nt,{type:"error",message:"Erro ao carregar dados do servidor",actionButton:o.a.createElement("b",null,"Recarregar"),onClickAction:function(){return window.location.reload()}}):null)},e}return Object(b.a)(n,[{key:"renderSideMenuList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.props,n=a.classes,r=a.history,c=this.prepareMenu(e);return ra()(c)?o.a.createElement(Xa.a,{component:"nav",subheader:o.a.createElement(cn.a,{component:"div"},o.a.createElement(He.a,{variant:"body2",color:"textSecondary",component:"small"},o.a.createElement("strong",{className:n.listItemHeaderText},t)))},c.map((function(e,t){var a=Object.values(e.submenus||{}),c=Boolean(ra()(a)),l={};return c||(l={component:i.b,to:e.path.replace(/:[\w*]+/g,""),selected:r.location.pathname.includes(e.path)||e.path.includes(r.location.pathname)}),o.a.createElement("div",{key:t.toString()},o.a.createElement(on.a,Object.assign({button:!c,key:e.path},l),e.icon&&o.a.createElement(ln.a,{className:n.listItemIcon},e.icon),o.a.createElement(sn.a,{className:n.listItemText,disableTypography:!0,primary:o.a.createElement(fn.a,{badgeContent:e.badge,color:"primary",invisible:!e.badge,classes:{badge:n.badge}},e.label)})),c&&o.a.createElement(Xa.a,{className:n.submenuList},a.map((function(t){var a="".concat(e.path).concat(t.path);return o.a.createElement(on.a,{button:!0,className:n.submenuItem,key:a,component:i.b,to:a.replace(/:[\w*]+/g,""),selected:a===r.location.pathname},t.icon&&o.a.createElement(ln.a,{className:n.listItemIcon},t.icon),o.a.createElement(sn.a,{className:n.listItemText,disableTypography:!0,primary:t.label}))}))))}))):null}},{key:"renderUserProfile",value:function(){var e=this,t=this.props.classes,a=this.state.profileMenuAnchor,n=I.getUserData(),r=v()(n,"fullname",""),c=v()(n,"photo_url","");return o.a.createElement(Xa.a,{component:"nav",className:t.userProfileList},o.a.createElement(on.a,{alignItems:"flex-start"},o.a.createElement("div",{className:t.profileMenuContainer},o.a.createElement(Ba,{name:r,photoUrl:c}),o.a.createElement("span",{className:t.userName,onClick:this.onToggleProfileMenu},r),o.a.createElement(Ze.a,{size:"medium",onClick:this.onToggleProfileMenu},o.a.createElement(rn.a,null)),o.a.createElement(Za.a,{keepMounted:!0,anchorEl:a,open:Boolean(a),onClose:function(){return e.setState({profileMenuAnchor:null})},transformOrigin:{vertical:"bottom",horizontal:"right"}},o.a.createElement(wt.a,{onClick:this.onSettings},o.a.createElement(ln.a,null,o.a.createElement(mn.a,{fontSize:"small"})),o.a.createElement(sn.a,{className:t.listItemText,primary:"Configura\xe7\xf5es"})),o.a.createElement(wt.a,{onClick:this.onOpenHelp},o.a.createElement(ln.a,null,o.a.createElement(bn.a,{fontSize:"small"})),o.a.createElement(sn.a,{className:t.listItemText,primary:"Ajuda"})),o.a.createElement(wt.a,{onClick:this.onLogout},o.a.createElement(ln.a,null,o.a.createElement(gn.a,{fontSize:"small"})),o.a.createElement(sn.a,{className:t.listItemText,primary:"Sair"}))))))}},{key:"renderSideMenu",value:function(e){var t=this.props.classes,n=this.state.sideMenuOpen;return o.a.createElement(Ja.a,{classes:{paper:t.drawer},variant:e?"persistent":"permanent",anchor:"left",open:n,ModalProps:{keepMounted:!e}},o.a.createElement("div",{className:t.headerLogoContainer},e&&o.a.createElement("div",{className:t.closeMenuIcon},o.a.createElement(Ze.a,{size:"medium",onClick:this.onToggleSideMenu},o.a.createElement(an.a,null))),o.a.createElement("div",{className:t.logoContainer},o.a.createElement(i.b,{to:"/"},o.a.createElement("img",{src:a(290),alt:P.appName,className:t.logo})))),this.renderSideMenuList(hn),this.renderUserProfile())}},{key:"render",value:function(){var e=this.props.classes,t=this.state.showHelp;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:e.root},o.a.createElement(Ze.a,{"aria-label":"open drawer",onClick:this.onToggleSideMenu,edge:"start"},o.a.createElement(en.a,null)),o.a.createElement(Ka.a,{smDown:!0},this.renderSideMenu(!1)),o.a.createElement(Ka.a,{mdUp:!0},this.renderSideMenu(!0)),this.renderAlerts(),P.isProduction&&t&&o.a.createElement(Ga.a,{license:P.livechatId,visitor:this.prepareUser()})))}}]),n}(r.PureComponent),vn=Object(Z.b)(Object($.a)((function(e){var t;return{root:Object(re.a)({marginBottom:0},e.breakpoints.up("md"),{marginBottom:"-27px"}),drawer:(t={},Object(re.a)(t,e.breakpoints.up("md"),{width:e.menuWidth,flexShrink:0}),Object(re.a)(t,"border","none"),Object(re.a)(t,"background","#FAFAFA"),Object(re.a)(t,"color","#313131"),t),appBar:{backgroundColor:"#FAFAFA",width:"calc(100%-".concat(e.menuWidth,"px)"),borderBottom:"1px solid rgba(0, 0, 0, 0.12)",boxShadow:"none"},userProfileList:{position:"absolute",bottom:5,left:0},profileMenuContainer:{display:"flex",alignItems:"center",width:"100%"},userName:{color:"#313131",fontSize:14,cursor:"pointer",marginLeft:10},towerSelect:{width:200,color:"#313131",borderColor:"#FAFAFA",backgroundColor:"#FAFAFA",marginTop:10},logoutButton:{color:"red",fontSize:16,fontWeight:"bold",textTransform:"none"},headerLogoContainer:{width:"100%",display:"flex",paddingTop:5,paddingBottom:2,paddingRight:20},logoContainer:Object(re.a)({marginLeft:0,color:"#313131",paddingTop:5},e.breakpoints.up("md"),{paddingTop:9,paddingBottom:4,marginLeft:15}),closeMenuIcon:{display:"inline-block",color:"#313131",marginLeft:0},logo:{width:105,height:39},checkIcon:{marginRight:10},listItemIcon:{color:"#313131",fontSize:12,width:16,height:16},listItemText:{marginLeft:-25,fontSize:12,color:"#313131"},listItemLink:{fontSize:12,color:"#313131"},listItemHeaderText:{fontSize:12},submenuList:{marginBottom:-8,marginTop:-8},submenuItem:{paddingLeft:75},badge:{right:-25,top:7,fontSize:12,backgroundColor:"#aef7ea",color:"#22007f"}}}),{withTheme:!0}),h.g)(En),On=a(814),jn=a(796),Cn=a(373),yn=a.n(Cn),kn=["TicketCategories","TicketTags","Locations","Members","Invoices","MyPlan"],An=["TicketCategories","Locations","Slack"],wn=["TicketCategories","TicketTags","Locations","Members","Invoices","MyPlan","Slack"],Tn=Object(r.memo)((function(e){var t=e.history,a=e.classes,n=function(){var e=Object.values(ze).filter((function(e){return!e.hideMenu&&e.settingsMenu})),t=I.getUserData(),a="MEMBER"===v()(t,"role","MEMBER"),n=v()(t,"company.has_ticket_support",!1);return a&&(e=e.filter((function(e){return!kn.includes(e.trackPage)}))),"AGENT"===t.role&&(e=e.filter((function(e){return!wn.includes(e.trackPage)}))),n||(e=e.filter((function(e){return!An.includes(e.trackPage)}))),e}();return o.a.createElement(Va.a,{square:!0,className:a.root},o.a.createElement(On.a,{value:yn()(n,(function(e){return t.location.pathname===e.path})),indicatorColor:"primary",textColor:"primary",scrollButtons:"auto",variant:"scrollable",onChange:function(e,a){return t.push(n[a].path)}},n.map((function(e,t){return o.a.createElement(jn.a,{key:e.path,label:e.label,index:t})}))))})),xn=Object(Z.b)(Object($.a)((function(e){return{root:Object(re.a)({marginTop:25},e.breakpoints.up("md"),{marginTop:35})}}),{withTheme:!0}),h.g)(Tn),Sn=a(374),Nn=a.n(Sn),Dn={inviteUsers:function(e){var t=e.role,a=e.locationIds,n=e.slackUsers,r={role:t,location_ids:a,slack_users:j()(n,(function(e){var t=v()(e,"name","").trim().split(" ");return{name:Ta()(t),lastname:Nn()(t,1).join(" "),email:v()(e,"email")}}))};return z.post("/slack/invite",r)},listUsers:function(e){var t=e.canInvite,a=e.nextCursor;return t?z.get("/slack/users",{cursor:a}):null}},Mn={ok:"Conta Slack integrada com sucesso",not_authorized:"N\xe3o foi poss\xedvel integrar sua conta Slack",wrong_member:"\xc9 necess\xe1rio logar no Slack com mesmo email de login Lobby"},Fn=Object(r.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.revokeSlackFetch,c=e.revokeSlackLoading,l=e.canInvite,i=e.slackUsers,s=e.slackUsersFetch,u=e.slackUsersLoading,m=e.inviteSlackUsersFetch,d=e.inviteSlackUsersLoading,b=e.nextCursor,p=a.showAlert,g=a.alertMsg,f=a.alertType,h=null;p&&(h=o.a.createElement(nt,{message:g,type:f,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1})}}));var E=I.getUserData(),O=v()(E,"company.name"),j=v()(E,"company.slack_team_id"),C=v()(E,"slack_user_id"),y=ba()(v()(E,"locations",[]),["name"]),k=function(){window.confirm("Tem certeza em realizar essa a\xe7\xe3o?")&&(Q.hit("SlackIntegration - RevokeUser"),r(!0))};return o.a.createElement("div",{className:t.root},o.a.createElement(vn,{alertBox:h}),o.a.createElement("section",null,o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:t.container},o.a.createElement(xn,null)),o.a.createElement("br",null),u?o.a.createElement(pe,null):l&&ra()(i)?o.a.createElement(Wa,{users:i,onRevoke:k,onInvite:function(e){m(!0,"",null,{variables:e})},onShowMore:function(){return s(!1)},isRevokeDisabled:c,isInviteDisabled:d,canDisconnect:Boolean(C),nextCursor:b,locations:y,companyName:O}):o.a.createElement(Ya,{onAuthUser:function(){Q.hit("SlackIntegration - AuthUser");var e="".concat(P.slackOAuthURL,"?scope=").concat(P.slackOAuthScope,"&team=").concat(j);e+="&client_id=".concat(P.slackClientId,"&user_scope=").concat(P.slackOAuthUserScope),e+="&redirect_uri=".concat(P.slackRedirectURL),window.location.href=e},onInstallLobby:function(){Q.hit("SlackIntegration - InstallLobby");var e="".concat(P.slackOAuthURL,"?scope=").concat(P.slackOAuthScope);e+="&client_id=".concat(P.slackClientId,"&user_scope=").concat(P.slackOAuthUserScope),e+="&redirect_uri=".concat(P.slackRedirectURL),window.location.href=e},onRevoke:k,isDisabled:c})))})),In=$t(U.revokeSlackUser,{name:"revokeSlack",init:!1,options:function(e){var t=e.setAlert;return{onRequestFinished:function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({alertMsg:"A conta Slack foi desconectada",alertType:"success",showAlert:!0}),a=I.getUserData(),ma()(a,"slack_user_id",null),I.setUserData(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(){t({alertMsg:"Erro ao desconectar conta Slack",alertType:"error",showAlert:!0})}}}}),Rn=$t(Dn.listUsers,{name:"slackUsers",options:function(e){var t=e.setAlert,a=e.slackUsers,n=e.setSlackUsers,r=e.setNextCursor,o=e.nextCursor;return{variables:{canInvite:e.canInvite,nextCursor:o},onRequestFinished:function(e){var t=a.concat(v()(e,"users",[]));n(ba()(ga()(t,"email"),["name"])),r(v()(e,"next_cursor",""))},onRequestError:function(){t({alertMsg:"Erro ao carregar lista de usu\xe1rios slack",alertType:"error",showAlert:!0})}}}}),Ln=$t(Dn.inviteUsers,{name:"inviteSlackUsers",init:!1,options:function(e){var t=e.setAlert,a=e.slackUsersFetch;return{onRequestFinished:function(){t({alertMsg:"Convite enviado com sucesso",alertType:"success",showAlert:!0}),a(!0)},onRequestError:function(){t({alertMsg:"Erro ao carregar convidar usu\xe1rios slack",alertType:"error",showAlert:!0})}}}}),Bn=Object(Z.b)(h.g,Object($.a)(za,{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("canInvite","setCanInvite",!1),Object(Z.h)("slackUsers","setSlackUsers",[]),Object(Z.h)("nextCursor","setNextCursor",""),In,Rn,Ln,Object(Z.c)({componentDidMount:function(){var e=this;return Object(m.a)(u.a.mark((function t(){var a,n,r,o,c,l,i,s,m,d,b;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.location,r=a.setAlert,o=a.setCanInvite,c=new URLSearchParams(n.search),l=c.get("status"),i=I.getUserData(),s=v()(i,"role"),m=v()(i,"company.slack_team_id"),d=v()(i,"slack_user_id"),b=_a.includes(s)&&m&&d,o(Boolean(b)),l&&(r({alertMsg:Mn[l],alertType:"ok"===l?"success":"error",showAlert:!0}),window.history.pushState("","","/#/configuracoes/slack"));case 10:case"end":return t.stop()}}),t)})))()}}))(Fn),Pn=a(813),_n=a(825),qn=a(804),zn=a(805),Un=a(388),Wn=a.n(Un),Vn=a(379),Hn=a.n(Vn),Yn=a(378),Qn=a.n(Yn),Gn=a(147),Jn={PRIORITIES:[{label:"Normal",key:"NORMAL"},{label:"Urgente",key:"HIGH"}],STATUSES:[{label:"Pendente",key:"PENDING"},{label:"Em andamento",key:"IN_PROGRESS"},{label:"Conclu\xeddo",key:"DONE"}],STATUS_PENDING:"PENDING",STATUS_IN_PROGRESS:"IN_PROGRESS",STATUS_DONE:"DONE",PRIORITY_NORMAL:"NORMAL",PRIORITY_HIGH:"HIGH"},Xn={kanban:{display:"inline-flex",userSelect:"none",alignItems:"center",justifyContent:"center",height:740},column:{margin:10,display:"flex",flexDirection:"column",marginBottom:10,minWidth:328,height:740},columnLoading:{transition:"background-color 500ms fade-out 1s",backgroundColor:"rgba(96, 115, 137, 0.04)"},columnHeader:{display:"flex",alignItems:"center",justifyContent:"center",border:0,backgroundColor:"rgba(96, 115, 137, 0.04)",transition:"background-color 0.1s ease",height:50,userSelect:"none"},columnTitle:{padding:10,transition:"background-color ease 0.2s",flexGrow:1,userSelect:"none",position:"relative",fontSize:14,fontWeight:600,color:"#515c6a"},columnTitleLoading:{color:"rgb(224, 224, 224)"},list:{backgroundColor:"#F2F3F8",display:"flex",flexDirection:"column",padding:10,borderRadius:8,paddingBottom:0,transition:"background-color 0.1s ease, opacity 0.1s ease",userSelect:"none",minHeight:250,marginBottom:10},card:{cursor:"pointer",height:"auto"},cardContent:{flexGrow:1,flexBasis:"100%",display:"flex",flexDirection:"column",marginBottom:8}},Kn=Object(r.memo)((function(e){var t=e.provided,a=void 0===t?{}:t,n=e.children;return o.a.createElement("a",Object.assign({style:Xn.card,ref:a.innerRef},a.draggableProps,a.dragHandleProps),n)}));Kn.propTypes={children:ne.a.any,provided:ne.a.any};var Zn=Object(r.memo)((function(e){var t=e.provided,a=e.renderCard,n=e.row,r=e.cardWrapperStyle,c=e.disableDragDrop;return o.a.createElement(Kn,{provided:c?{}:t},o.a.createElement("div",{style:Object(f.a)(Object(f.a)({},Xn.cardContent),r)},a(n)))})),$n=Object(r.memo)((function(e){var t=e.provided,a=void 0===t?{}:t,n=e.style,r=e.children;return o.a.createElement("div",Object.assign({style:Object(f.a)(Object(f.a)({},Xn.list),n),ref:a.innerRef},a.droppableProps),r)}));$n.propTypes={children:ne.a.any,provided:ne.a.any,style:ne.a.any};var er=Object(r.memo)((function(e){var t=e.column,a=e.cardWrapperStyle,n=e.renderCard,r=e.disableDragDrop,c=We()(v()(t,"rows"))?[]:t.rows;return j()(c,(function(e,t){return r?o.a.createElement(Zn,{key:t,row:e,renderCard:n,cardWrapperStyle:a,disableDragDrop:r}):o.a.createElement(Gn.b,{key:e.id,draggableId:e.id,index:t},(function(c,l){return o.a.createElement(Zn,{key:t,row:e,provided:c,dragSnapshot:l,renderCard:n,cardWrapperStyle:a,disableDragDrop:r})}))}))})),tr=Object(r.memo)((function(e){var t=e.listStatus,a=e.column,n=e.disableDragDrop,r=e.renderCard,c=e.columnStyle,l=e.cardWrapperStyle,i=e.isDraggingFrom;return n?o.a.createElement($n,{style:c},o.a.createElement(er,{column:a,renderCard:r,disableDragDrop:n,cardWrapperStyle:l})):o.a.createElement(Gn.c,{droppableId:t||"ROW",isDropDisabled:i,type:"ROW"},(function(e){return o.a.createElement($n,{style:c,provided:e},o.a.createElement(er,{column:a,renderCard:r,disableDragDrop:n,cardWrapperStyle:l}),e.placeholder)}))}));tr.propTypes={listStatus:ne.a.string,renderCard:ne.a.func,column:ne.a.object,columnStyle:ne.a.object,cardWrapperStyle:ne.a.object,disableDragDrop:ne.a.bool,isDraggingFrom:ne.a.bool};var ar=tr,nr=Object(r.memo)((function(e){var t=e.index,a=e.column,n=e.renderCard,r=e.columnStyle,c=e.columnWrapperStyle,l=e.cardWrapperStyle,i=e.columnTitleStyle,s=e.columnHeaderStyle,u=e.disableDragDrop,m=e.loading,d=e.isDraggingFrom,b=e.actionComponent;return o.a.createElement("div",{style:Object(f.a)(Object(f.a)({},Xn.column),c)},o.a.createElement("header",{style:Object(f.a)(Object(f.a)({},Xn.columnHeader),s)},o.a.createElement("h4",{style:Object(f.a)(Object(f.a)(Object(f.a)({},Xn.columnTitle),i),m?Xn.columnTitleLoading:{})},"".concat(v()(a,"title")," (").concat(ra()(v()(a,"rows")),")")),b),o.a.createElement(ar,{key:t,columnStyle:r,column:a,loading:m,listStatus:v()(a,"status"),renderCard:n,cardWrapperStyle:l,disableDragDrop:u,isDraggingFrom:d}))}));nr.propTypes={index:ne.a.number,renderCard:ne.a.func,loading:ne.a.bool,column:ne.a.object,columnWrapperStyle:ne.a.object,columnStyle:ne.a.object,columnTitleStyle:ne.a.object,columnHeaderStyle:ne.a.object,cardWrapperStyle:ne.a.object,disableDragDrop:ne.a.bool,actionComponent:ne.a.object,isDraggingFrom:ne.a.bool};var rr=nr,or=Jn.STATUSES,cr=Jn.STATUS_PENDING,lr=Jn.STATUS_IN_PROGRESS,ir=Jn.STATUS_DONE,sr=function(e,t){return Object(N.map)(e,(function(e){return e.status})).indexOf(t)},ur=function(e){return Object(N.map)(or,(function(t,a){var n=Object(N.get)(t,"key"),r=Object(N.filter)(e,(function(e){return e.status===n}));return{index:a,status:n,title:Object(N.get)(t,"label","").toUpperCase(),rows:r}}))},mr=Object(r.memo)((function(e){var t=e.columns,a=e.setColumns,n=e.onDragEnd,r=e.renderCard,c=e.loading,l=e.columnWrapperStyle,i=e.cardWrapperStyle,s=e.columnStyle,u=e.columnHeaderStyle,m=e.columnTitleStyle,d=e.disableDragDrop,b=e.currentDraggingSource,p=e.setCurrentDraggingSource,g=e.actionPending,h=e.actionInProgress,E=e.actionDone,v=function(e){return e===cr&&g?g:e===lr&&h?h:e===ir&&E?E:null};return o.a.createElement(Gn.a,{onDragStart:function(e){p(e.source)},onDragEnd:function(e){if(p(null),e.destination){var r=e.source,o=e.destination;if(r.droppableId!==o.droppableId)if(!(!o||r.droppableId===o.droppableId&&r.index===o.index)){var c=Object(N.cloneDeep)(t),l=sr(t,r.droppableId),i=sr(t,o.droppableId),s=Object(N.cloneDeep)(t[l].rows),u=Object(N.cloneDeep)(t[i].rows),m=s.splice(r.index,1),d=Object(vt.a)(m,1)[0];u.splice(o.index,0,d),c[l].rows=Object(N.cloneDeep)(s),c[i].rows=Object(N.cloneDeep)(u),a(Object(N.cloneDeep)(c)),n(e)}}}},o.a.createElement("div",{style:Xn.kanban},Object(N.map)(or,(function(e,a){return o.a.createElement(rr,{key:a,index:a,loading:c,column:t[a],renderCard:r,columnHeaderStyle:u,columnTitleStyle:m,columnStyle:Object(f.a)(Object(f.a)({},s),c?Xn.columnLoading:{}),columnWrapperStyle:l,cardWrapperStyle:i,disableDragDrop:d,actionComponent:v(e.key),isDraggingFrom:Object(N.get)(b,"droppableId")===e.key})}))))})),dr=Object(Z.b)(Object(Z.h)("columns","setColumns",[]),Object(Z.h)("currentDraggingSource","setCurrentDraggingSource",null),Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.data;(0,e.setColumns)(ur(t))}}),Object(Z.g)(["data","loading"],(function(e){var t=e.data;(0,e.setColumns)(ur(t))})))(mr),br=a(797),pr=a(798),gr=a(824),fr=a(799),hr=a(375),Er=a.n(hr),vr=Object(r.memo)((function(e){var t=e.classes,a=e.ticket,n=e.loading,r=e.onClickCard,c="".concat(v()(a,"requester.name")," ").concat(v()(a,"requester.lastname","")),l=v()(a,"assignees"),i=l.map((function(e){return{assigneeName:"".concat(v()(e,"name","")," ").concat(v()(e,"lastname","")),assignePhotoUrl:v()(e,"photo_url")}})),s=v()(a,"created_at")?"".concat(A()(a.created_at).fromNow()," por "):"",u=v()(a,"title",""),m=v()(a,"category.title",""),d=v()(a,"ticket_tags",[]),b=a.is_standby?t.standbyCard:t.card;return o.a.createElement(o.a.Fragment,null,o.a.createElement(br.a,{className:b,onClick:function(){n||r(a)}},o.a.createElement(pr.a,{className:t.cardContent},!v()(a,"viewer_has_read")&&o.a.createElement(Er.a,{className:t.notReadIndicator}),!n&&function(e,t){if(e){var a=A()(e).format("MMM D"),n=A()().startOf("day"),r=A()(e).startOf("day"),c=r.isSame(n,"day"),l=1===r.diff(n,"days"),i=r.isBefore(n,"day");return c?o.a.createElement(gr.a,{label:a,size:"small",className:t.cardChipToday}):l?o.a.createElement(gr.a,{label:a,size:"small",className:t.cardChipTomorrow}):i?o.a.createElement(gr.a,{label:a,size:"small",className:t.cardChipExpired}):o.a.createElement(gr.a,{label:a,size:"small",className:t.cardChipFarFromExpiration})}return null}(v()(a,"deadline"),t),o.a.createElement(He.a,{variant:"subtitle1",className:t.cardTitle},n?o.a.createElement(fr.a,{animation:"wave"}):o.a.createElement("b",null,u)),ra()(d)?o.a.createElement(o.a.Fragment,null,o.a.createElement(He.a,{variant:"body2",component:"small"},d.map((function(e){return"#".concat(e.title)})).join(" ")),o.a.createElement("br",null)):o.a.createElement(o.a.Fragment,null),n?o.a.createElement(fr.a,{animation:"wave",width:150}):o.a.createElement(He.a,{variant:"body2",color:"textSecondary",component:"small"},s,o.a.createElement("b",null,c)),o.a.createElement("div",{className:t.cardAction},o.a.createElement("div",{className:t.cardAvatar},n?o.a.createElement(fr.a,{animation:"wave",width:100}):l&&o.a.createElement("div",{className:t.cardAvatarContainer},i.map((function(e,a){return o.a.createElement("div",{key:"".concat(e.assigneeName,"_").concat(a.toString()),className:t.cardAvatarImage},o.a.createElement(Ba,{name:e.assigneeName,photoUrl:e.assignePhotoUrl}))})))),o.a.createElement(He.a,{variant:"body2",color:"textSecondary",component:"small"},n?o.a.createElement(fr.a,{animation:"wave",width:50}):m)))))})),Or=Object(Z.b)(Object($.a)((function(e){var t={padding:0,width:308,height:"auto",minHeight:"auto",maxHeight:"auto",borderRadius:8,boxShadow:"0 3px 3px 0 rgba(133, 133, 133, 0.2)",border:"1px solid #eee"};return{card:t,standbyCard:Object(f.a)(Object(f.a)({},t),{},{borderColor:e.palette.secondary.light}),cardContent:{marginBottom:0,paddingBottom:"5px !important"},cardAction:{marginTop:10,marginBottom:15,display:"inline-flex",width:"100%",alignItems:"center",justifyContent:"space-between"},cardTitle:{lineHeight:"1.5em",marginBottom:5},cardChipToday:{float:"right",backgroundColor:fe.a[700],color:"white"},cardChipTomorrow:{float:"right",backgroundColor:Ma.a[700],color:"white"},cardChipExpired:{float:"right",backgroundColor:fe.a[200],color:"white"},cardChipFarFromExpiration:{float:"right",backgroundColor:"rgb(242, 243, 248)",color:"black"},notReadIndicator:{float:"right",fontSize:"1rem",color:e.palette.success.dark,marginLeft:e.spacing(1)},cardAvatar:{display:"inline-flex",width:"100%",height:"auto",minHeight:"auto",maxHeight:"auto",alignItems:"center"},cardAvatarName:{marginLeft:10,marginTop:0,lineHeight:"1.2em"},cardAvatarImage:{marginRight:5,marginTop:5},cardAvatarContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap"}}}),{withTheme:!0}),h.g)(vr),jr=a(772),Cr=a(800),yr=a(775),kr=a(773),Ar=a(774),wr=a(801),Tr=a(186),xr=a.n(Tr),Sr={getTickets:function(e){return z.get("/tickets",{location_id:v()(e,"locationId"),assignee_id:v()(e,"assigneeId"),category_id:v()(e,"categoryId"),ticket_tag_id:v()(e,"ticketTagId"),deadline:v()(e,"deadline"),priority:v()(e,"priority"),archived:v()(e,"archived"),status:v()(e,"status"),per_page:v()(e,"perPage"),page:v()(e,"page")})},getTicket:function(e){return e?z.get("/tickets/".concat(e)):null},getTicketByCode:function(e){return e?z.get("/tickets/codes/".concat(e)):null},updateTicket:function(e){var t=e.ticket,a=e.selectedAssignees,n=e.selectedTags,r={id:v()(t,"id"),title:v()(t,"title"),priority:We()(v()(t,"priority"))?null:v()(t,"priority"),deadline:v()(t,"deadline"),location_id:v()(t,"location.id"),assignee_ids:a,ticket_tag_ids:n,category_id:v()(t,"category.id")};return z.put("/tickets/".concat(v()(t,"id")),r)},moveTicket:function(e){var t=e.id,a=e.status,n=e.position,r=e.location_id;return z.put("/tickets/".concat(t,"/move"),{status:a,position:n,location_id:r})},archiveTicket:function(e){var t=e.ticketsIds;return z.put("/tickets/archive",{tickets_ids:t})},unarchiveTicket:function(e){var t=e.ticketsIds;return z.put("/tickets/unarchive",{tickets_ids:t})},postTicket:function(e){var t=e.attachment_data,a=Object(ut.a)(e,["attachment_data"]),n=null;return t&&(n={id:t.id,storage:t.storage,metadata:t.metadata,base64Data:t.base64Data}),z.post("/tickets",Object(f.a)(Object(f.a)({},a),{},{attachment_data:n,priority:We()(v()(a,"priority"))?null:v()(a,"priority")}))},deleteTicket:function(e){return z.delete("/tickets/".concat(e))},getAssignables:function(){return z.get("/tickets/assignables")},exportCsv:function(e){var t=e.start_date,a=e.end_date;return z.post("/tickets/export_csv",{start_date:t,end_date:a})},report:function(e){var t=e.location_id,a=e.start_date,n=e.end_date;return z.post("/tickets/report",{location_id:t,start_date:a,end_date:n})},markAsRead:function(e){return z.put("/tickets/".concat(e,"/mark_as_read"))},postPublicTicket:function(e){var t=e.ticket,a=t.attachment_data,n=Object(ut.a)(t,["attachment_data"]),r=e.companyId,o=null;return a&&(o={id:a.id,storage:a.storage,metadata:a.metadata,base64Data:a.base64Data}),z.post("/public_tickets?company_id=".concat(r),Object(f.a)({attachment_data:o},n))},toggleStandby:function(e){return z.put("/tickets/".concat(e,"/toggle_standby"))}},Nr={getComments:function(e){return e?z.get("/tickets/".concat(e,"/ticket_comments")):null},sendComment:function(e){var t=e.id,a=e.content,n=e.isInternal,r=e.attachmentData,o=null;return r&&(o={id:r.id,storage:r.storage,metadata:r.metadata,base64Data:r.base64Data}),z.post("/tickets/".concat(t,"/ticket_comments"),{content:a,is_internal:n,attachment_data:o})},deleteComment:function(e){var t=e.id;return z.delete("/ticket_comments/".concat(t))}},Dr=a(376),Mr=a.n(Dr),Fr=a(124),Ir=a.n(Fr),Rr=a(377),Lr=a.n(Rr),Br={attributes:{target:"_blank",rel:"noopener noreferrer"}},Pr=function(e){return Lr()({input:e,options:Br})},_r=Object(r.memo)((function(e){var t=e.comment,a=e.classes,n=e.deleteCommentFetch,r=e.deleteCommentLoading,c=v()(t,"is_internal"),l=c?a.internalBallon:"",i=I.getUserData(),s=v()(i,"id"),u=v()(t,"member_id",""),m=v()(t,"member.job_role")?"- ".concat(v()(t,"member.job_role")):"",d=v()(t,"member.fullname",P.systemName),b=v()(t,"member.photo_url",P.systemPhotoUrl),p=v()(t,"is_activity"),g=Mr()(t.content||""),f=c&&!p?" - Interno":"",h=p?g:m;return o.a.createElement("div",null,o.a.createElement("div",{className:a.userNameContainer},o.a.createElement(Ba,{name:d,photoUrl:b}),o.a.createElement(He.a,{variant:"subtitle2",className:a.userName},o.a.createElement("b",null,d),"\xa0",o.a.createElement(He.a,{variant:"body2",component:"span"},h),p&&o.a.createElement(He.a,{variant:"body2",color:"textSecondary",component:"small"},o.a.createElement("br",null),"".concat(A()(v()(t,"created_at")).calendar()).concat(f)))),o.a.createElement("div",{className:a.content},!p&&o.a.createElement(o.a.Fragment,null,t.attachment_data&&o.a.createElement(Ht,{file:t.attachment_data,outterContainerClassName:a.previewButtonContainer}),t.content&&o.a.createElement("div",{className:"".concat(a.baloon," ").concat(l)},o.a.createElement("div",{className:t.attachment_data&&a.contentWithMargin},(t.content||"").split("\n").map((function(e,t){return o.a.createElement("span",{key:"".concat(Date.now(),"_").concat(t.toString())},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:Pr(e)}}),o.a.createElement("br",null))})))),o.a.createElement(He.a,{variant:"body2",color:"textSecondary",component:"small"},"".concat(A()(v()(t,"created_at")).calendar()).concat(f)),u&&s===u&&o.a.createElement(Ir.a,{className:a.iconButton,onClick:function(){window.confirm("Deseja excluir o coment\xe1rio? Essa a\xe7\xe3o \xe9 irrevers\xedvel")&&n(!0)},disabled:r}))))})),qr=$t(Nr.deleteComment,{name:"deleteComment",init:!1,options:function(e){var t=e.comment,a=e.setAlert,n=e.fetchComments;return{variables:{id:v()(t,"id")},onRequestFinished:function(){a({alertMsg:"Coment\xe1rio exclu\xeddo com sucesso",alertType:"success",showAlert:!0});var e={id:v()(t,"id"),content:v()(t,"content")};Q.hit("TicketComment - Deleted",e),n()},onRequestError:function(){a({alertMsg:"Erro ao excluir coment\xe1rio",alertType:"error",showAlert:!0})}}}}),zr=Object(Z.b)(r.memo,Object($.a)((function(){return{userNameContainer:{display:"flex",alignItems:"space-between",flexDirection:"row",marginTop:15},userName:{marginLeft:10},content:{marginLeft:40,marginBottom:20},baloon:{backgroundColor:"#fff",borderRadius:5,paddingLeft:15,paddingRight:15,paddingTop:10,paddingBottom:10,marginBottom:5,height:"auto",wordBreak:"break-word",whiteSpace:"pre-line"},internalBallon:{backgroundColor:"#fff3d7"},previewButtonContainer:{display:"flex",width:"fit-content",backgroundColor:"white",marginBottom:5},contentWithMargin:{marginTop:10},iconButton:{fontSize:22,paddingLeft:5,verticalAlign:"bottom",cursor:"pointer"}}}),{withTheme:!0}),qr)(_r),Ur=$t(Nr.sendComment,{name:"sendTicketComment",init:!1,options:function(e){var t=e.setFile,a=e.onAttachmentSent,n=e.onUploadError;return{onRequestFinished:function(){t(null),a&&a()},onRequestError:function(e){t(null),n(e)}}}}),Wr=Object(Z.b)(r.memo,Object(Z.h)("file","setFile",null),Ur,Object(Z.e)({onUploadSuccess:function(e){var t=e.ticketId,a=e.isInternal,n=e.setFile,r=e.sendTicketCommentFetch;return function(e){n(Object(f.a)(Object(f.a)({},e),{},{progressPercent:99})),r(!0,null,null,{variables:{id:t,attachmentData:e,content:null,isInternal:a}})}},onUploadError:function(e){var t=e.onUploadError,a=e.setFile;return function(e){a(null),t&&t(e)}}}))((function(e){var t=e.file,a=e.setFile,n=e.onUploadSuccess,r=e.disabled,c=e.onUploadError,l=e.size;return o.a.createElement(Yt,{value:t,onChange:a,onUploadSuccess:n,disabled:r,size:l,accept:"image/*,.doc,.docx,.xls,.xlsx,.pdf,.xml",buttonProps:{style:{backgroundColor:"#fff"}},sizeLimit:10,onUploadError:c})})),Vr=$t(Sr.toggleStandby,{init:!1,props:function(e){return e.data||{}},options:function(e){var t=e.ticket,a=e.setAlert,n=e.onSuccess;return{variables:t.id,onRequestFinished:n,onRequestError:function(e){var t=e.errors?Object.values(e.errors).flat().join():"Erro ao comunicar com servidor";a({alertMsg:t,alertType:"error",showAlert:!0})}}}}),Hr=Object(Z.b)(r.memo,Vr,Object(Z.e)({onSubmit:function(e){var t=e.fetch,a=e.ticket;return function(){(a.is_standby||window.confirm("Tem certeza em deixar esse ticket em espera?"))&&t(!0)}}}))((function(e){var t=e.ticket,a=e.isFormLoading,n=e.loading,r=e.onSubmit,c=t.is_standby?"Retomar":"Deixar em espera",l=t.is_standby?"primary":"default";return o.a.createElement(me.a,{color:l,size:"medium",variant:"outlined",disabled:a||n,onClick:r},c)})),Yr=Jn.PRIORITIES,Qr=Jn.STATUSES,Gr=Object(r.memo)((function(e){var t=e.setAlert,a=e.classes,n=e.assignees,r=e.categories,c=e.tags,l=e.selectedTags,i=e.setSelectedTags,s=e.open,d=e.onClose,b=e.setCurrentTicketState,p=e.unarchiveTicketLoading,g=e.currentTicket,h=e.formData.validationErrors,E=e.unarchiveTicketFetch,v=e.ticketFetch,O=e.ticketLoading,j=e.theme,C=e.isEditing,y=e.setIsEditing,k=e.selectedAssignees,w=e.setSelectedAssignees,T=e.updateTicketFetch,x=e.updateTicketLoading,S=e.initialTitle,D=e.lastTitle,M=e.ticketCommentsFetch,F=e.ticketCommentsData,R=e.ticketCommentsLoading,L=e.deleteTicketLoading,B=e.commentMessage,P=e.setCommentMessage,_=e.setCloseModal,q=e.setInitialTitle,z=e.sendTicketCommentFetch,U=e.sendTicketCommentLoading,W=e.setLastTitle,V=e.deleteTicketFetch,H=e.moveTicketFetch,Y=e.moveTicketLoading,G=e.archiveTicketFetch,J=e.archiveTicketLoading;if(!s)return null;var X=it.isMobile(),K=I.getUserData(),Z=Object(N.sortBy)(Object(N.get)(K,"locations",[]),["name"]),$=Object(N.get)(K,"role","MEMBER"),ee=qa.includes($),te=Object(N.sortBy)(Object(N.get)(F,"ticket_comments",[]),["created_at"]).reverse(),ae=Object(N.get)(g,"requester.id"),ne=Object(N.get)(K,"id"),re=Object(N.get)(g,"status"),oe=Boolean(Object(N.get)(g,"archived_at")),ce=ee&&!oe,le=ce||!oe&&(ae&&ne&&ne===ae),ie=Boolean(!le||U||R||J||p),de=Boolean(x||Y||O||p||J||L),be=!ce,ge=Boolean(!ee||de||be),fe=ie||Object(N.isEmpty)(Object(N.get)(B,"content","")),he="".concat(Object(N.get)(g,"requester.name","")," ").concat(Object(N.get)(g,"requester.lastname","")),Ee=Object(N.get)(g,"created_at")?A()(g.created_at).fromNow():"",ve=Object(N.get)(g,"code",""),Oe=Object(N.get)(g,"title",""),je="".concat(oe?"Ticket arquivado - ":"").concat(Oe),Ce=Object(N.get)(g,"priority"),ye=Object(N.get)(g,"location.id",""),ke=Object(N.get)(g,"category.id",""),Ae=Object(N.compact)([Object(N.get)(g,"category")].concat(r||[])),we=Object(N.sortBy)(Object(N.uniqBy)(Ae,"id"),"title"),Te=Object(N.get)(g,"deadline",null),xe=Object(N.map)(Object(N.get)(g,"assignees"),(function(e){return"".concat(e.name," ").concat(e.lastname)})).join(", "),Se=Object(N.map)(Object(N.get)(g,"ticket_tags"),(function(e){return e.title})).join(", ");be&&(Ce=Object(N.get)(Object(N.find)(Yr,(function(e){return e.key===Ce})),"label",""),ye=Object(N.get)(Object(N.find)(Z,(function(e){return e.id===ye})),"name",""),ke=Object(N.get)(Object(N.find)(r,(function(e){return e.id===ke})),"title",""),re=Object(N.get)(Object(N.find)(Qr,(function(e){return e.key===re})),"label",""),Te=Object(N.isEmpty)(Te)?"":A()(Te).format("DD/MM/YYYY"));var Ne=Object(Ca.a)(),De=Object(ya.a)(Ne.breakpoints.down("sm")),Me=j.mainColor,Fe=function(){var e={id:Object(N.get)(g,"id"),title:Object(N.get)(g,"title")};Q.hit("TicketModal - Closed",e),_(!0),y(!1),d()},Ie=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.stringify(k.sort()),a=Object(N.map)(Object(N.get)(g,"assignees"),(function(e){return e.id})),r=JSON.stringify(a.sort()),t===r){e.next=10;break}return _(!1),e.next=7,T(!0);case 7:M(!0),o=n.filter((function(e){return k.includes(e.id)})),b({assignees:o});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.stringify(l.sort()),a=Object(N.map)(Object(N.get)(g,"ticket_tags"),(function(e){return e.id})),n=JSON.stringify(a.sort()),t===n){e.next=10;break}return _(!1),e.next=7,T(!0);case 7:M(!0),r=c.filter((function(e){return l.includes(e.id)})),b({ticket_tags:r});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce){e.next=6;break}return _(!1),b(t),e.next=5,T(!0);case 5:M(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce){e.next=7;break}return _(!1),a={variables:{id:g.id,status:t}},b({status:t}),e.next=6,H(!0,"",null,a);case 6:M(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce){e.next=7;break}return _(!1),a={variables:{id:g.id,location_id:t}},b({location:{id:t}}),e.next=6,H(!0,"",null,a);case 6:M(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){window.document.querySelector("#title").focus(),W(Oe),y(!0)};return o.a.createElement(jr.a,{open:s,fullScreen:De,onClose:Fe,keepMounted:!0,fullWidth:!0,maxWidth:"md",disableEscapeKeyDown:C},o.a.createElement(ue.a,{container:!0},o.a.createElement(ue.a,{item:!0,xs:12,sm:12,md:5},o.a.createElement(Cr.a,null,o.a.createElement(Ve.a,{multiline:!0,id:"title",disabled:ge,InputProps:{disableUnderline:!0,style:{color:"#000",fontSize:20,width:X?300:350,backgroundColor:C?"#E0E0E0":"",borderRadius:C?5:"",paddingLeft:5},endAdornment:o.a.createElement(yr.a,{position:"end"},ee&&!X&&!C&&!ge&&o.a.createElement(Ze.a,{onClick:ze,disabled:de||ge},x?o.a.createElement(se.a,{color:Me,className:a.progress,variant:"indeterminate",disableShrink:!0,thickness:5,size:25}):!C&&o.a.createElement(xr.a,{fontSize:"small"})))},value:je,onFocus:ze,onKeyDown:function(e){13!==e.keyCode||Object(N.isEmpty)(Oe)?27===e.keyCode&&(b({title:S}),y(!1)):(Pe({title:Oe}),q(Oe),y(!1))},onBlur:function(){Object(N.isEmpty)(Oe)||D===Oe||(Pe({title:Oe}),q(Oe)),y(!1)},onChange:function(e){return t=e.target.value,void(ce&&b({title:t}));var t}},h.title&&o.a.createElement(dt.a,null,"T\xedtulo n\xe3o pode ficar em branco")),o.a.createElement("br",null),o.a.createElement(He.a,{variant:"body2",color:"textSecondary",component:"small"},O?"":"#".concat(ve," - ").concat(Ee," por "),o.a.createElement("b",null,he)),o.a.createElement(Ze.a,{className:a.closeButton,onClick:Fe},o.a.createElement(Ke.a,null))),o.a.createElement(kr.a,{className:a.ticketContent},o.a.createElement(Tt,{errors:Object(N.get)(h,"status",[]),label:"Status",value:re,disabled:de||!ce,readOnly:be,onChange:function(e){return _e(e.target.value)},options:Qr,optionValueField:"key",size:"small"}),Object(N.size)(Z)>1&&o.a.createElement(Tt,{errors:Object(N.get)(h,"location_id",[]),label:"Local",value:ye,disabled:de||!ce,readOnly:be,onChange:function(e){return qe(e.target.value)},options:Z,optionValueField:"id",optionLabelField:"name",size:"small"}),o.a.createElement(Tt,{errors:Object(N.get)(h,"category_id",[]),label:"Categoria",value:ke,disabled:de||!ce,readOnly:be,onChange:function(e){return Pe({category:{id:e.target.value}})},options:we,optionValueField:"id",optionLabelField:"title",size:"small"}),be?o.a.createElement(pt,{label:"Etiquetas",value:Se,disabled:de||be,readOnly:be,size:"small"}):o.a.createElement(mt.a,{fullWidth:!0,margin:"dense",variant:"outlined",className:a.formControl,error:!!h.ticket_tags},o.a.createElement(kt.a,{shrink:!0},"Etiquetas"),o.a.createElement(At.a,{error:!!h.ticket_tags,label:"Etiquetas",multiple:!0,value:l,onChange:Le,onClose:Be,disabled:de||be,size:"small"},c.map((function(e){return o.a.createElement(wt.a,{key:e.id,value:e.id},e.title)}))),h.ticket_tags&&o.a.createElement(dt.a,null,h.ticket_tags)),be?o.a.createElement(pt,{label:"Respons\xe1veis",value:xe,disabled:de||be,readOnly:be,size:"small"}):o.a.createElement(mt.a,{fullWidth:!0,margin:"dense",variant:"outlined",className:a.formControl,error:!!h.assignees},o.a.createElement(kt.a,{shrink:!0},"Respons\xe1veis"),o.a.createElement(At.a,{error:!!h.assignees,label:"Respons\xe1veis",multiple:!0,value:k,onChange:Ie,onClose:Re,disabled:de||be,size:"small"},n.map((function(e){return o.a.createElement(wt.a,{key:e.id,value:e.id},"".concat(e.name," ").concat(e.lastname))}))),h.assignees&&o.a.createElement(dt.a,null,h.assignees)),o.a.createElement(ue.a,{container:!0,direction:"row",justify:"center",spacing:1},o.a.createElement(ue.a,{item:!0,xs:6},o.a.createElement(Dt,{errors:Object(N.get)(h,"deadline"),label:"Prazo",value:Te,disabled:de||be,readOnly:be,size:"small",onChangeValue:function(e){return Pe({deadline:e})}})),o.a.createElement(ue.a,{item:!0,xs:6},o.a.createElement(Tt,{errors:Object(N.get)(h,"priority",[]),label:"Prioridade",value:Ce,disabled:de||!ce,readOnly:be,onChange:function(e){return Pe({priority:e.target.value})},options:Yr,optionValueField:"key",size:"small"})))),!oe&&ee&&o.a.createElement(Ar.a,{className:a.ticketActions},o.a.createElement(me.a,{color:"default",size:"medium",variant:"outlined",onClick:function(){ce&&window.confirm("Tem certeza em arquivar esse ticket?")&&G(!0)},disabled:de},"Arquivar"),o.a.createElement(Hr,{setAlert:t,ticket:g,isFormLoading:de,onSuccess:function(){v(!0),M(!0)}})),oe&&ee&&o.a.createElement(Ar.a,{className:a.ticketActions},o.a.createElement(me.a,{color:"default",size:"medium",variant:"outlined",onClick:function(){return E(!0)},disabled:de},"DESARQUIVAR"),o.a.createElement(me.a,{color:"secondary",size:"medium",variant:"outlined",onClick:function(){ee&&window.confirm("Deseja excluir este ticket? Essa a\xe7\xe3o \xe9 irrevers\xedvel.")&&V(!0)},disabled:de},"EXCLUIR TICKET"))),o.a.createElement(ue.a,{item:!0,xs:12,sm:12,md:7,className:a.bgCommentDialog},o.a.createElement(Cr.a,null,"Atividade"),o.a.createElement(kr.a,{className:a.commentContent},o.a.createElement("div",{className:a.commentArea},R?o.a.createElement(pe,null):Object(N.map)(te,(function(e){return o.a.createElement(zr,{key:e.id,comment:e,setAlert:t,fetchComments:M})}))),o.a.createElement("div",{className:a.commentHeaderContainer},o.a.createElement(He.a,{variant:"h6"},"Comentar"),ee&&o.a.createElement(Ft.a,{className:a.isInternalSwitch,control:o.a.createElement(wr.a,{checked:B.isInternal,onChange:function(){return P(Object(f.a)(Object(f.a)({},B),{},{isInternal:!B.isInternal}))},color:"primary"}),label:"Interno",disabled:ie})),o.a.createElement(pt,{multiline:!0,rows:3,rowsMax:3,placeholder:"Escreva seu coment\xe1rio aqui...",classes:{root:a.bgWhite},value:B.content,onChange:function(e){return P(Object(f.a)(Object(f.a)({},B),{},{content:e.target.value}))},disabled:ie})),o.a.createElement(Ar.a,{className:a.commentActions},o.a.createElement(Wr,{size:"medium",ticketId:Object(N.get)(g,"id"),isInternal:B.isInternal,disabled:!!ie,onAttachmentSent:function(){return M(!0)},onUploadError:function(e){t({alertMsg:e.message,alertType:"error",showAlert:!0})}}),o.a.createElement(me.a,{color:"primary",size:"medium",variant:"contained",onClick:function(){le&&(_(!1),z(!0))},disabled:fe},"ENVIAR")))))})),Jr=$t(Nr.getComments,{name:"ticketComments",init:!1,options:function(e){var t=e.ticket;return{variables:Object(N.get)(t,"id")}}}),Xr=$t(Nr.sendComment,{name:"sendTicketComment",init:!1,options:function(e){var t=e.currentTicket,a=e.commentMessage,n=e.setCommentMessage,r=e.onClose,o=e.ticketCommentsFetch;return{variables:Object(f.a)({id:Object(N.get)(t,"id")},a),onRequestFinished:function(){n(ro),o(!1)},onRequestError:function(e){var a={id:Object(N.get)(t,"id"),title:Object(N.get)(t,"title")};Q.hit("TicketModal - Closed",a),r(e,"Erro ao enviar um coment\xe1rio para esse ticket")}}}}),Kr=$t(Sr.moveTicket,{name:"moveTicket",init:!1,options:function(e){var t=e.onClose,a=e.closeModal,n=e.currentTicket,r=e.setFormData;return{onRequestFinished:function(){if(a){var e={id:Object(N.get)(n,"id"),title:Object(N.get)(n,"title")};Q.hit("TicketModal - Closed",e),t(null,"Ticket #".concat(n.code," atualizado com sucesso"))}},onRequestError:function(e){var a=Object(N.mapValues)(Object(N.get)(e,"errors",{}),(function(e){return e[0]}));if(Object(N.isEmpty)(a)){var o={id:Object(N.get)(n,"id"),title:Object(N.get)(n,"title")};Q.hit("TicketModal - Closed",o);var c=Object(N.get)(e,"error","Erro ao atualizar esse ticket");t(e,c)}else r({validationErrors:a})}}}}),Zr=$t(Sr.getTicket,{name:"ticket",init:!1,options:function(e){var t=e.ticket,a=e.setCurrentTicket,n=e.onClose;return{variables:Object(N.get)(t,"id"),onRequestFinished:function(e){a(Object(N.get)(e,"ticket"))},onRequestError:function(e){var a={id:Object(N.get)(t,"id"),title:Object(N.get)(t,"title")};Q.hit("TicketModal - Closed",a),n(e,"Erro ao abrir esse ticket")}}}}),$r=$t(Sr.updateTicket,{name:"updateTicket",init:!1,options:function(e){var t=e.currentTicket,a=e.onClose,n=e.closeModal,r=e.setFormData,o=e.selectedAssignees,c=e.selectedTags;return{variables:{ticket:t,selectedAssignees:o,selectedTags:c},onRequestFinished:function(){if(r({validationErrors:{}}),n){var e={id:Object(N.get)(t,"id"),title:Object(N.get)(t,"title")};Q.hit("TicketModal - Closed",e),a(null,"Ticket #".concat(t.code," atualizado com sucesso"))}},onRequestError:function(e){var t=Object(N.mapValues)(Object(N.get)(e,"errors",{}),(function(e){return e[0]}));r({validationErrors:t})}}}}),eo=$t(Sr.archiveTicket,{name:"archiveTicket",init:!1,options:function(e){var t=e.currentTicket,a=e.onClose;return{variables:{ticketsIds:[t.id]},onRequestFinished:function(){var e={id:Object(N.get)(t,"id"),title:Object(N.get)(t,"title")};Q.hit("Ticket - Archived",e),a(null,"Ticket #".concat(t.code," arquivado com sucesso"))},onRequestError:function(e){a(e,"Erro ao arquivar ticket #".concat(t.code))}}}}),to=$t(Sr.unarchiveTicket,{name:"unarchiveTicket",init:!1,options:function(e){var t=e.currentTicket,a=e.onClose;return{variables:{ticketsIds:[t.id]},onRequestFinished:function(){var e={id:Object(N.get)(t,"id"),title:Object(N.get)(t,"title")};Q.hit("Ticket - Unarchived",e),a(null,"Ticket #".concat(t.code," desarquivado com sucesso"))},onRequestError:function(e){a(e,"Erro ao desarquivar ticket #".concat(t.code))}}}}),ao=$t(Sr.deleteTicket,{name:"deleteTicket",init:!1,options:function(e){var t=e.currentTicket,a=e.onClose;return{variables:t.id,onRequestFinished:function(){var e={id:Object(N.get)(t,"id"),title:Object(N.get)(t,"title")};Q.hit("Ticket - Deleted",e),a(null,"Ticket #".concat(t.code," exclu\xeddo com sucesso"))},onRequestError:function(e){a(e,"Erro ao excluir ticket #".concat(t.code))}}}}),no={validationErrors:{}},ro={content:"",isInternal:!1},oo=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{ticketContent:{marginTop:-20},ticketActions:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",alignSelf:"flex-end",paddingLeft:25,paddingRight:25,marginTop:22},commentHeaderContainer:{display:"flex",alignItems:"center"},isInternalSwitch:{marginLeft:"1rem"},bgCommentDialog:{backgroundColor:"rgb(242, 243, 248)"},commentContent:{marginTop:-20,paddingLeft:20,paddingRight:20},commentArea:{height:315,minHeight:315,maxHeight:315,marginBottom:15,overflowY:"scroll"},commentActions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-end",alignSelf:"flex-end",paddingLeft:20,paddingRight:20,paddingBottom:20},title:{marginBottom:0},editButton:{position:"absolute",right:e.spacing(75),top:e.spacing(1),color:e.palette.grey[500]},inputLabel:{color:"rgba(0, 0, 0, 0.54)"}})}),{withTheme:!0}),h.g,Object(Z.h)("formData","setFormDataRaw",no),Object(Z.e)({setFormData:function(e){var t=e.setFormDataRaw,a=e.formData;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),Object(Z.h)("currentTicket","setCurrentTicket",{}),Object(Z.h)("commentMessage","setCommentMessage",ro),Object(Z.h)("selectedAssignees","setSelectedAssignees",[]),Object(Z.h)("selectedTags","setSelectedTags",[]),Object(Z.h)("closeModal","setCloseModal",!1),Object(Z.h)("isEditing","setIsEditing",!1),Object(Z.h)("initialTitle","setInitialTitle",""),Object(Z.h)("lastTitle","setLastTitle",""),Jr,Xr,$r,Kr,eo,to,ao,Zr,Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.ticket,a=e.setCurrentTicket,n=e.setCommentMessage,r=e.setSelectedAssignees,o=e.setSelectedTags;r(Object(N.map)(Object(N.get)(t,"assignees"),(function(e){return e.id}))),o(Object(N.map)(Object(N.get)(t,"ticket_tags"),(function(e){return e.id}))),a(t),n(ro)}}),Object(Z.g)(["open"],(function(e){var t=e.open,a=e.setCommentMessage,n=e.setCurrentTicket,r=e.setFormData,o=e.setSelectedAssignees,c=e.ticketFetch,l=e.ticketCommentsFetch,i=e.ticket,s=e.setInitialTitle,u=e.setSelectedTags;if(t){var m={id:Object(N.get)(i,"id"),title:Object(N.get)(i,"title")};Q.hit("TicketModal - Opened",m),i&&!Object(N.get)(i,"mark_as_read")&&Sr.markAsRead(i.id),n(i),r(no),o(Object(N.map)(Object(N.get)(i,"assignees"),(function(e){return e.id}))),u(Object(N.map)(Object(N.get)(i,"ticket_tags"),(function(e){return e.id}))),s(Object(N.get)(i,"title")),a(ro),c(!0),l(!0)}})),Object(Z.e)({setCurrentTicketState:function(e){var t=e.setCurrentTicket,a=e.currentTicket;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}))(Gr),co={wrapper:{marginLeft:0,marginRight:10},header:{backgroundColor:"#FFF",padding:10,paddingTop:0,paddingBottom:0,height:60,width:"100%",borderTopLeftRadius:5,borderTopRightRadius:5},headerTitle:{color:"#313131"},column:{width:"100%",backgroundColor:"#F2F3F8",height:640,overflowY:"scroll"}},lo=a(802),io=Object(r.memo)((function(e){var t=e.anchorEl,a=e.setAnchorEl,n=e.archiveFetch,r=e.archiveLoading,c=e.doneTickets,l=e.theme,i=e.classes,s=Boolean(t),u=l.mainColor;return o.a.createElement("div",null,r?o.a.createElement(se.a,{color:u,className:i.progress,variant:"indeterminate",disableShrink:!0,thickness:5,size:25}):o.a.createElement(o.a.Fragment,null,o.a.createElement(Ze.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)}},o.a.createElement(lo.a,null)),o.a.createElement(Za.a,{id:"long-menu",anchorEl:t,keepMounted:!0,open:s,onClose:function(){a(null)},PaperProps:{style:{maxHeight:216,width:"23ch"}}},o.a.createElement(wt.a,{onClick:function(){window.confirm("Deseja arquivar os tickets?")&&(a(!1),n(c))}},"Arquivar conclu\xeddos"))))})),so=$t(Sr.archiveTicket,{name:"archive",init:!1,options:function(e){var t=e.setAlert,a=e.ticketsFetch,n=e.doneTickets;return{variables:{ticketsIds:n},onRequestFinished:function(){var e=Object(N.size)(n)>1?"tickets conclu\xeddos foram arquivados":"ticket conclu\xeddo foi arquivado",r=0===Object(N.size)(n)?"Nenhum ticket foi arquivado":e;a(!0),t({alertMsg:"".concat(0===Object(N.size)(n)?"":Object(N.size)(n)," ").concat(r),alertType:"success",showAlert:!0})},onRequestError:function(){t({alertMsg:"Erro ao arquivar tickets",alertType:"warning",showAlert:!0})}}}}),uo=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{progress:{marginRight:10,marginTop:12}})}),{withTheme:!0}),so,Object(Z.h)("anchorEl","setAnchorEl",null),Object(Z.h)("isExportModalOpen","setIsExportModalOpen",!1))(io),mo=Object(r.memo)((function(e){var t=e.tickets,a=e.categories,n=e.tags,r=e.assignees,c=e.loading,l=e.onClickCard,i=e.onCloseCardModal,s=e.lockBoard,u=e.ticketToOpenModal,m=e.onDragCard,d=e.setAlert,b=e.doneTickets,p=e.ticketsFetch,g=e.isManager,f=e.history;return o.a.createElement(o.a.Fragment,null,o.a.createElement(dr,{actionPending:o.a.createElement(Ze.a,{"aria-label":"New Ticket",color:"primary",onClick:function(){return f.push("/tickets/novo")}},o.a.createElement(Qn.a,null)),actionDone:o.a.createElement(o.a.Fragment,null,o.a.createElement(ka.a,{title:"Aten\xe7\xe3o: Tickets conclu\xeddos acima de 10 dias ser\xe3o automaticamente arquivados.",arrow:!0,placement:"top"},o.a.createElement(Hn.a,{color:"disabled"})),g&&o.a.createElement(uo,{doneTickets:b,setAlert:d,ticketsFetch:p})),data:t||[],disableDragDrop:s,loading:c,renderCard:function(e){return o.a.createElement(Or,{ticket:e,loading:c,onClickCard:l,onCloseModal:i})},onDragEnd:function(e){var t=e.draggableId,a=e.destination,n={variables:{id:t,status:v()(a,"droppableId"),position:v()(a,"index")}};m(n)},columnStyle:co.column,columnHeaderStyle:co.header,columnTitleStyle:co.headerTitle,columnWrapperStyle:co.wrapper}),o.a.createElement(oo,{open:!We()(u),ticket:u,categories:a,tags:n,assignees:r,onClose:i,setAlert:d}))}));mo.propTypes={setAlert:ne.a.func,tickets:ne.a.array,tags:ne.a.array,categories:ne.a.array,assignees:ne.a.array,lockBoard:ne.a.bool,loading:ne.a.bool,history:ne.a.object,ticketToOpenModal:ne.a.object,onCloseCardModal:ne.a.func,onDragCard:ne.a.func,onClickCard:ne.a.func,doneTickets:ne.a.array,ticketsFetch:ne.a.func,isManager:ne.a.bool};var bo=Object(Z.b)(Object($.a)(co,{withTheme:!0}),h.g)(mo),po=a(803),go=a(815),fo=Object(Z.b)(r.memo,Object(Z.h)("open","setOpen",!0),h.g)((function(e){var t,a,n,r=e.trialExpiration,c=e.willDowngradeAt,l=e.willCancelAt,i=e.open,s=e.setOpen,u=e.history,m=r&&A()(r).startOf("day"),d=c&&A()(c).startOf("day"),b=l&&A()(l).startOf("day"),p=A()().startOf("day"),g=null,f=null,h=null,E=null;if(m&&!d&&!b){var v=m.diff(p,"days");g=(t=v)>1?"O plano trial expira em ".concat(t," dias."):1===t?"O plano trial expira em 1 dia.":"O plano trial expira hoje.",f="warning",h=ze.PlanSubscription.path,E="Assinar plano"}if(d&&!b&&!g){var O=d.diff(p,"days");g=(a=O)>1?"O plano profissional ter\xe1 redu\xe7\xe3o de lugares daqui a ".concat(a," dias."):1===a?"O plano profissional ter\xe1 redu\xe7\xe3o de lugares daqui a 1 dia.":"O plano profissional ter\xe1 redu\xe7\xe3o de lugares hoje.",f="info",h=ze.MyPlan.path,E="Saiba mais"}if(b&&!g){var j=b.diff(p,"days");g=(n=j)>1?"O plano profissional ser\xe1 cancelado em ".concat(n," dias."):1===n?"O plano profissional ser\xe1 cancelado em 1 dia.":"O plano profissional ser\xe1 cancelado hoje.",f="warning",h=ze.PlanSubscription.path,E="Assinar plano"}return g&&f?o.a.createElement(po.a,{in:i},o.a.createElement(Pn.a,{my:2},o.a.createElement(go.a,{severity:f,action:o.a.createElement(Ze.a,{color:"inherit",size:"small",onClick:function(){return s(!1)}},o.a.createElement(Ke.a,{fontSize:"inherit"}))},g,"\xa0",o.a.createElement(me.a,{onClick:function(){return u.push(h)},color:"inherit",variant:"outlined",size:"small"},E)))):null})),ho=Object(r.memo)((function(e){var t=e.classes,a=e.history;return o.a.createElement("div",{className:t.root},o.a.createElement("p",{className:t.center},o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Assine o plano profissional para ter acesso \xe0 gest\xe3o de tickets"))),o.a.createElement("p",{className:t.center},o.a.createElement(me.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return a.push("/assinar-plano")}},"Quero assinar")))}));ho.propTypes={classes:ne.a.object,history:ne.a.object};var Eo=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),h.g)(ho),vo=a(386),Oo=a.n(vo),jo=a(188),Co=a.n(jo),yo=a(385),ko=a.n(yo),Ao=a(383),wo=a.n(Ao),To=a(384),xo=a.n(To),So=function(e){return Object(Z.b)(Object(Z.f)((function(t){return{previousValues:e(t)}})),Object(Z.h)("formData","setFormDataRaw",(function(e){var t=e.previousValues;return Object(f.a)({validationErrors:{},changedFields:{}},t)})),Object(Z.e)({setFormData:function(e){var t=e.setFormDataRaw,a=e.formData,n=e.previousValues;return function(e){var r=Object(f.a)(Object(f.a)({},a),e),o=(r.validationErrors,r.changedFields,Object(ut.a)(r,["validationErrors","changedFields"])),c=Object(N.pickBy)(o,(function(e,t){var a=n[t];return!Object(N.isEqual)(a,e)}));t(Object(f.a)(Object(f.a)({},r),{},{changedFields:c}))}},resetFormData:function(e){var t=e.setFormDataRaw,a=e.previousValues;return function(){t(Object(f.a)({validationErrors:{},changedFields:{}},a))}}}),Object(Z.c)({componentDidUpdate:function(e){this.props.previousValues!==e.previousValues&&this.props.setFormData(Object(f.a)({},this.props.previousValues))}}))},No=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{root:{maxWidth:"50rem"},actions:{margin:15,marginBottom:20},content:{overflowX:"hidden"}})}),{withTheme:!0}))((function(e){var t=e.classes,a=e.open,n=e.onClose,r=e.modalTitle,c=e.content,l=e.actions,i=Object(ut.a)(e,["classes","open","onClose","modalTitle","content","actions"]),s=Object(Ca.a)(),u=Object(ya.a)(s.breakpoints.down("sm"));return o.a.createElement(jr.a,Object.assign({fullScreen:u,keepMounted:!0,maxWidth:"md",classes:{paper:t.root},open:a,onClose:n},i),o.a.createElement(Cr.a,null,r,o.a.createElement(Ze.a,{className:t.closeButton,onClick:n},o.a.createElement(Ke.a,null))),o.a.createElement(kr.a,{className:t.content},c),o.a.createElement(Ar.a,{className:t.actions},o.a.createElement(ue.a,{container:!0,justify:"flex-end",spacing:2},l)))})),Do=Object(r.memo)((function(e){var t=e.setFormData,a=e.isLoading,n=e.formData,r=n.start_date,c=n.end_date,l=n.validationErrors;return a?o.a.createElement(pe,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{container:!0,direction:"row",spacing:1},o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(Dt,{errors:l.start_date,label:"Data de in\xedcio",disabled:a,value:r,onChangeValue:function(e){return t({start_date:e})},disableFuture:!0})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(Dt,{errors:l.end_date,label:"Data de fim",disabled:a,value:c,onChangeValue:function(e){return t({end_date:e})},disableFuture:!0}))),o.a.createElement(Pn.a,{display:"flex",justifyContent:"end",mt:2},o.a.createElement(He.a,{variant:"body2",color:"textSecondary",component:"small",align:"right"},"Formato de arquivo .csv")))})),Mo=$t(Sr.exportCsv,{name:"exportCsv",init:!1,options:function(e){var t=e.formData,a=e.setFormData,n=e.setAlert,r=e.onClose;t.validationErrors;return{variables:Object(ut.a)(t,["validationErrors"]),onRequestFinished:function(e){n({alertMsg:Object(N.get)(e,"flash_message.message"),alertType:"success",showAlert:!0}),r()},onRequestError:function(e){n({alertMsg:"Erro ao tentar exportar CSV",alertType:"error",showAlert:!0}),a({validationErrors:Object(N.get)(e,"errors",{})})}}}}),Fo=Object(Z.b)(r.memo,So((function(){return{start_date:null,end_date:null}})),Mo)((function(e){var t=e.isModalOpen,a=e.onClose,n=e.formData,r=e.setFormData,c=e.resetFormData,l=e.exportCsvFetch,i=e.exportCsvLoading,s=function(){c(),setTimeout(a,10)};return t&&o.a.createElement(No,{open:t,onClose:s,modalTitle:"Exportar todos os tickets",content:o.a.createElement(Do,{formData:n,setFormData:r,isLoading:i}),actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{color:"default",size:"large",variant:"contained",onClick:s,disabled:i},"CANCELAR"),o.a.createElement(Pn.a,{ml:2},o.a.createElement(me.a,{color:"primary",size:"large",variant:"contained",onClick:function(){return l(!0)},disabled:i},"EXPORTAR")))})})),Io=a(382),Ro=a.n(Io),Lo=a(380),Bo=a(381),Po=a.n(Bo),_o=window.location,qo=_o.host,zo=_o.protocol,Uo="".concat(zo,"//").concat(qo,"/#/public/tickets/novo"),Wo=Object(Z.b)(r.memo,Object(Z.h)("copyURL","setCopyURL",!1))((function(e){var t=e.isModalOpen,a=e.onClose,n=e.setCopyURL,r=e.copyURL,c=e.setAlert,l=function(){n(!0),c({alertMsg:"Link copiado com sucesso",alertType:"success",showAlert:!0}),setTimeout((function(){return n(!1)}),3e3)},i=I.getUserData(),s="".concat(Uo,"?c=").concat(v()(i,"company.id"));return t&&o.a.createElement(No,{open:t,onClose:a,modalTitle:"Formul\xe1rio p\xfablico de novo ticket",content:o.a.createElement(ue.a,{container:!0,direction:"row",justify:"center",align:"center",spacing:2},o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(He.a,{variant:"body2",color:"textSecondary"},"C\xf3digo QR do formul\xe1rio (n\xe3o requer login do usu\xe1rio)"),o.a.createElement("br",null),o.a.createElement(Po.a,{value:s,size:256}),o.a.createElement("br",null)),o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(Lo.CopyToClipboard,{text:s,onCopy:l},o.a.createElement(mt.a,{fullWidth:!0},o.a.createElement(kt.a,{htmlFor:"url"},"Link do formul\xe1rio (n\xe3o requer login do usu\xe1rio)"),o.a.createElement(Oa.a,{id:"url",type:"text",readOnly:!0,value:s,endAdornment:o.a.createElement(yr.a,{position:"end"},o.a.createElement(ka.a,{title:"Copiar link",arrow:!0,placement:"top"},o.a.createElement(Ze.a,{onClick:l},r?o.a.createElement(Ro.a,{color:"primary"}):o.a.createElement(Co.a,null))))})))))})})),Vo=function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{closeTicket:{cursor:"pointer",fontSize:14,fontWeight:"bold",marginRight:3},filterSelect:{minWidth:115}})},Ho=Object(Z.b)(r.memo,Object($.a)(Vo,{withTheme:!0}),h.g,Object(Z.h)("anchorEl","setAnchorEl",null),Object(Z.h)("isExportModalOpen","setIsExportModalOpen",!1),Object(Z.h)("isPublicNewTicketsOpen","setIsPublicNewTicketsOpen",!1))((function(e){var t=e.history,a=e.setAlert,n=e.anchorEl,r=e.setAnchorEl,c=e.isExportModalOpen,l=e.setIsExportModalOpen,i=e.isPublicNewTicketsOpen,s=e.setIsPublicNewTicketsOpen,u=e.isArchived,m=e.onToggleArchived,d=e.classes,b=Boolean(n),p=function(){r(null)};return o.a.createElement("div",null,o.a.createElement(Ze.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)}},o.a.createElement(lo.a,null)),o.a.createElement(Za.a,{id:"long-menu",anchorEl:n,keepMounted:!0,open:b,onClose:p,PaperProps:{style:{maxHeight:216}}},o.a.createElement(wt.a,{onClick:function(){var e=!u;Q.hit("Tickets".concat(e?"Archived":""," - Viewer")),p(),m(e)}},u?o.a.createElement(wo.a,{className:d.iconMenu}):o.a.createElement(xo.a,{className:d.iconMenu}),u?"Ver n\xe3o arquivados":"Ver arquivados"),o.a.createElement(wt.a,{onClick:function(){Q.hit("PublicNewTicketsModal - Opened"),p(),s(!0)}},o.a.createElement(ko.a,{className:d.iconMenu}),"Form\xfal\xe1rio p\xfablico"),o.a.createElement(wt.a,{onClick:function(){t.push("/tickets/relatorio")}},o.a.createElement(Co.a,{className:d.iconMenu}),"Relat\xf3rios"),o.a.createElement(wt.a,{onClick:function(){Q.hit("ExportTicketsCsvModal - Opened"),l(!0),p()}},o.a.createElement(Oo.a,{className:d.iconMenu}),"Exportar tickets")),o.a.createElement(Wo,{setAlert:a,isModalOpen:i,onClose:function(){Q.hit("PublicNewTicketsModal - Closed"),s(!1)}}),o.a.createElement(Fo,{setAlert:a,isModalOpen:c,onClose:function(){Q.hit("ExportTicketsCsvModal - Closed"),l(!1)}}))})),Yo=Object(Z.b)(Object(Z.h)("viewer","setViewer",{loading:!0}),Object(Z.h)("subscriptionReference","setSubscriptionReference",null),Object(Z.c)({componentDidMount:function(){var e=this,t=I.getUserData();this.props.setViewer(t);var a=I.subscribeOnViewerChange((function(t){e.props.setViewer(t)}));this.props.setSubscriptionReference(a)},componentWillUnmount:function(){I.unsubscribeOnViewerChange(this.props.subscriptionReference)}}),Object(Z.a)((function(e){return Object(N.get)(e,"viewer.loading")}),Object(Z.d)((function(){return null})))),Qo=function(e){return Object(f.a)(Object(f.a)({},Vo(e)),{},{paper:{overflowX:"auto",marginRight:"auto",marginLeft:"auto"},showMore:{display:"flex",margin:"0 auto",padding:15}})},Go=Jn.STATUSES,Jo=Object(r.memo)((function(e){var t=e.ticket,a=e.viewer,n=e.index,r=e.classes,c=e.onOpenTicket;if(!a)return null;var l=Object(N.get)(t,"created_at"),i=l?"".concat(A()(l).format("DD/MM/YYYY hh:mm")):"--",s=Object(N.get)(t,"archived_at"),u=s?"".concat(A()(s).format("DD/MM/YYYY hh:mm")):"--",m=Object(N.get)(t,"assignees",[]),d=Object(N.get)(t,"ticket_tags",[]),b=Object(N.get)(Object(N.find)(Go,(function(e){return e.key===Object(N.get)(t,"status")})),"label","--"),p=n%2?r.bgWhite:r.bgGray;return o.a.createElement(Ea.a,{className:p,style:{cursor:"pointer"},onClick:function(){return c(t)}},o.a.createElement(va.a,{className:r.tableTinyCell},o.a.createElement("span",{className:r.cellText},b)),o.a.createElement(va.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},Object(N.get)(t,"title"))),o.a.createElement(va.a,{className:r.tableTinyCell},o.a.createElement("span",{className:r.cellText},Object(N.get)(t,"category.title"))),o.a.createElement(va.a,{className:r.tableTinyCell},o.a.createElement("span",{className:r.cellText},d.map((function(e){return e.title})).join(", "))),o.a.createElement(va.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},i)),o.a.createElement(va.a,{className:r.tableSmallCell},o.a.createElement("div",{className:r.cardAvatarContainer},m.map((function(e){return o.a.createElement("div",{key:e.id,className:r.cardAvatarImage},o.a.createElement(Ba,{name:"".concat(Object(N.get)(e,"name")," ").concat(Object(N.get)(e,"lastname")),photoUrl:Object(N.get)(e,"photo_url")}))})))),o.a.createElement(va.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},u)))})),Xo=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Qo(e)),{},{cardAvatarImage:{marginRight:5,marginTop:5},cardAvatarContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap"}})}),{withTheme:!0}),Yo)(Jo),Ko=Object(r.memo)((function(e){var t=e.tickets,a=e.loading,n=e.setAlert,r=e.categories,c=e.tags,l=e.assignees,i=e.classes,s=e.ticketToOpenModal,u=e.onCloseTicketModal,m=e.onOpenTicketModal,d=e.showMore,b=e.showMoreLoading,p=e.onShowMoreArchiveds,g=ba()(t,["archived_at"]).reverse();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.container},o.a.createElement(Va.a,{className:i.paper},o.a.createElement(fa.a,null,o.a.createElement(ha.a,null,o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:i.tableTinyCell},"STATUS"),o.a.createElement(va.a,{className:i.tableSmallCell},"TICKET"),o.a.createElement(va.a,{className:i.tableTinyCell},"CATEGORIA"),o.a.createElement(va.a,{className:i.tableSmallCell},"ETIQUETAS"),o.a.createElement(va.a,{className:i.tableSmallCell},"SOLICITADO EM"),o.a.createElement(va.a,{className:i.tableSmallCell},"RESPONS\xc1VEIS"),o.a.createElement(va.a,{className:i.tableSmallCell},"ARQUIVADO EM"))),o.a.createElement(ja.a,null,a?o.a.createElement(Ea.a,null,o.a.createElement(va.a,{colSpan:7,align:"center"},o.a.createElement(pe,null))):ra()(g)?g.map((function(e,t){return o.a.createElement(Xo,{index:t,key:e.id,ticket:e,onOpenTicket:m,loading:a})})):o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:i.empty,colSpan:7,align:"center"},"Nenhum ticket arquivado")))),d&&o.a.createElement(me.a,{color:"primary",size:"large",onClick:p,disabled:b,className:i.showMore},b?"Carregando...":"Ver mais arquivados"))),o.a.createElement(oo,{open:!We()(s),ticket:s,categories:r,tags:c,assignees:l,onClose:u,setAlert:n}))})),Zo=Object(Z.b)(Object($.a)(Qo,{withTheme:!0}))(Ko),$o=Object(r.memo)((function(e){var t=e.classes,n=e.history;return o.a.createElement("section",{className:t.welcome},o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.root},o.a.createElement(He.a,{variant:"h5",className:t.center},o.a.createElement("b",null,"Organize suas demandas")),o.a.createElement("p",{className:t.center},"Organize de forma inteligente as demandas de seu ambiente de trabalho.",o.a.createElement("br",null),"Todos colaboradores podem abrir solicita\xe7\xf5es facilmente, seja no computador, celular, QR code ou Slack.",o.a.createElement("br",null),"Chega de dor de cabe\xe7a com planilhas ou sistemas que n\xe3o te servem mais."),o.a.createElement("p",{className:t.center},o.a.createElement("img",{src:a(587),width:500,alt:"Organize suas demandas"})),o.a.createElement("br",null),o.a.createElement("p",{className:t.center},o.a.createElement(me.a,{variant:"contained",color:"primary",size:"large",onClick:function(){I.setTicketsWelcomeVisited(),n.replace("/tickets")}},"Come\xe7ar")))))}));$o.propTypes={classes:ne.a.object,history:ne.a.object};var ec=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{welcome:{marginTop:30}})}),{withTheme:!0}),h.g)($o),tc=a(26),ac=a.n(tc),nc={getTags:function(){return z.get("/ticket_tags").then((function(e){return ac.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=ac.a.toCamelCase(e.errors)),e}))},createTag:function(e){var t=e.title;return z.post("/ticket_tags",{title:t}).then((function(e){return ac.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=ac.a.toCamelCase(e.errors)),e}))},updateTag:function(e){var t=e.id,a=e.title;return z.put("/ticket_tags/".concat(t),{title:a}).then((function(e){return ac.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=ac.a.toCamelCase(e.errors)),e}))},deleteTag:function(e){return z.delete("/ticket_tags/".concat(e)).then((function(e){return ac.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=ac.a.toCamelCase(e.errors)),e}))}},rc={getCategories:function(e){var t={};return e&&(t={deleted:e}),z.get("/ticket_categories",t).then((function(e){return ac.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=ac.a.toCamelCase(e.errors)),e}))},updateCategory:function(e){var t=e.id,a=e.title,n=e.assigneeIds,r=e.deadlineInDays,o=e.ticketFormQuestions,c=ac.a.toSnakeCase({id:t,title:a,assigneeIds:n,deadlineInDays:r,ticketFormQuestions:Object(N.map)(o,(function(e){return{id:e.id,question:Object(N.get)(e,"question"),fieldType:Object(N.get)(e,"fieldType"),required:Object(N.get)(e,"required"),options:Object(N.compact)(Object(N.split)(Object(N.get)(e,"options",""),",").map((function(e){return Object(N.trim)(e)})))}}))});return z.put("/ticket_categories/".concat(t),c).then((function(e){return ac.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=ac.a.toCamelCase(e.errors)),e}))},createCategory:function(e){var t=e.title,a=e.deadlineInDays,n=e.assigneeIds,r=ac.a.toSnakeCase({title:t,deadlineInDays:a,assigneeIds:n});return z.post("/ticket_categories",r).then((function(e){return ac.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=ac.a.toCamelCase(e.errors)),e}))},toggleCategory:function(e){return z.put("/ticket_categories/".concat(e,"/toggle_active"))},getCategoriesByCompany:function(e){return e?z.get("/public_ticket_categories",{company_id:e}):null}},oc=a(387),cc=a.n(oc),lc={get:function(){return Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.get("/subscription").then((function(e){return ac.a.toCamelCase(e)})));case 1:case"end":return e.stop()}}),e)})))()},create:function(e){return Object(m.a)(u.a.mark((function t(){var a,n,r,o,c,l,i,s,m,d,b,p;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.phone,n=e.cnpj,r=e.addressZipcode,o=e.addressNumber,c=e.addressComplementary,l=e.planName,i=e.planSeats,s=e.creditCardHash,m=e.creditCardId,d=(a||"").split(" "),b={phoneDdd:Ta()(d).replace(/[\D]+/g,""),phoneNumber:cc()(d).replace(/[\D]+/g,""),cnpj:(n||"").replace(/[\D]+/g,""),addressZipcode:(r||"").replace(/[\D]+/g,""),addressNumber:o,addressComplementary:c,planName:l,planSeats:i,creditCardHash:s,creditCardId:m},p=ac.a.toSnakeCase(b),t.abrupt("return",z.post("/subscriptions",p).then((function(e){return ac.a.toCamelCase(e)})));case 5:case"end":return t.stop()}}),t)})))()},update:function(e){return Object(m.a)(u.a.mark((function t(){var a,n,r,o,c,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.id,n=e.planName,r=e.planSeats,o=e.creditCardHash,c=e.creditCardId,l=ac.a.toSnakeCase({planName:n,planSeats:r,creditCardHash:o,creditCardId:c}),t.abrupt("return",z.put("/subscriptions/".concat(a),l).then((function(e){return ac.a.toCamelCase(e)})));case 3:case"end":return t.stop()}}),t)})))()},cancel:function(e){return Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",z.delete("/subscriptions/".concat(e)).then((function(e){return ac.a.toCamelCase(e)})));case 1:case"end":return t.stop()}}),t)})))()},undoCancelation:function(){return Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.put("/subscription/undo_cancelation/").then((function(e){return ac.a.toCamelCase(e)})));case 1:case"end":return e.stop()}}),e)})))()}},ic=Jn.STATUSES,sc=Jn.STATUS_DONE,uc=Object(N.find)(ic,(function(e){return e.key===sc})).key,mc=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.assigneeId,c=e.setAssigneeId,l=e.code,s=e.setCode,d=e.deadline,b=e.setDeadline,p=e.locationId,g=e.setLocationId,f=e.archived,h=e.setArchived,E=e.tickets,v=e.ticketsFetch,O=e.ticketByCodeFetch,j=e.priority,C=e.setPriority,y=e.ticketTagsData,k=e.ticketTagsError,w=e.ticketTagsLoading,T=e.status,x=e.setStatus,S=e.ticketsError,D=e.ticketsLoading,M=e.ticketCategoriesData,F=e.ticketLoading,R=e.ticketCategoriesError,L=e.ticketCategoriesLoading,B=e.categoryId,_=e.setCategoryId,q=e.ticketAssigneesData,z=e.ticketAssigneesError,U=e.ticketAssigneesLoading,W=e.history,V=e.ticketToOpenModal,H=e.setTicketToOpenModal,Y=e.ticketByCodeLoading,G=e.moveTicketFetch,J=e.showMoreArchiveds,X=e.setPerPage,K=e.setPage,Z=e.page,$=e.setTickets,ee=e.ticketTagId,ae=e.setTicketTagId,ne=e.showMoreLoading,re=e.setShowMoreLoading,oe=e.subscriptionData,ce=Object(Ca.a)(),le=Object(ya.a)(ce.breakpoints.down("sm")),ie=I.getUserData(),se=Object(N.get)(ie,"company.has_ticket_support"),de=Object(N.get)(ie,"role","MEMBER"),be=qa.includes(de),pe=_a.includes(de);if(se){if(!I.isTicketsWelcomeVisited())return o.a.createElement("div",{className:n.root},o.a.createElement(vn,null),o.a.createElement(ec,null));var ge=Object(N.sortBy)(Object(N.get)(ie,"locations",[]),["name"]),fe="MEMBER"===de,he=Object(N.filter)(E,(function(e){return e.status===uc})),Ee=Object(N.map)(he,(function(e){return e.id})),ve=Object(N.sortBy)(Object(N.get)(y,"ticketTags",[]),["title"]),Oe=Object(N.sortBy)(Object(N.get)(M,"ticketCategories",[]),["title"]),je=Object(N.sortBy)(Object(N.get)(q,"members",[]),["name","lastname"]),Ce=Object(N.get)(oe,"subscription"),ye=Object(N.get)(ie,"company.trial_expiration"),ke=D||L||w||U||Y||F,Ae=ke,we=Jn.PRIORITIES,Te=S||R||z||k,xe=function(e){X(e?20:void 0),K(e?0:void 0),$([])},Se=function(e){H(e),window.history.pushState("","","/#/tickets/".concat(e.id))},Ne=function(e,t){t&&a({alertMsg:t,alertType:e?"error":"success",showAlert:!0,actionButton:e?null:"Ver ticket",onClickAction:e?null:function(){return W.push("/tickets/".concat(V.id))}}),H(null),f||v(!1),window.history.pushState("","","/#/tickets")},De=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(!1,"",null,t);case 2:v(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(e){var t=e.target.value.replace(/[\D]+/g,"");l!==t&&s(t)},Fe=function(){Object(N.size)(l)&&it.isMobile()&&(H(null),O(!0))},Ie=function(e){Object(N.size)(l)&&13===e.keyCode&&(H(null),O(!0))},Re=function(e){var t=Object(N.get)(e,"target.value","all");c(t);var a={select_assignee:t};Q.hit("Tickets - FilteredByAssignee",a),xe(f),v(!0)},Le=function(e){b(e),Q.hit("Tickets - FilteredByDeadline"),xe(f),v(!0)},Be=function(e){var t=Object(N.get)(e,"target.value","all");C(t);var a={priority:j};Q.hit("Tickets - FilteredByPriority",a),xe(f),v(!0)},Pe=function(e){var t=Object(N.get)(e,"target.value","all");_(t);var a={select_category:t};Q.hit("Tickets - FilteredByCategory",a),xe(f),v(!0)},_e=function(e){var t=Object(N.get)(e,"target.value","all");ae(t);var a={select_tag:t};Q.hit("Tickets - FilteredByTicketTag",a),xe(f),v(!0)},qe=function(e){var t=Object(N.get)(e,"target.value","all");g(t);var a={select_location:t};Q.hit("Tickets - FilteredByLocation",a),xe(f),v(!0)},ze=function(e){var t=Object(N.get)(e,"target.value","all");x(t);var a={select_status:t};Q.hit("Tickets - FilteredByStatus",a),xe(f),v(!0)},Ue=t.showAlert,We=t.alertType,Ye=t.alertMsg,Qe=t.actionButton,Ge=t.onClickAction,Je=null;Ue&&(Je=o.a.createElement(nt,{message:Ye,type:We,actionButton:Qe,onClickAction:Ge,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1,actionButton:null,onClickAction:null})}}));var Xe=function(){return o.a.createElement(ue.a,{container:!0,spacing:2},o.a.createElement(ue.a,{item:!0,xs:6,sm:3,md:1},o.a.createElement(mt.a,{fullWidth:!0},o.a.createElement(Ve.a,{label:"Busca",placeholder:"N\u02da",disabled:Ae,value:l,type:"tel",InputLabelProps:{shrink:!0},onKeyDown:Ie,onBlur:Fe,onChange:Me}))),Object(N.size)(ge)>1&&o.a.createElement(ue.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(mt.a,{fullWidth:!0},o.a.createElement(Ve.a,{select:!0,label:"Local",className:n.filterSelect,disabled:Ae,value:p,InputLabelProps:{shrink:!0},onChange:qe},o.a.createElement(wt.a,{value:"all"},"Todos"),ge.map((function(e){return o.a.createElement(wt.a,{key:e.id,value:e.id},e.name)}))))),!fe&&o.a.createElement(ue.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(mt.a,{fullWidth:!0},o.a.createElement(Ve.a,{select:!0,label:"Respons\xe1vel",className:n.filterSelect,disabled:Ae,value:r,InputLabelProps:{shrink:!0},onChange:Re},o.a.createElement(wt.a,{value:"all"},"Todos"),o.a.createElement(wt.a,{value:""},"Nenhum"),je.map((function(e){return o.a.createElement(wt.a,{key:e.id,value:e.id},e.fullname)}))))),o.a.createElement(ue.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(mt.a,{fullWidth:!0},o.a.createElement(Ve.a,{select:!0,label:"Categoria",className:n.filterSelect,disabled:Ae,value:B,InputLabelProps:{shrink:!0},onChange:Pe},o.a.createElement(wt.a,{value:"all"},"Todos"),Oe.map((function(e){return o.a.createElement(wt.a,{key:e.id,value:e.id},e.title)}))))),Object(N.size)(ve)&&o.a.createElement(ue.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(mt.a,{fullWidth:!0},o.a.createElement(Ve.a,{select:!0,label:"Etiqueta",className:n.filterSelect,disabled:Ae,value:ee,InputLabelProps:{shrink:!0},onChange:_e},o.a.createElement(wt.a,{value:"all"},"Todas"),ve.map((function(e){return o.a.createElement(wt.a,{key:e.id,value:e.id},e.title)}))))),f&&o.a.createElement(ue.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(mt.a,{fullWidth:!0},o.a.createElement(Ve.a,{select:!0,label:"Status",className:n.filterSelect,disabled:Ae,value:T,InputLabelProps:{shrink:!0},onChange:ze},o.a.createElement(wt.a,{value:"all"},"Todos"),ic.map((function(e){return o.a.createElement(wt.a,{key:e.key,value:e.key},e.label)}))))),o.a.createElement(ue.a,{item:!0,xs:6,sm:3,md:"auto"},o.a.createElement(mt.a,{fullWidth:!0},o.a.createElement(Ve.a,{select:!0,label:"Prioridade",className:n.filterSelect,disabled:Ae,value:j,InputLabelProps:{shrink:!0},onChange:Be},o.a.createElement(wt.a,{value:"all"},"Todas"),we.map((function(e){return o.a.createElement(wt.a,{key:e.key,value:e.key},e.label)}))))),o.a.createElement(ue.a,{item:!0,xs:6,sm:3,md:1},o.a.createElement(mt.a,{fullWidth:!0},o.a.createElement(St.a,{libInstance:A.a,utils:xt.a,locale:P.locale},o.a.createElement(Nt.a,{autoOk:!0,label:"Prazo",clearable:!0,animateYearScrolling:!0,className:n.filterSelect,disabled:Ae,invalidDateMessage:"Formato inv\xe1lido",InputLabelProps:{shrink:!0},value:d,onChange:Le,placeholder:"DD/MM/YYYY",format:"DD/MM/YYYY",cancelLabel:"Cancelar",clearLabel:"Limpar"})))))},Ke="Tickets".concat(f?" arquivados":"");return o.a.createElement("div",{className:n.root},o.a.createElement(vn,{alertBox:Je,error:Te}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement(fo,{trialExpiration:ye,willDowngradeAt:Object(N.get)(Ce,"willDowngradeAt"),willCancelAt:Object(N.get)(Ce,"willCancelAt")}),o.a.createElement(Pn.a,{display:"flex",justifyContent:"space-between",mb:2},o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,Object(N.size)(E)?"".concat(Ke," (").concat(Object(N.size)(E),")"):Ke)),o.a.createElement(Pn.a,{display:"flex"},o.a.createElement(me.a,{variant:"contained",component:i.b,to:"/tickets/novo",color:"primary",size:"large",disabled:Ae,className:le?n.fab:null},"Novo ticket"),be&&o.a.createElement(Pn.a,{ml:1},o.a.createElement(Ho,{setAlert:a,isArchived:f,onToggleArchived:function(e){h(e),xe(e),v(!0)}})))),le?be&&o.a.createElement(_n.a,null,o.a.createElement(qn.a,{expandIcon:o.a.createElement(Wn.a,null)},o.a.createElement(He.a,{variant:"subtitle1"},"Filtros")),o.a.createElement(zn.a,null,Xe())):be&&Xe()),f?o.a.createElement(Zo,{tickets:E,ticketToOpenModal:V,categories:Oe,tags:ve,assignees:je,loading:ke,onOpenTicketModal:Se,onCloseTicketModal:Ne,onShowMoreArchiveds:function(){re(!0),X(20),K(Z+1),v(!1)},showMore:J,showMoreLoading:ne,setAlert:a}):o.a.createElement("div",{className:n.container},o.a.createElement(ue.a,{container:!0},o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(bo,{isManager:be,ticketsFetch:v,doneTickets:Ee,lockBoard:fe,tickets:E,ticketToOpenModal:V,categories:Oe,tags:ve,assignees:je,loading:ke,onClickCard:Se,onDragCard:De,onCloseCardModal:Ne,setAlert:a}))))))}return o.a.createElement("div",{className:n.root},o.a.createElement(vn,null),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement(ue.a,{container:!0,spacing:1},o.a.createElement("div",{className:n.centerHeaderView},pe?o.a.createElement(Eo,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{className:n.emptyHeaderIcon}),o.a.createElement("b",{className:n.emptyHeaderTitle},"Essa conta n\xe3o possui o servi\xe7o de tickets")))))))})),dc=$t(lc.get,{name:"subscription"}),bc=$t(rc.getCategories,{name:"ticketCategories"}),pc=$t(nc.getTags,{name:"ticketTags"}),gc=$t(Sr.getAssignables,{name:"ticketAssignees"}),fc=$t(Sr.moveTicket,{name:"moveTicket",init:!1,options:function(e){var t=e.setAlert;return{onRequestError:function(e){var a=e.errors?Object.values(e.errors).flat().join():"Erro ao mover esse ticket";t({alertMsg:a,alertType:"error",showAlert:!0})}}}}),hc=$t(Sr.getTicketByCode,{name:"ticketByCode",init:!1,options:function(e){var t=e.setAlert,a=e.setCode,n=e.setTicketToOpenModal,r=e.code;return{variables:r,onRequestFinished:function(e){var t=Object(N.get)(e,"ticket");n(t),a(""),window.history.pushState("","","/#/tickets/".concat(t.id))},onRequestError:function(){n(null),t({alertMsg:"Ticket ".concat(r," n\xe3o foi identificado"),alertType:"warning",showAlert:!0}),window.history.pushState("","","/#/tickets")}}}}),Ec=$t(Sr.getTicket,{name:"ticket",init:!1,options:function(e){var t=e.match,a=e.setAlert,n=e.setTicketToOpenModal;return{variables:Object(N.get)(t,"params.id"),onRequestFinished:function(e){var t=Object(N.get)(e,"ticket");n(t),window.history.pushState("","","/#/tickets/".concat(t.id))},onRequestError:function(){n(null),a({alertMsg:"Este ticket n\xe3o foi identificado",alertType:"warning",showAlert:!0}),window.history.pushState("","","/#/tickets")}}}}),vc=$t(Sr.getTickets,{name:"tickets",init:!1,options:function(e){var t=e.locationId,a=e.assigneeId,n=e.categoryId,r=e.deadline,o=e.priority,c=e.archived,l=e.status,i=e.perPage,s=e.page,u=e.setShowMoreArchiveds,m=e.setTickets,d=e.tickets,b=e.setShowMoreLoading;return{variables:{locationId:t,ticketTagId:e.ticketTagId,assigneeId:a,categoryId:n,deadline:r,priority:o,archived:c,status:l,perPage:i,page:s},onRequestFinished:function(e){var t=Object(N.get)(e,"tickets",[]);c?(u(Object(N.size)(t)>=i),m(d.concat(t))):m(t),b(!1)},onRequestError:function(){b(!1)}}}}),Oc=Object(Z.b)(Object($.a)(Vo,{withTheme:!0}),h.g,Object(Z.h)("assigneeId","setAssigneeId","all"),Object(Z.h)("code","setCode",""),Object(Z.h)("tickets","setTickets",[]),Object(Z.h)("ticketToOpenModal","setTicketToOpenModal"),Object(Z.h)("categoryId","setCategoryId","all"),Object(Z.h)("ticketTagId","setTicketTagId","all"),Object(Z.h)("locationId","setLocationId","all"),Object(Z.h)("priority","setPriority","all"),Object(Z.h)("status","setStatus","all"),Object(Z.h)("deadline","setDeadline",null),Object(Z.h)("archived","setArchived",!1),Object(Z.h)("perPage","setPerPage"),Object(Z.h)("page","setPage"),Object(Z.h)("showMoreArchiveds","setShowMoreArchiveds",!1),Object(Z.h)("showMoreLoading","setShowMoreLoading",!1),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1,actionButton:null,onClickAction:null}),dc,vc,Ec,hc,pc,bc,gc,fc,Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.ticketsFetch,a=e.ticketFetch,n=e.ticketToOpenModal,r=e.match,o=Object(N.get)(r,"params.id");Object(N.isEmpty)(n)&&t(!0),Object(N.size)(o)&&a(!1)}}))(mc),jc=Object(r.memo)((function(e){var t=e.id,a=e.classes,n=e.required,r=e.disabled,c=e.question,l=e.options,i=e.fieldType,s=e.showBlankError,u=e.onChangeQuestion,m=e.onCheckOption,d=s&&n;return"CHECKBOX"===i?o.a.createElement(mt.a,{component:"fieldset",className:a.checkboxControl,fullWidth:!0,error:d},o.a.createElement(dt.a,{component:"legend"},c),o.a.createElement(Mt.a,null,l.map((function(e){return o.a.createElement(Ft.a,{key:e,label:e,control:o.a.createElement(It.a,{color:"primary",disabled:r,onChange:function(a){return m(e,a.target.checked,t)}})})}))),d&&o.a.createElement(dt.a,null,"selecione uma op\xe7\xe3o")):"SELECT"===i?o.a.createElement(mt.a,{fullWidth:!0,error:d},o.a.createElement(Ve.a,{select:!0,label:c,className:a.questionInput,disabled:r,InputLabelProps:{shrink:!0},SelectProps:{native:!0},onChange:function(e){return u(e.target.value,t)},variant:"outlined",error:d},l.map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),d&&o.a.createElement(dt.a,null,"selecione uma op\xe7\xe3o")):o.a.createElement(mt.a,{fullWidth:!0,error:d},o.a.createElement(Ve.a,{label:c,className:a.questionInput,multiline:"TEXT_AREA"===i,rows:"TEXT_AREA"===i?4:1,rowsMax:"TEXT_AREA"===i?4:1,disabled:r,InputLabelProps:{shrink:!0},onChange:function(e){return u(e.target.value,t)},variant:"outlined",error:d}),d&&o.a.createElement(dt.a,null,"este campo est\xe1 em branco"))})),Cc=Object(Z.b)(Object($.a)((function(e){return{checkboxControl:{margin:e.spacing(2)},questionInput:{marginTop:14}}}),{withTheme:!0}))(jc),yc=Jn.PRIORITIES,kc=Jn.PRIORITY_NORMAL,Ac=function(){var e=I.getUserData(),t=Object(N.sortBy)(Object(N.get)(e,"locations",[]),["name"]);return{title:"",description:"",category_id:"",deadline:null,priority:kc,source:"PORTAL",location_id:Object(N.get)(Object(N.first)(t),"id"),attachment_data:null,ticket_form_questions:Object(N.clone)([])}},wc=function(e,t){var a=Object(N.find)(e,(function(e){return e.id===t})),n=Object(N.get)(a,"ticketFormQuestions",[]);return Object(N.map)(n,(function(e){var t="SELECT"===e.fieldType?Object(N.compact)([Object(N.first)(Object(N.get)(e,"options"))]):[];return Object(f.a)(Object(f.a)({},e),{},{value:t})}))},Tc=Object(r.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.ticket,c=e.setTicketState,l=e.ticketLoading,s=e.ticketFetch,u=e.errors,m=e.ticketCategoriesLoading,d=e.categories,b=e.setShowQuestionError,p=e.isUploading,g=e.setIsUploading,f=e.showQuestionError,h=Object(Ca.a)(),E=Object(ya.a)(h.breakpoints.down("sm")),v=I.getUserData(),O=Object(N.get)(v,"company.has_ticket_support"),j=_a.includes(Object(N.get)(v,"role"));if(O){var C=a.showAlert,y=a.alertMsg,k=a.alertType,w=a.actionButton,T=a.onClickAction,x=null;C&&(x=o.a.createElement(nt,{message:y,type:k,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1,actionButton:""})},actionButton:w,onClickAction:T}));var S=Object(N.sortBy)(Object(N.get)(v,"locations",[]),["name"]),D=qa.includes(Object(N.get)(v,"role")),M=m||l,F=M||p,R=function(){var e=Object(N.get)(r,"ticket_form_questions",[]),t=Object(N.reject)(e,(function(e){return!e.required}));return Boolean(Object(N.size)(Object(N.reject)(t,(function(e){return Object(N.size)(e.value)}))))},L=function(e,t){var a=Object(N.get)(r,"ticket_form_questions",[]),n=Object(N.findIndex)(a,(function(e){return e.id===t}));Object(N.set)(r,"ticket_form_questions[".concat(n,"].value"),[e]),b(R())},B=function(e,t,a){var n=Object(N.get)(r,"ticket_form_questions",[]),o=Object(N.findIndex)(n,(function(e){return e.id===a})),c=n[o].value;c=t?c.concat(e):c.filter((function(t){return t!==e})),Object(N.set)(r,"ticket_form_questions[".concat(o,"].value"),c),b(R())},_=Object(N.get)(r,"ticket_form_questions",[]);return o.a.createElement("div",{className:t.root},o.a.createElement(vn,{alertBox:x}),o.a.createElement("section",null,o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,"Novo ticket"))))),o.a.createElement("br",null),o.a.createElement("form",{className:t.container},o.a.createElement(Va.a,{className:t.paper},o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Solicita\xe7\xe3o")),o.a.createElement(ue.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(pt,{label:"No que podemos te ajudar?",errors:Object(N.get)(u,"title",[]),className:t.input,disabled:M,placeholder:"Ex.: Banheiro entupido, m\xe1quina de caf\xe9 com defeito, etc",value:Object(N.get)(r,"title",""),onChange:function(e){return c({title:e.target.value})}}),Object(N.size)(S)>1&&o.a.createElement(Tt,{label:"Local",errors:Object(N.get)(u,"location_id",[]),className:t.input,disabled:M,value:Object(N.get)(r,"location_id"),onChange:function(e){return c({location_id:e.target.value})},options:S,optionValueField:"id",optionLabelField:"name"}),o.a.createElement(Tt,{label:"Categoria",errors:Object(N.get)(u,"category_id",[]),className:t.input,disabled:M,value:Object(N.get)(r,"category_id"),onChange:function(e){var t=e.target.value;c({category_id:t,ticket_form_questions:wc(d,t)}),b(!1)},options:d,optionValueField:"id",optionLabelField:"title"}),Object(N.map)(_,(function(e){return o.a.createElement(Cc,{key:Object(N.get)(e,"id"),id:Object(N.get)(e,"id"),question:e.question,options:Object(N.get)(e,"options"),fieldType:e.fieldType,required:e.required,disabled:F,showBlankError:f,onChangeQuestion:L,onCheckOption:B})})),o.a.createElement(pt,{label:"Descri\xe7\xe3o",multiline:!0,rows:4,rowsMax:4,errors:Object(N.get)(u,"comments")||Object(N.get)(u,"description")||[],className:t.input,disabled:M,placeholder:"Descreva mais detalhes sobre esta ocorr\xeancia...",value:Object(N.get)(r,"description",""),onChange:function(e){return c({description:e.target.value})}}))),D&&o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement(He.a,{variant:"h6",className:t.deadline},o.a.createElement("b",null,"Deadline")),o.a.createElement(ue.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(mt.a,{fullWidth:!0},o.a.createElement(St.a,{libInstance:A.a,utils:xt.a,locale:P.locale},o.a.createElement(Nt.a,{autoOk:!0,label:"Prazo",clearable:!0,animateYearScrolling:!0,className:t.input,disabled:M,invalidDateMessage:"Formato inv\xe1lido",variant:"outlined",inputVariant:"outlined",InputLabelProps:{shrink:!0},value:Object(N.get)(r,"deadline"),onChange:function(e){return c({deadline:e})},format:"DD/MM/YYYY",cancelLabel:"Cancelar",clearLabel:"Limpar"})))),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(mt.a,{fullWidth:!0,error:!!u.priority},o.a.createElement(Ve.a,{select:!0,label:"Prioridade",error:!!u.priority,className:E?t.priorityIput:"",disabled:M,value:Object(N.get)(r,"priority"),InputLabelProps:{shrink:!0},SelectProps:{native:!0},onChange:function(e){return c({priority:e.target.value})},variant:"outlined"},Object(N.map)(yc,(function(e){return o.a.createElement("option",{value:e.key,key:e.key},e.label)}))),u.priority&&o.a.createElement(dt.a,null,u.priority))))),o.a.createElement("br",null),o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Mais detalhes")),o.a.createElement("br",null),o.a.createElement(ue.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement("div",null,o.a.createElement(Yt,{value:Object(N.get)(r,"attachment_data",null),onChange:function(e){c({attachment_data:e}),g(Object(N.get)(e,"progressPercent",100)<100)},disabled:M,accept:"image/*,.doc,.docx,.xls,.xlsx,.pdf,.xml"})),o.a.createElement("div",{className:t.actions},o.a.createElement(me.a,{component:i.b,to:"/tickets",color:"default",size:"large",disabled:M,className:t.cancel},"Voltar"),o.a.createElement(me.a,{variant:"contained",color:"primary",size:"large",disabled:F,onClick:function(){if(Object(N.isEmpty)(S))n({alertMsg:"N\xe3o foi informado o local da ocorr\xeancia",alertType:"error",showAlert:!0});else{var e=R();b(e),e||s(!0)}}},F?"Aguarde...":"Enviar"))))))))}return o.a.createElement("div",{className:t.root},o.a.createElement(vn,null),o.a.createElement("section",null,o.a.createElement("div",{className:t.container},o.a.createElement(ue.a,{container:!0,spacing:1},o.a.createElement("div",{className:t.centerHeaderView},j?o.a.createElement(Eo,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{className:t.emptyHeaderIcon}),o.a.createElement("b",{className:t.emptyHeaderTitle},"Essa conta n\xe3o possui o servi\xe7o de tickets")))))))})),xc=$t(rc.getCategories,{name:"ticketCategories",options:function(e){var t=e.setTicketState,a=e.setCategories,n=e.selectedCategory,r=e.selectedLocation;return{onRequestFinished:function(e){var o=I.getUserData(),c=Object(N.sortBy)(Object(N.get)(e,"ticketCategories",[]),["title"]),l=Object(N.sortBy)(Object(N.get)(o,"locations",[]),["name"]),i=function(e,t){var a=Object(N.find)(e,(function(e){return Object(N.toLower)(e.title)===Object(N.toLower)(t)||e.id===t}));return Object(N.get)(a,"id")||Object(N.get)(Object(N.first)(e),"id")}(c,n),s=function(e,t){var a=Object(N.find)(e,(function(e){return Object(N.toLower)(e.name)===Object(N.toLower)(t)||e.id===t}));return Object(N.get)(a,"id")||Object(N.get)(Object(N.first)(e),"id")}(l,r);a(c),t({category_id:i,location_id:s,ticket_form_questions:wc(c,i)})}}}}),Sc=$t(Sr.postTicket,{name:"ticket",init:!1,options:function(e){var t=e.ticket,a=e.setTicketState,n=e.setAlert,r=e.categories,o=e.history,c=e.setErrors;return{variables:t,onRequestFinished:function(e){document.querySelector("form").reset();var t=Object(N.get)(Object(N.first)(r),"id");a(Object(f.a)(Object(f.a)({},Ac()),{},{category_id:t,ticket_form_questions:wc(r,t)}));var l=Object(N.get)(e,"ticket.id");n({alertMsg:"Ticket registrado com sucesso",alertType:"success",showAlert:!0,actionButton:"Ver ticket",onClickAction:function(){return o.push("/tickets/".concat(l))}}),c({})},onRequestError:function(e){c(Object(N.get)(e,"errors",{})),n({alertMsg:Object(N.get)(e,"error")||"Erro ao registrar esse ticket",alertType:"error",showAlert:!0})}}}}),Nc=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{cancel:{marginRight:20},input:{marginTop:0,marginBottom:-8},priorityIput:{marginTop:8},deadline:{marginBottom:20}})}),{withTheme:!0}),h.g,Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("ticket","setTicket",Ac),Object(Z.h)("categories","setCategories",[]),Object(Z.h)("showQuestionError","setShowQuestionError",!1),Object(Z.h)("isUploading","setIsUploading",!1),Object(Z.h)("selectedCategory","setSelectedCategory"),Object(Z.h)("selectedLocation","setSelectedLocation"),Object(Z.h)("errors","setErrors",{}),Object(Z.e)({setTicketState:function(e){var t=e.setTicket,a=e.ticket;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),xc,Sc,Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.location,a=e.setTicketState,n=e.setSelectedCategory,r=e.setSelectedLocation,o=new URLSearchParams(t.search),c=(o.get("utm_source")||"").toUpperCase();n(o.get("category")||o.get("category_id")||o.get("categoria")),r(o.get("location")||o.get("location_id")||o.get("local")),"QRCODE"===c&&a({source:"QRCODE"})}}))(Tc),Dc=Object(r.memo)((function(e){var t=e.messageText,a=e.classes;return o.a.createElement("div",{className:a.root},o.a.createElement("section",null,o.a.createElement(ue.a,{container:!0,spacing:1},o.a.createElement("div",{className:a.centerHeaderView},o.a.createElement(te.a,{className:a.emptyHeaderIcon}),o.a.createElement("b",{className:a.emptyHeaderTitle},t)))))}));Dc.propTypes={classes:ne.a.object,messageText:ne.a.string};var Mc=Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0})(Dc),Fc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.condition,a=e.messageText,n=void 0===a?"Voc\xea n\xe3o possui permiss\xe3o de acesso a esta \xe1rea.":a;return function(e){return Yo((function(a){return a.viewer?t(a.viewer)?o.a.createElement(Mc,{messageText:n}):o.a.createElement(e,a):null}))}},Ic=Object(r.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.children,c=a.showAlert,l=a.alertMsg,i=a.alertType,s=null;return c&&(s=o.a.createElement(nt,{message:l,type:i,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1})}})),o.a.createElement("div",{className:t.root},o.a.createElement(vn,{alertBox:s}),o.a.createElement("section",{className:t.container},o.a.cloneElement(r,{setAlert:n})))})),Rc=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}))(Ic),Lc=function(e){return function(t){var a=ie(e);return o.a.createElement(Rc,t,o.a.createElement(a,t))}},Bc={id:"ALL",name:"Todos"},Pc=Object(r.memo)((function(e){var t=e.viewer,a=e.setFormData,n=e.isLoading,r=e.onSubmit,c=e.formData,l=c.location_id,i=c.start_date,s=c.end_date,u=c.validationErrors,m=Object(N.concat)(Bc,Object(N.sortBy)(Object(N.get)(t,"locations",[]),["name"]));return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{container:!0,spacing:3,alignItems:"center"},o.a.createElement(ue.a,{item:!0,xs:12,sm:2},o.a.createElement(Tt,{variant:"standard",label:"Local",errors:u.location_id,disabled:n,value:l,onChangeText:function(e){return a({location_id:e})},options:m,optionValueField:"id",optionLabelField:"name"})),o.a.createElement(ue.a,{item:!0,xs:12,sm:2},o.a.createElement(Dt,{variant:"standard",errors:u.start_date,label:"Data de in\xedcio",disabled:n,value:i,onChangeValue:function(e){return a({start_date:e})},disableFuture:!0})),o.a.createElement(ue.a,{item:!0,xs:12,sm:2},o.a.createElement(Dt,{variant:"standard",errors:u.end_date,label:"Data de fim",disabled:n,value:s,onChangeValue:function(e){return a({end_date:e})},disableFuture:!0})),o.a.createElement(ue.a,{item:!0,xs:12,sm:3},o.a.createElement(me.a,{color:"primary",size:"large",variant:"contained",onClick:r,disabled:n},"Gerar Relat\xf3rio"))))})),_c=function(e){return e?A.a.duration(e).humanize():" - "},qc=function(e){var t=e.data,a=t.created,n=t.done,r=t.in_progress,c=t.time_to_reply,l=t.time_to_finish;return o.a.createElement(fa.a,null,o.a.createElement(ha.a,null,o.a.createElement(Ea.a,null,o.a.createElement(va.a,null,"Criados"),o.a.createElement(va.a,null,"Conclu\xeddos"),o.a.createElement(va.a,null,"Em Andamento"),o.a.createElement(va.a,null,"Tempo de Resposta"),o.a.createElement(va.a,null,"Tempo de Resolu\xe7\xe3o"))),o.a.createElement(ja.a,null,o.a.createElement(Ea.a,null,o.a.createElement(va.a,null,a),o.a.createElement(va.a,null,n),o.a.createElement(va.a,null,r),o.a.createElement(va.a,null,_c(c)),o.a.createElement(va.a,null,_c(l)))))},zc=function(e){var t=e.data,a=e.classes;return o.a.createElement(fa.a,null,o.a.createElement(ha.a,null,o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:a.tableSmallCell},"Categoria"),o.a.createElement(va.a,null,"Criados"),o.a.createElement(va.a,null,"Conclu\xeddos"),o.a.createElement(va.a,null,"Em Andamento"),o.a.createElement(va.a,null,"Tempo de Resposta"),o.a.createElement(va.a,null,"Tempo de Resolu\xe7\xe3o"))),o.a.createElement(ja.a,null,Object(N.map)(t,(function(e){return o.a.createElement(Ea.a,{key:e.category_title},o.a.createElement(va.a,{className:a.tableSmallCell},e.category_title),o.a.createElement(va.a,null,e.created),o.a.createElement(va.a,null,e.done),o.a.createElement(va.a,null,e.in_progress),o.a.createElement(va.a,null,_c(e.time_to_reply)),o.a.createElement(va.a,null,_c(e.time_to_finish)))}))))},Uc=function(e){var t=e.data,a=e.classes;return o.a.createElement(fa.a,null,o.a.createElement(ha.a,null,o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:a.tableSmallCell},"Respons\xe1vel"),o.a.createElement(va.a,null,"Criados"),o.a.createElement(va.a,null,"Conclu\xeddos"),o.a.createElement(va.a,null,"Em Andamento"),o.a.createElement(va.a,null,"Tempo de Resposta"),o.a.createElement(va.a,null,"Tempo de Resolu\xe7\xe3o"))),o.a.createElement(ja.a,null,Object(N.map)(t,(function(e){return o.a.createElement(Ea.a,{key:e.assignee_full_name},o.a.createElement(va.a,{className:a.tableSmallCell},e.assignee_full_name),o.a.createElement(va.a,null,e.created),o.a.createElement(va.a,null,e.done),o.a.createElement(va.a,null,e.in_progress),o.a.createElement(va.a,null,_c(e.time_to_reply)),o.a.createElement(va.a,null,_c(e.time_to_finish)))}))))},Wc=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),r.memo)((function(e){var t=e.classes,a=e.reportData;return e.isLoading?o.a.createElement(pe,null):a&&a.totals?o.a.createElement(o.a.Fragment,null,o.a.createElement(Pn.a,{mt:2},o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Total")),o.a.createElement(qc,{data:a.totals})),o.a.createElement(Pn.a,{mt:2},o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Por Categoria")),o.a.createElement(zc,{data:a.by_category,classes:t})),o.a.createElement(Pn.a,{mt:2},o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Por Respons\xe1vel")),o.a.createElement(Uc,{data:a.by_assignee,classes:t}))):null})),Vc=$t(Sr.report,{name:"report",init:!1,options:function(e){var t=e.formData,a=e.setFormData,n=e.setAlert;t.validationErrors;return{variables:Object(ut.a)(t,["validationErrors"]),onRequestError:function(e){n({alertMsg:"Erro ao tentar gerar relat\xf3rio",alertType:"error",showAlert:!0}),a({validationErrors:Object(N.get)(e,"errors",{})})}}}}),Hc=Object(Z.b)(r.memo,Fc({condition:function(e){return!qa.includes(e.role)}}),Lc,So((function(){var e=A()().date()>1?0:1;return{location_id:"ALL",start_date:A()().subtract(e,"month").startOf("month"),end_date:A()()}})),Vc)((function(e){var t=e.viewer,a=e.formData,n=e.setFormData,r=e.reportFetch,c=e.reportLoading,l=e.reportData;return o.a.createElement(o.a.Fragment,null,o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,"Relat\xf3rio de Tickets")),o.a.createElement(Pc,{viewer:t,formData:a,setFormData:n,isLoading:c,onSubmit:function(){return r(!0)}}),o.a.createElement(Wc,{reportData:l,isLoading:c}))})),Yc={getLocations:function(e){var t=e.listInactive,a=e.listAll,n=ac.a.toSnakeCase({listInactive:t,listAll:a});return z.get("/locations",n)},createLocation:function(e){return z.post("/locations",e)},updateLocation:function(e){var t=e.id,a=e.changes;return z.put("/locations/".concat(t),a)},toggleActive:function(e){return z.delete("/locations/".concat(e,"/toggle_active"))},getLocationsByCompany:function(e){if(e){var t=ac.a.toSnakeCase({companyId:e});return z.get("/public_locations",t)}return null}},Qc={getCompany:function(e){return z.get("/public_companies/".concat(e))}},Gc=Jn.PRIORITY_NORMAL,Jc=function(){return{title:"",description:"",category_id:"",deadline:null,priority:Gc,source:"PORTAL",location_id:"",attachment_data:null,ticket_form_questions:Object(N.clone)([]),email:"",name:"",lastname:""}},Xc=function(e,t){var a=Object(N.find)(e,(function(e){return e.id===t})),n=Object(N.get)(a,"ticket_form_questions",[]);return Object(N.map)(n,(function(e){var t="SELECT"===Object(N.get)(e,"field_type")?Object(N.compact)([Object(N.first)(Object(N.get)(e,"options"))]):[];return Object(f.a)(Object(f.a)({},e),{},{value:t})}))},Kc=Object(r.memo)((function(e){var t=e.classes,a=e.alert,n=e.setAlert,r=e.ticket,c=e.setTicketState,l=e.ticketLoading,i=e.errors,s=e.ticketFetch,u=e.companyId,m=e.locationsData,d=e.locationsLoading,b=e.showQuestionError,p=e.ticketCategoriesLoading,g=e.categories,f=e.setShowQuestionError,h=e.isUploading,E=e.setIsUploading,v=e.companyData,O=e.companyLoading;if(u){var j=a.showAlert,C=a.alertMsg,y=a.alertType,k=a.actionButton,A=a.onClickAction,w=function(){var e=Object(N.get)(r,"ticket_form_questions",[]),t=Object(N.reject)(e,(function(e){return!e.required}));return Boolean(Object(N.size)(Object(N.reject)(t,(function(e){return Object(N.size)(e.value)}))))},T=function(e,t){var a=Object(N.get)(r,"ticket_form_questions",[]),n=Object(N.findIndex)(a,(function(e){return e.id===t}));Object(N.set)(r,"ticket_form_questions[".concat(n,"].value"),[e]),f(w())},x=function(e,t,a){var n=Object(N.get)(r,"ticket_form_questions",[]),o=Object(N.findIndex)(n,(function(e){return e.id===a})),c=n[o].value;c=t?c.concat(e):c.filter((function(t){return t!==e})),Object(N.set)(r,"ticket_form_questions[".concat(o,"].value"),c),f(w())},S=Object(N.get)(v,"company.name",""),D=Object(N.get)(r,"ticket_form_questions",[]),M=Object(N.sortBy)(Object(N.get)(m,"locations",[]),["name"]),F=Object(N.isEmpty)(M)||Object(N.isEmpty)(g)||p||l||d||O,I=F||h;return o.a.createElement("div",{className:t.root},j&&o.a.createElement(nt,{message:C,type:y,onClose:function(){return n({alertMsg:"",alertType:"",showAlert:!1,actionButton:""})},actionButton:k,onClickAction:A}),o.a.createElement("section",null,o.a.createElement(ue.a,{container:!0,justify:"center",alignContent:"center"},o.a.createElement(ue.a,{item:!0,xs:12,sm:8,md:6,lg:4},o.a.createElement("form",{className:t.containerNoSidebar},o.a.createElement(Va.a,{className:t.paper},o.a.createElement(ue.a,{container:!0,spacing:2,justify:"center",alignContent:"center"},o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Nova solicita\xe7\xe3o".concat(S&&" - ".concat(S))))),o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(pt,{errors:Object(N.get)(i,"title",[]),label:"No que podemos te ajudar?",placeholder:"Ex.: Banheiro entupido, m\xe1quina de caf\xe9 com defeito, etc",disabled:F,value:Object(N.get)(r,"title",""),onChange:function(e){return c({title:e.target.value})}}),Object(N.size)(M)>1&&o.a.createElement(Tt,{label:"Local",errors:Object(N.get)(i,"location_id",[]),value:Object(N.get)(r,"location_id"),disabled:F,onChange:function(e){return c({location_id:e.target.value})},options:M,optionLabelField:"name",optionValueField:"id"}),Object(N.size)(g)>1&&o.a.createElement(Tt,{label:"Categoria",errors:Object(N.get)(i,"category_id",[]),value:Object(N.get)(r,"category_id"),disabled:F,onChange:function(e){var t=e.target.value;c({category_id:t,ticket_form_questions:Xc(g,t)}),f(!1)},options:g,optionLabelField:"title",optionValueField:"id"}),Object(N.map)(D,(function(e){return o.a.createElement(Cc,{key:Object(N.get)(e,"id"),id:Object(N.get)(e,"id"),question:Object(N.get)(e,"question"),options:Object(N.get)(e,"options"),fieldType:Object(N.get)(e,"field_type"),required:Object(N.get)(e,"required"),disabled:I,showBlankError:b,onChangeQuestion:T,onCheckOption:x})})),o.a.createElement(pt,{errors:Object(N.get)(i,"comments")||Object(N.get)(i,"description")||[],label:"Descri\xe7\xe3o",multiline:!0,rows:4,rowsMax:4,placeholder:"Descreva mais detalhes sobre esta ocorr\xeancia...",disabled:F,value:Object(N.get)(r,"description",""),onChange:function(e){return c({description:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(pt,{errors:Object(N.get)(i,"email",[]),label:"Email",placeholder:"Seu email de trabalho",disabled:F,value:Object(N.get)(r,"email",""),onChange:function(e){return c({email:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:6},o.a.createElement(pt,{errors:Object(N.get)(i,"name",[]),label:"Nome",disabled:F,className:t.inputControl,value:Object(N.get)(r,"name",""),onChange:function(e){return c({name:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:6},o.a.createElement(pt,{errors:Object(N.get)(i,"lastname",[]),label:"Sobrenome",disabled:F,className:t.inputControl,value:Object(N.get)(r,"lastname",""),onChange:function(e){return c({lastname:e.target.value})}}))),o.a.createElement("br",null),o.a.createElement(ue.a,{container:!0,spacing:2,justify:"center",alignContent:"center"},o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement("div",null,o.a.createElement(Yt,{value:Object(N.get)(r,"attachment_data",null),onChange:function(e){c({attachment_data:e}),E(Object(N.get)(e,"progressPercent",100)<100)},disabled:F,accept:"image/*,.doc,.docx,.xls,.xlsx,.pdf,.xml"})),o.a.createElement("div",{className:t.actions},o.a.createElement(me.a,{variant:"contained",color:"primary",size:"large",disabled:I,onClick:function(){if(Object(N.isEmpty)(Object(N.get)(r,"location_id")))n({alertMsg:"N\xe3o foi informado o local da ocorr\xeancia",alertType:"error",showAlert:!0});else{var e=w();f(e),e||s(!0)}}},I?"Aguarde...":"Enviar"))))))))))}return o.a.createElement("div",{className:t.root},o.a.createElement("section",null,o.a.createElement("div",{className:t.containerNoSidebar},o.a.createElement(ue.a,{container:!0,spacing:1},o.a.createElement("div",{className:t.centerHeaderView},o.a.createElement(te.a,{className:t.emptyHeaderIcon}),o.a.createElement("b",{className:t.emptyHeaderTitle},"Esse link inv\xe1lido n\xe3o pode solicitar tickets"))))))})),Zc=$t(Qc.getCompany,{name:"company",options:function(e){var t=e.companyId,a=e.setAlert;return{variables:t,onRequestError:function(){a({alertMsg:"URL inv\xe1lida, n\xe3o foi poss\xedvel abrir este form\xfalario",alertType:"error",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})}}}}),$c=$t(Yc.getLocationsByCompany,{name:"locations",options:function(e){var t=e.companyId,a=e.setAlert,n=e.setTicketState,r=e.selectedLocation;return{variables:t,onRequestFinished:function(e){var t=Object(N.sortBy)(Object(N.get)(e,"locations",[]),["name"]);if(Object(N.size)(t)){var o=function(e,t){var a=Object(N.find)(e,(function(e){return Object(N.toLower)(e.name)===Object(N.toLower)(t)||e.id===t}));return Object(N.get)(a,"id")||Object(N.get)(Object(N.first)(e),"id")}(t,r);n({location_id:o})}else a({alertMsg:"Esta empresa n\xe3o possui um local",alertType:"warning",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})},onRequestError:function(){a({alertMsg:"Erro ao carregar os locais da empresa",alertType:"warning",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})}}}}),el=$t(rc.getCategoriesByCompany,{name:"ticketCategories",options:function(e){var t=e.setTicketState,a=e.companyId,n=e.setCategories,r=e.selectedCategory,o=e.setAlert;return{variables:a,onRequestFinished:function(e){var a=Object(N.sortBy)(Object(N.get)(e,"ticket_categories",[]),["title"]);if(Object(N.size)(a)){var c=function(e,t){var a=Object(N.find)(e,(function(e){return Object(N.toLower)(e.title)===Object(N.toLower)(t)||e.id===t}));return Object(N.get)(a,"id")||Object(N.get)(Object(N.first)(e),"id")}(a,r);n(a),t({category_id:c,ticket_form_questions:Xc(a,c)})}else o({alertMsg:"Esta empresa n\xe3o possui uma categoria",alertType:"warning",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})},onRequestError:function(){o({alertMsg:"Erro ao carregar categorias",alertType:"error",showAlert:!0,actionButton:"Recarregar",onClickAction:function(){return window.location.reload()}})}}}}),tl=$t(Sr.postPublicTicket,{name:"ticket",init:!1,options:function(e){var t=e.ticket,a=e.companyId,n=e.setAlert,r=e.categories,o=e.locationsData,c=e.setErrors,l=e.setSelectedCategory,i=e.setSelectedLocation,s=e.setTicketState;return{variables:{ticket:t,companyId:a},onRequestFinished:function(){document.querySelector("form").reset();var e=Object(N.get)(Object(N.first)(r),"id"),t=Object(N.get)(o,"data[0].id");l(e),i(t),s(Object(f.a)(Object(f.a)({},Jc()),{},{category_id:e,location_id:t,ticket_form_questions:Xc(r,e)})),n({alertMsg:"Ticket registrado com sucesso",alertType:"success",showAlert:!0}),c({})},onRequestError:function(e){c(Object(N.get)(e,"errors",{})),n({alertMsg:Object(N.get)(e,"error")||"Erro ao registrar esse ticket",alertType:"error",showAlert:!0})}}}}),al=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{root:Object(re.a)({flexGrow:1,marginRight:5,marginLeft:5},e.breakpoints.up("md"),{marginRight:100,marginLeft:100}),cancel:{marginRight:20},checkboxControl:{margin:e.spacing(2)},inputControl:{marginTop:-20}})}),{withTheme:!0}),h.g,Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("ticket","setTicket",Jc),Object(Z.h)("categories","setCategories",[]),Object(Z.h)("companyId","setCompanyId"),Object(Z.h)("showQuestionError","setShowQuestionError",!1),Object(Z.h)("isUploading","setIsUploading",!1),Object(Z.h)("selectedCategory","setSelectedCategory"),Object(Z.h)("selectedLocation","setSelectedLocation"),Object(Z.h)("errors","setErrors",{}),Object(Z.e)({setTicketState:function(e){var t=e.setTicket,a=e.ticket;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),$c,el,tl,Zc,Object(Z.c)({componentDidMount:function(){if(I.isLoggedIn())return window.location.href="/#/tickets/novo",!0;var e=this.props,t=e.location,a=e.setTicketState,n=e.setCompanyId,r=e.setSelectedCategory,o=e.setSelectedLocation,c=new URLSearchParams(t.search),l=(c.get("utm_source")||"").toUpperCase();return r(c.get("category")||c.get("category_id")||c.get("categoria")),o(c.get("location")||c.get("location_id")||c.get("local")),n(c.get("company_id")||c.get("company")||c.get("c")),"QRCODE"===l&&a({source:"QRCODE"}),!0}}))(Kc),nl=a(818),rl={ON_DEMAND:"ON_DEMAND",SUBSCRIPTION:"SUBSCRIPTION"},ol={getServices:function(e){var t=e.serviceType;return z.get("/services",{service_type:t})},getService:function(e){return z.get("/services/".concat(e))}},cl=a(806),ll=a(807),il=function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{container:{marginLeft:"auto",marginRight:"auto",marginBottom:20}})},sl=Object(r.memo)((function(e){var t=e.classes,a=e.service,n=e.history;return o.a.createElement(br.a,{onClick:function(){return n.push("/servicos/".concat(a.id,"/solicitar-servico"))}},o.a.createElement(cl.a,null,o.a.createElement(ll.a,{className:t.media,image:a.image_url,title:a.title}),o.a.createElement(pr.a,{className:t.content},o.a.createElement(He.a,{variant:"h6"},o.a.createElement("small",null,o.a.createElement("b",null,a.title))))))}));sl.propTypes={classes:ne.a.object,service:ne.a.object,history:ne.a.object};var ul=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},il(e)),{},{media:{minHeight:150}})}),{withTheme:!0}),h.g)(sl),ml=Object(r.memo)((function(e){var t=e.history,a=e.classes,n=e.servicesData;if(e.servicesLoading)return o.a.createElement(pe,null);var r=Object(N.get)(n,"services",[]),c=Object(N.groupBy)(r,"category");return o.a.createElement(o.a.Fragment,null,o.a.createElement(nl.a,{freeSolo:!0,options:Object(N.sortBy)(r,"title"),getOptionLabel:function(e){return e.title},onChange:function(e,a){return t.push("/servicos/".concat(a.id,"/solicitar-servico"))},style:{width:300},renderInput:function(e){return o.a.createElement(Ve.a,Object.assign({},e,{label:"Qual servi\xe7o procura?",variant:"outlined"}))}}),Object(N.map)(c,(function(e,t){return o.a.createElement("div",{className:a.categoryContainer,key:t},o.a.createElement(He.a,{className:a.categoryName,variant:"h6"},o.a.createElement("b",null,t)),o.a.createElement(ue.a,{container:!0,spacing:2},Object(N.map)(e,(function(e){return o.a.createElement(ue.a,{key:e.id,item:!0,xs:12,sm:4,md:3},o.a.createElement(ul,{service:e}))}))))})))})),dl=$t(ol.getServices,{name:"services",options:function(e){var t=e.setAlert;return{variables:{serviceType:rl.ON_DEMAND},onRequestError:function(){t({alertMsg:"Erro ao carregar lista de servi\xe7os",alertType:"error",showAlert:!0})}}}}),bl=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{categoryContainer:{marginTop:40},categoryName:{marginTop:15,marginBottom:10}})}),{withTheme:!0}),h.g,dl)(ml),pl={createServiceRequest:function(e){var t=e.serviceId,a=e.dynamicQuestions,n=Object(N.mapValues)(a,(function(e){return e.originalFileObj?{id:e.id,storage:e.storage,metadata:e.metadata,base64Data:e.base64Data}:e}));return z.post("/service_requests",{service_id:t,dynamic_questions:n})},getServiceRequests:function(e){var t=e.status;return z.get("/service_requests",{status:t})},getServiceRequest:function(e){return z.get("/service_requests/".concat(e))},deleteServiceRequest:function(e){return z.put("/service_requests/".concat(e))}},gl=$t(ol.getService,{name:"service",options:function(e){return{variables:e.match.params.serviceId}}}),fl=$t(pl.createServiceRequest,{name:"createServiceRequest",init:!1,options:function(e){var t=e.serviceData,a=e.formData,n=e.resetFormData,r=e.setFormData,o=e.setAlert,c=a.changedFields;return{variables:{serviceId:Object(N.get)(t,"service.id"),dynamicQuestions:c},onRequestFinished:function(){o({alertMsg:"Recebemos! Em breve nosso especialista vai entrar em contato com voc\xea!",alertType:"success",showAlert:!0}),n()},onRequestError:function(e){o({alertMsg:"Erro ao solicitar servi\xe7o",alertType:"error",showAlert:!0}),r({validationErrors:Object(N.get)(e,"errors",{})})}}}}),hl=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},il(e)),{},{title:{marginBottom:e.spacing(4)},subtitlesContainer:{marginBottom:e.spacing(1)},marginLeftContainer:{paddingLeft:e.spacing(4)},benefitsList:{margin:0,padding:0,paddingLeft:"1em"},textContentsContainer:{marginBottom:e.spacing(4)},questionContainer:{marginTop:e.spacing(3)},goBackButton:{marginRight:e.spacing(2)}})}),{withTheme:!0}),h.g,gl,(function(e){return function(t){return t.serviceLoading?o.a.createElement(pe,null):o.a.createElement(e,t)}}),r.memo,So((function(e){return Object(N.zipObject)(Object(N.map)(Object(N.get)(e,"serviceData.service.form_questions"),(function(e){return e.question})),Object(N.map)(Object(N.get)(e,"serviceData.service.form_questions"),(function(e){return"ATTACHMENT"===e.field_type?{}:"CHECKBOX"===e.field_type?[]:""})))})),fl)((function(e){var t=e.classes,a=e.serviceData,n=e.formData,r=e.setFormData,c=e.createServiceRequestFetch,l=e.createServiceRequestLoading,s=n.validationErrors||{},u=function(){return c(!0)},m=function(e){e.ctrlKey&&13===e.keyCode&&u()},d=a.service;return o.a.createElement(o.a.Fragment,null,o.a.createElement(He.a,{className:t.title,variant:"h4"},d.title),o.a.createElement(ue.a,{container:!0,className:t.subtitlesContainer},o.a.createElement(ue.a,{item:!0,xs:6},o.a.createElement(He.a,{variant:"subtitle1"},o.a.createElement("b",null,d.subtitle)))),o.a.createElement(ue.a,{container:!0,className:t.textContentsContainer},o.a.createElement(ue.a,{item:!0,xs:6},o.a.createElement(He.a,{variant:"body2"},d.description)),o.a.createElement(ue.a,{item:!0,xs:6,className:t.marginLeftContainer},o.a.createElement("ul",{className:t.benefitsList},Object(N.map)(d.benefits,(function(e){return o.a.createElement("li",{key:e},o.a.createElement(He.a,{variant:"body2"},e))}))))),o.a.createElement(Va.a,{className:"".concat(t.container," ").concat(t.paper)},o.a.createElement(ue.a,{container:!0,item:!0,xs:12,sm:8,md:6,spacing:2},o.a.createElement(ue.a,{item:!0,xs:12},Object(N.map)(d.form_questions,(function(e){return o.a.createElement("div",{key:e.id,className:t.questionContainer},o.a.createElement(He.a,{variant:"subtitle1"},o.a.createElement("b",null,e.question)),o.a.createElement(Zt,{fieldType:e.field_type,onKeyDown:m,value:n[e.question],onChangeValue:function(t){return r(Object(re.a)({},e.question,t))},errors:s["dynamic_questions.".concat(e.question)],options:Object(N.map)(e.options,(function(e){return{label:e,value:e}})),emptyOptionLabel:" ",uploadFileFunc:_t,required:e.required,disabled:l}))})),o.a.createElement("div",{className:t.actions},o.a.createElement(me.a,{className:t.goBackButton,component:i.b,to:"/servicos",color:"default",size:"large",disabled:l},"Voltar"),o.a.createElement(me.a,{variant:"contained",color:"primary",size:"large",onClick:u,disabled:l},l?"Aguarde...":"Enviar"))))))})),El=Object(r.memo)((function(e){var t=e.classes,n=e.history;return o.a.createElement("section",{className:t.welcome},o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.root},o.a.createElement(He.a,{variant:"h5",className:t.center},o.a.createElement("b",null,"Solicite servi\xe7os e conecte-se com nossos parceiros")),o.a.createElement("p",{className:t.center},"Receba or\xe7amentos e contrate o que precisar sem a dor de cabe\xe7a de lidar com v\xe1rios fornecedores.",o.a.createElement("br",null),"N\xf3s lidamos com eles com carinho e voc\xea fica no controle."),o.a.createElement("p",{className:t.center},o.a.createElement("img",{src:a(589),width:400,alt:"Todos os servi\xe7os em um \xfanico lugar"})),o.a.createElement("br",null),o.a.createElement("p",{className:t.center},o.a.createElement(me.a,{variant:"contained",color:"primary",size:"large",onClick:function(){I.setServicesWelcomeVisited(),n.replace("/servicos")}},"Come\xe7ar")))))}));El.propTypes={classes:ne.a.object,history:ne.a.object};var vl=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{welcome:{marginTop:30},container:{paddingLeft:0}})}),{withTheme:!0}),h.g)(El),Ol=Object(r.memo)((function(e){var t=e.classes,a=e.setAlert,n=e.children;return I.isServicesWelcomeVisited()?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.container},o.a.createElement("div",{className:t.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,"Servi\xe7os"))))),o.a.createElement("div",{className:t.container},o.a.cloneElement(n,{setAlert:a}))):o.a.createElement(vl,null)})),jl=Object(Z.b)(Object($.a)(il,{withTheme:!0}),Lc)(Ol),Cl=Object(r.memo)((function(){return o.a.createElement(h.d,null,o.a.createElement(h.b,{exact:!0,path:"/servicos"},o.a.createElement(jl,null,o.a.createElement(bl,null))),o.a.createElement(h.b,{exact:!0,path:"/servicos/sobdemanda"},o.a.createElement(h.a,{to:{pathname:"/servicos"}})),o.a.createElement(h.b,{exact:!0,path:"/servicos/recorrentes"},o.a.createElement(h.a,{to:{pathname:"/servicos"}})),o.a.createElement(h.b,{path:"/servicos/:serviceId/solicitar-servico"},o.a.createElement(Rc,null,o.a.createElement(hl,null))))})),yl=Fc({condition:function(e){return!qa.includes(e.role)}})(Cl),kl={getMembers:function(e){var t=e.onlyActive;return z.get("/members",{only_active:t})},getMember:function(e){return z.get("/members/".concat(e))},blockMember:function(e){return z.put("/members/".concat(e,"/block"))},updateMember:function(e){var t=e.id,a=e.name,n=e.lastname,r=e.phone,o=e.role,c=e.job_role,l=e.locationIds;return z.put("/members/".concat(t),{id:t,name:a,lastname:n,phone:r,role:o,job_role:c,location_ids:l})},emailCheck:function(e){return z.get("/members/email_check",{email:e})},createMember:function(e){var t=e.name,a=e.lastname,n=e.phone,r=e.role,o=e.email,c=e.jobRole,l=e.locationIds;return z.post("/members?send_invite=true",{name:t,lastname:a,phone:n,role:r,email:o,job_role:c,location_ids:l})},resendInvitationEmail:function(e){return z.get("/members/resend_invitation_email",{id:e})},unblockMember:function(e){return z.put("/members/".concat(e,"/unblock"))}},Al=kl,wl=Object(r.memo)((function(e){var t=e.classes,a=e.onClose,n=e.setAlert,r=e.formData,c=e.setFormData,l=e.checkEmailStep,i=e.refetch,s=e.setCheckEmailStep,d=e.loading,b=e.setLoading,p=e.errors,g=e.setErrors,h=e.locationsData,E=Object(Ca.a)(),v=Object(ya.a)(E.breakpoints.down("sm")),O=d||Object(N.isEmpty)(r.email),j=Object(N.get)(h,"locations",[]),C=function(e){c(Object(f.a)(Object(f.a)({},r),e))},y=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=16;break}return e.prev=1,g({}),b(!0),e.next=6,Al.emailCheck(r.email);case 6:s(!1),Q.hit("EmailChecked - Success"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),g(Object(N.mapValues)(Object(N.get)(e.t0,"errors",{}),(function(e){return e[0]})));case 13:b(!1),e.next=33;break;case 16:return e.prev=16,g({}),b(!0),e.next=21,Al.createMember(Object(f.a)({},r));case 21:Q.hit("MemberCreated - Success"),n({alertMsg:"Usu\xe1rio criado com sucesso",alertType:"success",showAlert:!0}),b(!1),a(),i(!0),e.next=33;break;case 28:e.prev=28,e.t1=e.catch(16),g(Object(N.mapValues)(Object(N.get)(e.t1,"errors",{}),(function(e){return e[0]}))),n({alertMsg:"N\xe3o foi poss\xedvel criar o usu\xe1rio",alertType:"error",showAlert:!0}),b(!1);case 33:case"end":return e.stop()}}),e,null,[[1,10],[16,28]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(jr.a,{fullScreen:v,keepMounted:!0,fullWidth:!l,maxWidth:l?"sm":"md",classes:{paper:t.dialogMemberForm},open:!0},o.a.createElement(Cr.a,null,"Convidar usu\xe1rio",o.a.createElement(Ze.a,{className:t.closeButton,onClick:a,disabled:d},o.a.createElement(Ke.a,null))),o.a.createElement(kr.a,{className:t.content},o.a.createElement(ue.a,{container:!0,direction:"row",spacing:1},l&&o.a.createElement(ue.a,{item:!0,xs:12,className:t.gridSizeMedium},o.a.createElement(pt,{label:"Email",disabled:d,errors:Object(N.get)(p,"email",[]),value:Object(N.get)(r,"email",""),onChangeText:function(e){return C({email:e})}})),!l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(pt,{label:"E-mail",disabled:!0,errors:Object(N.get)(p,"email",[]),value:Object(N.get)(r,"email",""),onChangeText:function(e){return C({email:e})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{label:"Nome",disabled:d,errors:Object(N.get)(p,"name",[]),value:Object(N.get)(r,"name",""),onChangeText:function(e){return C({name:e})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{label:"Sobrenome",disabled:d,errors:Object(N.get)(p,"lastname",[]),value:Object(N.get)(r,"lastname",""),onChangeText:function(e){return C({lastname:e})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{label:"Cargo",disabled:d,value:Object(N.get)(r,"jobRole",""),onChangeText:function(e){return C({jobRole:e})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(yt,{label:"Telefone celular",disabled:d,value:Object(N.get)(r,"phone",""),onChange:function(e){return C({phone:(e.target.value||"").replace(/[\D]+/g,"").slice(0,15)})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(He.a,{variant:"h6",className:t.blockTitle},"Permiss\xe3o"),o.a.createElement(Tt,{label:"N\xedvel de acesso",errors:Object(N.get)(p,"role",[]),value:Object(N.get)(r,"role",""),disabled:d,onChange:function(e){return C({role:e.target.value})},options:Pa})),o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(He.a,{variant:"h6",className:t.blockTitle},"Locais de acesso"),o.a.createElement(mt.a,{fullWidth:!0,error:!!p.location_ids},p.location_ids&&o.a.createElement(dt.a,null,p.location_ids),j.map((function(e){return o.a.createElement(Ft.a,{key:e.id,className:t.checkBox,classes:{label:t.checkboxLabel},control:o.a.createElement(It.a,{checked:e.checked,disabled:d,onChange:function(){return function(e){var t=[];t=Object(N.includes)(Object(N.get)(r,"locationIds",[]),e)?Object(N.pull)(r.locationIds,e):r.locationIds.concat([e]),c(Object(f.a)(Object(f.a)({},r),{},{locationIds:t}))}(e.id)},value:e.id}),label:e.name})}))))))),o.a.createElement(Ar.a,{className:t.actions},o.a.createElement(ue.a,{container:!0,justify:l?"flex-start":"space-between",spacing:2},!l&&o.a.createElement(ue.a,{item:!0,xs:12,sm:8}),o.a.createElement(ue.a,{item:!0,xs:6,sm:l?6:2},o.a.createElement(me.a,{fullWidth:!0,color:"default",size:"large",variant:"contained",onClick:function(){a()},disabled:d},"CANCELAR")),o.a.createElement(ue.a,{item:!0,xs:6,sm:l?6:2},o.a.createElement(me.a,{fullWidth:!0,color:"primary",size:"large",variant:"contained",onClick:y,disabled:O},l?"PR\xd3XIMO":"SALVAR")))))})),Tl=$t(Yc.getLocations,{name:"locations",options:function(){return{variables:{listInactive:!1,listAll:!0}}}}),xl={role:Object(N.first)(Pa).value,locationIds:[]},Sl=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{actions:{margin:15,marginBottom:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"},blockTitle:{marginTop:15},checkboxLabel:{fontSize:e.typography.caption.fontSize},gridSizeMedium:{width:400}})}),{withTheme:!0}),Object(Z.h)("formData","setFormData",xl),Object(Z.h)("loading","setLoading",!1),Object(Z.h)("errors","setErrors",{}),Object(Z.h)("checkEmailStep","setCheckEmailStep",!0),Tl)(wl),Nl=Object(r.memo)((function(e){var t=e.setLocationOptionChecked,a=e.isLoading,n=e.formData,r=e.setFormData,c=e.classes,l=e.isSubmiting;if(a)return o.a.createElement(pe,null);var i=n.locationsOptions,s=n.validationErrors||{},u=I.getUserData(),m=u.role,d=u.id;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{container:!0,direction:"row",spacing:1},o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{errors:Object(N.get)(s,"name",[]),label:"Nome",disabled:l,value:Object(N.get)(n,"name")||"",onChangeText:function(e){return r({name:e})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{errors:Object(N.get)(s,"lastname",[]),label:"Sobrenome",disabled:l,value:Object(N.get)(n,"lastname")||"",onChangeText:function(e){return r({lastname:e})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{errors:Object(N.get)(s,"email",[]),label:"E-mail",disabled:!0,value:Object(N.get)(n,"email")||"",onChangeText:function(e){return r({email:e})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(yt,{errors:Object(N.get)(s,"phone",[]),label:"Telefone celular",disabled:l,value:Object(N.get)(n,"phone")||"",onChangeValue:function(e){return r({phone:e})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{label:"Cargo",value:Object(N.get)(n,"job_role")||"",onChangeText:function(e){return r({job_role:e})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6}),!("ADMIN"===m&&Object(N.get)(n,"id")===d)&&o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(He.a,{variant:"h6"},"Permiss\xe3o"),o.a.createElement(Tt,{errors:Object(N.get)(s,"role",[]),label:"N\xedvel de acesso",value:Object(N.get)(n,"role")||"",disabled:l,onChange:function(e){return r({role:e.target.value})},options:Pa})),o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(He.a,{variant:"h6"},"Locais de acesso"),o.a.createElement(mt.a,{fullWidth:!0,error:!!s.location_ids},s.location_ids&&o.a.createElement(dt.a,null,s.location_ids),i.map((function(e){return o.a.createElement(Ft.a,{key:e.value,classes:{label:c.checkboxLabel},control:o.a.createElement(It.a,{checked:e.checked,disabled:l,onChange:function(a){t({locationId:e.value,checked:a.target.checked})},value:e.value}),label:e.label})}))))))})),Dl=Object(Z.b)(ie,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{checkboxLabel:{fontSize:e.typography.caption.fontSize}})}),{withTheme:!0}),Yo,Object(Z.e)({setLocationOptionChecked:function(e){var t=e.formData,a=e.setFormData;return function(e){var n=e.locationId,r=e.checked,o=t.locationsOptions;a({locationsOptions:Object(N.map)(o,(function(e){return e.value===n?Object(f.a)(Object(f.a)({},e),{},{checked:r}):e}))})}}}),Object(Z.g)(["viewer","member"],(function(e){var t=e.member,a=e.viewer,n=e.setFormData;if(!a)return null;var r=Object(N.get)(t,"locations",[]),o=Object(N.get)(a,"locations",[]).map((function(e){return{label:e.name,value:e.id,checked:r.some((function(t){return e.id===t.id}))}})),c=Object(f.a)({locationsOptions:o},t);return n(Object(f.a)(Object(f.a)({},c),{},{previousValues:c})),!0})))(Nl),Ml=Dl,Fl=Object(r.memo)((function(e){var t=e.member,a=e.isLoading,n=e.open,r=e.classes,c=e.formData,l=e.setFormData,i=e.onClose,s=e.updateMemberFetch,u=e.updateMemberLoading,m=e.blockMemberFetch,d=e.blockMemberLoading,b=Object(Ca.a)(),p=Object(ya.a)(b.breakpoints.down("sm")),g=a,f=u||d;return o.a.createElement(jr.a,{fullScreen:p,keepMounted:!0,fullWidth:!0,maxWidth:"md",classes:{paper:r.dialogMemberForm},open:n,onClose:function(){return i({shouldRefetch:!1})}},o.a.createElement(Cr.a,null,"Editar usu\xe1rio",o.a.createElement(Ze.a,{className:r.closeButton,onClick:function(){return i({shouldRefetch:!1})}},o.a.createElement(Ke.a,null))),o.a.createElement(kr.a,{className:r.content},o.a.createElement(Ml,{member:t,formData:c,setFormData:l,isLoading:g,isSubmiting:f})),o.a.createElement(Ar.a,{className:r.actions},o.a.createElement(ue.a,{container:!0,justify:"space-between",spacing:2},o.a.createElement(ue.a,{item:!0,xs:12,sm:8},o.a.createElement(me.a,{fullWidth:p,color:"secondary",size:"large",variant:p?"outlined":"contained",onClick:function(){window.confirm("Tem certeza em bloquear esse usu\xe1rio?")&&m(!0,"",null,Object(N.get)(t,"id",""))},disabled:g||f},"DESATIVAR USU\xc1RIO")),o.a.createElement(ue.a,{item:!0,xs:6,sm:2},o.a.createElement(me.a,{fullWidth:!0,color:"default",size:"large",variant:"contained",onClick:function(){return i({shouldRefetch:!1})},disabled:g||f},"CANCELAR")),o.a.createElement(ue.a,{item:!0,xs:6,sm:2},o.a.createElement(me.a,{fullWidth:!0,color:"primary",size:"large",variant:"contained",onClick:function(){return s(!0).catch((function(){}))},disabled:g||f},"SALVAR")))))})),Il=$t(Al.updateMember,{name:"updateMember",init:!1,options:function(e){var t=e.formData,a=e.setFormData,n=e.member,r=e.setAlert,o=e.onClose,c=Object(N.pickBy)(t,(function(e,a){var n=t.previousValues[a];return!Object(N.isEqual)(n,e)})),l={};c.locationsOptions&&(l={locationIds:Object(N.map)(Object(N.pickBy)(c.locationsOptions,{checked:!0}),(function(e){return e.value}))});return{variables:Object(f.a)(Object(f.a)({id:n.id},c),l),onRequestFinished:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=I.getUserData(),n.id!==t.id){e.next=6;break}return e.next=4,U.getViewer();case 4:a=e.sent,I.setUserData(Object(N.get)(a,"member"));case 6:r({alertMsg:"Usu\xe1rio alterado com sucesso",alertType:"success",showAlert:!0}),o({shouldRefetch:!0});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){var t=Object(N.get)(e,"error","");r({alertMsg:t||"Erro ao alterar este usu\xe1rio",alertType:"error",showAlert:!0});var n=Object(N.mapValues)(Object(N.get)(e,"errors",{}),(function(e){return e[0]}));a({validationErrors:n})}}}}),Rl=$t(Al.blockMember,{name:"blockMember",init:!1,options:function(e){var t=e.member,a=e.onClose,n=e.setAlert;return{variables:Object(N.get)(t,"id"),onRequestFinished:function(){n({alertMsg:"Usu\xe1rio bloqueado com sucesso",alertType:"success",showAlert:!0}),a({shouldRefetch:!0})},onRequestError:function(e){n({alertMsg:Object.values(e.errors).flat().join()||"Erro ao bloquear este usu\xe1rio",alertType:"error",showAlert:!0})}}}}),Ll=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{actions:{margin:15,marginBottom:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"}})}),{withTheme:!0}),Object(Z.h)("formData","setFormDataRaw",{locationsOptions:[],previousValues:{},validationErrors:{}}),Object(Z.e)({setFormData:function(e){var t=e.setFormDataRaw,a=e.formData;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),Rl,Il)(Fl),Bl=function(e){return Object(f.a)({},oe(e))},Pl=$t(Al.unblockMember,{name:"unblockMember",init:!1,options:function(e){var t=e.memberId,a=e.setAlert,n=e.refetch;return{variables:t,onRequestFinished:function(){a({alertMsg:"Usu\xe1rio desbloqueado com sucesso",alertType:"success",showAlert:!0}),Q.hit("UnblockUser",{memberId:t}),n(!1)},onRequestError:function(){a({alertMsg:"Erro ao desbloquear usu\xe1rio",alertType:"error",showAlert:!0})}}}}),_l=Object(Z.b)(Pl)((function(e){var t=e.unblockMemberFetch,a=e.unblockMember;return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{variant:"outlined",size:"large",onClick:function(){return t(!0)},disabled:a},"Reativar conta"))})),ql=Object(Z.b)(Object(Z.h)("openModal","setOpenModal",!1),Object(Z.h)("canResendInivitation","setCanResendInivitation",!0))((function(e){var t=e.classes,a=e.canResendInivitation,n=e.setCanResendInivitation,r=e.setAlert,c=e.member,l=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!1),e.next=4,Al.resendInvitationEmail(c.id);case 4:Q.hit("NewMemberInvitation - Resend"),r({alertMsg:"Convite enviado com sucesso",alertType:"success",showAlert:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r({alertMsg:"Erro ao enviar email",alertType:"error",showAlert:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{className:t.smallScreenResendButton,variant:"outlined",size:"large",onClick:l,disabled:!a},a?"Reenviar convite":"Convite enviado"))})),zl=$t(Al.getMember,{name:"member",init:!1,options:function(e){return{variables:e.memberId}}}),Ul=Object(Z.b)(Object(Z.h)("openModal","setOpenModal",!1),zl,Object(Z.g)(["openModal"],(function(e){var t=e.openModal,a=e.memberFetch;t&&a(!0)})))((function(e){var t=e.memberData,a=e.memberLoading,n=e.refetch,r=e.openModal,c=e.setOpenModal,l=e.setAlert,i=Object(N.get)(t,"member"),s=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.shouldRefetch){e.next=4;break}return e.next=4,n(!1);case 4:Q.hit("MembersFormModal - Closed"),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{variant:"outlined",size:"large",onClick:function(){Q.hit("MembersFormModal - Opened"),c(!0)}},"Editar"),r&&o.a.createElement(Ll,{isLoading:a,member:i,open:r,onClose:s,setAlert:l}))})),Wl=Object(r.memo)((function(e){var t=e.viewer,a=e.index,n=e.member,r=e.classes,c=e.refetch,l=e.setAlert;if(!t)return null;var i=Object(N.get)(I.getUserData(),"id"),s=Object(N.get)(Object(N.find)(Pa,(function(e){return e.value===Object(N.get)(n,"role")})),"label"),u=Object(N.get)(n,"id"),m="".concat(Object(N.get)(n,"name")," ").concat(Object(N.get)(n,"lastname")),d=Object(N.get)(n,"email"),b=Object(N.get)(n,"photo_url"),p=Object(N.get)(n,"must_change_password",!1),g=Object(N.get)(n,"blocked_at"),f=Object(N.get)(n,"locations"),h=Object(N.map)(f,(function(e){return e.name})).join(", "),E=_a.includes(t.role),v=i!==u&&p;return o.a.createElement(Ea.a,{className:a%2?r.bgWhite:r.bgGray},o.a.createElement(va.a,{className:r.tableSmallCell},o.a.createElement("div",{className:r.avatarNameContainer},o.a.createElement(Ba,{name:m,photoUrl:b}),o.a.createElement("span",{className:"".concat(r.cellText," ").concat(r.userName)},m))),o.a.createElement(va.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},d)),o.a.createElement(va.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},s)),o.a.createElement(va.a,{className:r.tableSmallCell},o.a.createElement("span",{className:r.cellText},h)),o.a.createElement(va.a,{className:r.tableMediumCell},o.a.createElement(ue.a,{container:!0,item:!0},o.a.createElement(ue.a,{item:!0,xs:12},g&&o.a.createElement(_l,{memberId:n.id,refetch:c,setAlert:l})),o.a.createElement(ue.a,{item:!0,xs:12},E&&!g&&o.a.createElement(Ul,{memberId:n.id,refetch:c,setAlert:l})),o.a.createElement(ue.a,{item:!0,xs:12},v&&!g&&o.a.createElement(ql,{member:n,refetch:c,setAlert:l,classes:r})))))})),Vl=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Bl(e)),{},{cellText:{color:"#313131",fontSize:14},userName:{marginRight:5,marginLeft:10},avatarNameContainer:{display:"flex",alignItems:"center"},smallScreenResendButton:{marginTop:10}})}),{withTheme:!0}),Yo)(Wl),Hl=Object(r.memo)((function(e){var t=e.membersData,a=e.membersLoading,n=e.openCreateMemberModal,r=e.setOpenCreateMemberModal,c=e.classes,l=e.membersFetch,i=e.setAlert,s=e.onlyActive,u=e.setOnlyChecked,m=Object(N.get)(I.getUserData(),"id"),d=Object(N.get)(t,"members");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:c.container},o.a.createElement("div",{className:c.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Usu\xe1rios (".concat(Object(N.size)(d),")")))),o.a.createElement("aside",null,o.a.createElement("div",{className:c.headerButtonAndActiveFilter},o.a.createElement(Mt.a,{row:!0},o.a.createElement(Ft.a,{control:o.a.createElement(It.a,{checked:s,onChange:function(e){u(e.target.checked),l(!0)},color:"primary",disabled:a}),label:"Usu\xe1rios ativos"})),o.a.createElement(me.a,{size:"large",color:"primary",variant:"contained",onClick:function(){r(!0),Q.hit("NewMemberModal - Opened")}},"CONVIDAR USU\xc1RIO"))))),o.a.createElement("div",{className:c.container},o.a.createElement(Va.a,{className:c.tablePaper},o.a.createElement(fa.a,null,o.a.createElement(ha.a,null,o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:c.tableCell},"NOME"),o.a.createElement(va.a,{className:c.tableCell},"EMAIL"),o.a.createElement(va.a,{className:c.tableCell},"PERMISS\xc3O DE ACESSO"),o.a.createElement(va.a,{className:c.tableCell},"LOCAIS"))),o.a.createElement(ja.a,null,a?o.a.createElement(Ea.a,null,o.a.createElement(va.a,{colSpan:5,align:"center"},o.a.createElement(pe,null))):Object(N.size)(d)?d.map((function(e,t){return o.a.createElement(Vl,{loggedMemberId:m,refetch:l,setAlert:i,index:t,key:e.id,member:e,loading:a})})):o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:c.empty,colSpan:5,align:"center"},"Nenhum usu\xe1rio cadastrado")),n&&o.a.createElement(Sl,{onClose:function(){r(!1)},setAlert:i,refetch:l}))))))})),Yl=$t(Al.getMembers,{name:"members",options:function(e){var t=e.setAlert;return{variables:{onlyActive:e.onlyActive},onRequestError:function(){t({alertMsg:"Erro ao carregar dados do servidor",alertType:"error",showAlert:!0})}}}}),Ql=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},Bl(e)),{},{container:{marginBottom:30,marginTop:30},empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14},titleTableCell:{fontSize:20},headerButtonAndActiveFilter:{display:"flex",flexDirection:"row",alignItems:"center"},activeFilter:{marginRight:10}})}),{withTheme:!0}),Object(Z.h)("openCreateMemberModal","setOpenCreateMemberModal",!1),Object(Z.h)("onlyActive","setOnlyChecked",!0),Fc({condition:function(e){return!_a.includes(e.role)}}),Yl)(Hl),Gl=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=t.showAlert,c=t.alertMsg,l=t.alertType,i=null;return r&&(i=o.a.createElement(nt,{message:c,type:l,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}})),o.a.createElement("div",{className:n.root},o.a.createElement(vn,{alertBox:i}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:n.container},o.a.createElement(xn,null)),o.a.createElement("div",{className:n.container},o.a.createElement(Ql,{setAlert:a}))))})),Jl=Object(Z.b)(Object($.a)(Bl,{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}))(Gl),Xl=Object(Z.b)(Lc,r.memo,Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}))((function(e){var t=e.classes,a=e.setAlert,n=e.WrappedComponent,r=Object(ut.a)(e,["classes","setAlert","WrappedComponent"]),c=ie(n);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es")))),o.a.createElement(xn,null),o.a.createElement(c,Object.assign({setAlert:a},r)))})),Kl=function(e){return function(t){return o.a.createElement(Xl,Object.assign({},t,{WrappedComponent:e}))}},Zl=[{label:"AC",value:"AC"},{label:"AL",value:"AL"},{label:"AP",value:"AP"},{label:"AM",value:"AM"},{label:"BA",value:"BA"},{label:"CE",value:"CE"},{label:"DF",value:"DF"},{label:"ES",value:"ES"},{label:"GO",value:"GO"},{label:"MA",value:"MA"},{label:"MT",value:"MT"},{label:"MS",value:"MS"},{label:"MG",value:"MG"},{label:"PA",value:"PA"},{label:"PB",value:"PB"},{label:"PR",value:"PR"},{label:"PE",value:"PE"},{label:"PI",value:"PI"},{label:"RJ",value:"RJ"},{label:"RN",value:"RN"},{label:"RS",value:"RS"},{label:"RO",value:"RO"},{label:"RR",value:"RR"},{label:"SC",value:"SC"},{label:"SP",value:"SP"},{label:"SE",value:"SE"},{label:"TO",value:"TO"}],$l=Object(r.memo)((function(e){var t=e.formData,a=e.setFormData,n=e.isLoading;if(n)return o.a.createElement(pe,null);var r=t.validationErrors||{};return o.a.createElement(ue.a,{container:!0,direction:"row",spacing:1},o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{errors:r.name,label:"Apelido",placeholder:"Endere\xe7o principal, Nome da sede, etc",disabled:n,value:t.name,onChange:function(e){return a({name:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{errors:r.address,label:"Endere\xe7o completo",placeholder:"Rua Monteiro Lobato, 555",disabled:n,value:t.address,onChange:function(e){return a({address:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{errors:r.complement,label:"Complemento",disabled:n,value:t.complement,onChange:function(e){return a({complement:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{errors:r.neighborhood,label:"Bairro",disabled:n,value:t.neighborhood,onChange:function(e){return a({neighborhood:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{errors:r.city,label:"Cidade",disabled:n,value:t.city,onChange:function(e){return a({city:e.target.value})}})),o.a.createElement(ue.a,{item:!0,xs:6,sm:3},o.a.createElement(Tt,{errors:r.state,label:"Estado",disabled:n,value:t.state,onChange:function(e){return a({state:e.target.value})},options:Zl,emptyOptionLabel:"Estado"})),o.a.createElement(ue.a,{item:!0,xs:6,sm:3},o.a.createElement(Ot,{errors:r.zip_code,label:"CEP",disabled:n,value:t.zip_code,onChangeText:function(e){return a({zip_code:e})}})))})),ei=Object(r.memo)((function(e){var t=e.classes,a=e.open,n=e.onClose,r=e.modalTitle,c=e.formData,l=e.setFormData,i=e.onSubmit,s=e.isLoading,u=Object(Ca.a)(),m=Object(ya.a)(u.breakpoints.down("sm"));return o.a.createElement(jr.a,{fullScreen:m,keepMounted:!0,fullWidth:!0,maxWidth:"md",classes:{paper:t.dialogMemberForm},open:a,onClose:n},o.a.createElement(Cr.a,null,r,o.a.createElement(Ze.a,{className:t.closeButton,onClick:function(){return n({shouldRefetch:!1})}},o.a.createElement(Ke.a,null))),o.a.createElement(kr.a,{className:t.content},o.a.createElement($l,{formData:c,setFormData:l,isLoading:s})),o.a.createElement(Ar.a,{className:t.actions},o.a.createElement(ue.a,{container:!0,justify:"flex-end",spacing:2},o.a.createElement(ue.a,{item:!0,xs:6,sm:2},o.a.createElement(me.a,{fullWidth:!0,color:"default",size:"large",variant:"contained",onClick:n,disabled:s},"CANCELAR")),o.a.createElement(ue.a,{item:!0,xs:6,sm:2},o.a.createElement(me.a,{fullWidth:!0,color:"primary",size:"large",variant:"contained",onClick:i,disabled:s},"SALVAR")))))})),ti=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{actions:{margin:15,marginBottom:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"}})}),{withTheme:!0})(ei),ai=Object(r.memo)((function(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.onClose,r=e.formData,c=e.setFormData,l=e.updateLocationFetch,i=e.updateLocationLoading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{variant:"outlined",size:"large",onClick:function(){Q.hit("EditLocationModal - Opened"),a(!0)}},"EDITAR"),t&&o.a.createElement(ti,{open:t,onClose:n,modalTitle:"Editar Local",formData:r,setFormData:c,onSubmit:function(){return l(!0).catch((function(){}))},isLoading:i}))})),ni=$t(Yc.updateLocation,{name:"updateLocation",init:!1,options:function(e){var t=e.location,a=e.formData.changedFields,n=e.setFormData,r=e.setAlert,o=e.onUpdated,c=e.onClose;return{variables:{id:t.id,changes:a},onRequestFinished:function(){r({alertMsg:"Local criado alterado sucesso",alertType:"success",showAlert:!0}),o(),c()},onRequestError:function(e){r({alertMsg:"Erro ao alterar este local",alertType:"error",showAlert:!0}),n({validationErrors:Object(N.get)(e,"errors",{})})}}}}),ri=Object(Z.b)(Object(Z.h)("isModalOpen","setIsModalOpen",!1),So((function(e){return e.location})),Object(Z.e)({onClose:function(e){var t=e.resetFormData,a=e.setIsModalOpen;return function(){Q.hit("EditLocationModal - Closed"),t(),a(!1)}}}),ni)(ai),oi=Object(r.memo)((function(e){var t=e.classes,a=e.setAlert,n=e.refetch,r=e.index,c=e.location,l=e.toggleActiveFetch,i=e.toggleActiveLoading,s=e.isActive,u=e.setIsActive,m=c||{},d=m.name,b=m.complement,p=m.address,g=m.city,f=m.state,h=b?"".concat(p,", ").concat(b):p,E=g&&f?"".concat(g,"/").concat(f):"";return o.a.createElement(Ea.a,{className:r%2?t.bgWhite:t.bgGray},o.a.createElement(va.a,{className:t.tableSmallCell},o.a.createElement("span",{className:t.cellText},d)),o.a.createElement(va.a,{className:t.tableSmallCell},o.a.createElement("span",{className:t.cellText},h)),o.a.createElement(va.a,{className:t.tableSmallCell},o.a.createElement("span",{className:t.cellText},E)),o.a.createElement(va.a,{className:t.tableSmallCell},o.a.createElement(wr.a,{color:"primary",disabled:i,checked:s,onChange:function(){u(!s),l(!0)}})),o.a.createElement(va.a,{className:t.tableSmallCell},o.a.createElement(ri,{setAlert:a,onUpdated:n,location:c})))})),ci=$t(Yc.toggleActive,{name:"toggleActive",init:!1,options:function(e){var t=e.location,a=e.refetch,n=e.setAlert,r=e.isActive,o=e.setIsActive;return{variables:t.id,onRequestFinished:function(){a()},onRequestError:function(e){n({alertMsg:Object(N.get)(e,"error","Erro ao desabilitar este local")}),o(!r)}}}}),li=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{cellText:{color:"#313131",fontSize:14}})}),{withTheme:!0}),Object(Z.h)("isActive","setIsActive",(function(e){var t=e.location;return Object(N.isEmpty)(t.deleted_at)})),ci)(oi),ii=Object(r.memo)((function(e){var t=e.locationsData,a=e.locationsLoading,n=e.locationsFetch,r=e.setAlert,c=e.classes,l=Object(N.get)(t,"locations",[]);return o.a.createElement(fa.a,null,o.a.createElement(ha.a,null,o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:c.tableCell},"NOME"),o.a.createElement(va.a,{className:c.tableCell},"ENDERE\xc7O"),o.a.createElement(va.a,{className:c.tableCell},"CIDADE"),o.a.createElement(va.a,{className:c.tableCell},"HABILITAR"),o.a.createElement(va.a,{className:c.tableCell}))),o.a.createElement(ja.a,null,a?o.a.createElement(Ea.a,null,o.a.createElement(va.a,{colSpan:5,align:"center"},o.a.createElement(pe,null))):Object(N.size)(l)?l.map((function(e,t){return o.a.createElement(li,{key:e.id,setAlert:r,index:t,location:e,refetch:n})})):o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:c.empty,colSpan:5,align:"center"},"Nenhum local cadastrado"))))})),si=Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14}})}),{withTheme:!0})(ii),ui={validationErrors:{},name:"",address:"",neighborhood:"",city:"",state:"",zip_code:"",complement:""},mi=Object(r.memo)((function(e){var t=e.isModalOpen,a=e.setIsModalOpen,n=e.onClose,r=e.formData,c=e.setFormData,l=e.createLocationFetch,i=e.createLocationLoading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{color:"primary",size:"large",variant:"contained",onClick:function(){Q.hit("NewLocationModal - Opened"),a(!0)}},"NOVO LOCAL"),t&&o.a.createElement(ti,{open:t,onClose:n,modalTitle:"Novo Local",formData:r,setFormData:c,onSubmit:function(){return l(!0)},isLoading:i}))})),di=$t(Yc.createLocation,{name:"createLocation",init:!1,options:function(e){var t=e.formData,a=e.setFormData,n=e.setAlert,r=e.onCreated,o=e.onClose;t.validationErrors;return{variables:Object(ut.a)(t,["validationErrors"]),onRequestFinished:function(){n({alertMsg:"Local criado com sucesso",alertType:"success",showAlert:!0}),r(),o()},onRequestError:function(e){n({alertMsg:"Erro ao criar local",alertType:"error",showAlert:!0}),a({validationErrors:Object(N.get)(e,"errors",{})})}}}}),bi=Object(Z.b)(Object(Z.h)("isModalOpen","setIsModalOpen",!1),Object(Z.h)("formData","setFormDataRaw",ui),Object(Z.e)({setFormData:function(e){var t=e.setFormDataRaw,a=e.formData;return function(e){t(Object(f.a)(Object(f.a)({},a),e))}}}),Object(Z.e)({onClose:function(e){var t=e.setFormData,a=e.setIsModalOpen;return function(){Q.hit("NewLocationModal - Closed"),t(ui),a(!1)}}}),di)(mi),pi=Object(r.memo)((function(e){var t=e.locationsData,a=e.locationsLoading,n=e.locationsFetch,r=e.classes,c=e.setAlert;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:r.headerContainer},o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Locais (".concat(Object(N.get)(t,"meta.totalCount",0),")"))),o.a.createElement(bi,{setAlert:c,onCreated:n})),o.a.createElement(Va.a,{className:r.tablePaper},o.a.createElement(si,{setAlert:c,locationsData:t,locationsLoading:a,locationsFetch:n})))})),gi=$t(Yc.getLocations,{name:"locations",options:function(e){var t=e.setAlert;return{variables:{listInactive:!0,listAll:!0},onRequestFinished:function(e){var t=Object(N.reject)(Object(N.get)(e,"locations",[]),(function(e){return Object(N.get)(e,"deleted_at")}));I.setUserData(Object(N.set)(I.getUserData(),"locations",t))},onRequestError:function(){t({alertMsg:"Erro ao carregar dados do servidor",alertType:"error",showAlert:!0})}}}}),fi=Object(Z.b)(Kl,Fc({condition:function(e){return!_a.includes(e.role)}}),Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:30,marginBottom:30}})}),{withTheme:!0}),gi)(pi),hi=a(389),Ei=a.n(hi),vi={encryptCreditCard:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cardNumber,n=t.cardHolderName,r=t.cardExpirationDate,o=t.cardCvv,e.next=3,Ei.a.client.connect({encryption_key:P.pagarmeEncryptionKey});case 3:return c=e.sent,e.next=6,c.security.encrypt({card_number:a.replace(/\D+/g,""),card_holder_name:n,card_expiration_date:r.replace(/\D+/g,""),card_cvv:o});case 6:return l=e.sent,e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Oi={list:function(){return z.get("/plans").then((function(e){return ac.a.toCamelCase(e)}))}},ji={list:function(){return z.get("/credit_cards").then((function(e){return ac.a.toCamelCase(e)}))}},Ci=function(e){if(null===e)return null;var t=/(\d{1,4})(?:-(\d{0,4}))?(?:-(\d{0,4}))?(?:-(\d{0,4}))?/.exec(e);if(!t)return t;var a=Object(N.filter)(t.slice(1),(function(e){return e}));return a.length<4&&4===Object(N.last)(a).length?"".concat(a.join("-"),"-"):a.join("-")},yi=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{changeCard:{cursor:"pointer",display:"flex",justifyContent:"flex-end",alignItems:"flex-end",textDecoration:"underline"},changeCardIcon:{paddingTop:5,textDecoration:"none"}})}),{withTheme:!0}))((function(e){var t=e.isLoading,a=e.currentCreditCard,n=e.onSetNewCreditCard,r=e.classes,c=e.setFormData,l=e.formData,i=l.cardHolderName,s=l.cardNumber,u=l.cardCvv,m=l.cardExpirationDate;return a?o.a.createElement(o.a.Fragment,null,o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Dados do cart\xe3o de cr\xe9dito")),o.a.createElement(Pn.a,{pt:2},o.a.createElement(He.a,{variant:"body1"},o.a.createElement("b",null,"Titular: "),a.holderName),o.a.createElement(He.a,{variant:"body1"},o.a.createElement("b",null,"Cart\xe3o: "),"****-****-****-".concat(a.lastDigits," (").concat(Object(N.capitalize)(a.brand),")")),o.a.createElement(He.a,{variant:"body1"},o.a.createElement("b",null,"Data de expira\xe7\xe3o: "),A()(a.expiration,"MM/YY").format("MM/YY"))),o.a.createElement("span",{className:r.changeCard,onClick:n},o.a.createElement(xr.a,{className:r.changeCardIcon}),"Mudar de cart\xe3o")):o.a.createElement(o.a.Fragment,null,o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Dados do cart\xe3o de cr\xe9dito")),o.a.createElement(ue.a,{container:!0,alignItems:"center"},o.a.createElement(ue.a,{item:!0,xs:12,sm:12},o.a.createElement(pt,{label:"Titular",placeholder:"Nome do t\xedtular",disabled:t,value:i,onChangeText:function(e){return c({cardHolderName:e})}})),o.a.createElement(ue.a,{container:!0,alignItems:"center",spacing:1},o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(pt,{label:"N\xfamero",placeholder:"N\xfamero do cart\xe3o",disabled:t,value:s||"",onChangeText:function(e){return c({cardNumber:e})},maskFunction:Ci})),o.a.createElement(ue.a,{item:!0,xs:5,sm:3},o.a.createElement(gt,{label:"CVV",disabled:t,value:u,onChangeText:function(e){return c({cardCvv:e})},isInteger:!0,max:999})),o.a.createElement(ue.a,{item:!0,xs:7,sm:3},o.a.createElement(pt,{placeholder:"MM/AA",label:"Data de expira\xe7\xe3o",disabled:t,value:m||"",onChangeText:function(e){return c({cardExpirationDate:e})},maskFunction:function(e){return function(e){var t=e.oldValue,a=e.newValue;if(null===a)return null;var n=/(\d{1,2})(?:\/?(\d{0,2}))?/.exec(a);if(!n)return n;var r=Object(N.filter)(n.slice(1),(function(e){return e})),o=Object(vt.a)(r,2),c=o[0],l=o[1];return Number(c)>12?t:1===c.length&&Number(c)>1?"0".concat(c,"/"):2!==c.length?c:"".concat(c,"/").concat(l||"")}({newValue:e,oldValue:m})}})))))})),ki=Object(Z.b)(r.memo)((function(e){var t=e.isLoading,a=e.setFormData,n=e.formData,r=n.cnpj,c=n.addressZipcode,l=n.addressNumber,i=n.addressComplementary,s=n.phone;return o.a.createElement(o.a.Fragment,null,o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Dados do cliente")),o.a.createElement(ue.a,{container:!0,alignItems:"center"},o.a.createElement(ue.a,{container:!0,alignItems:"center",spacing:1},o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(gt,{label:"CNPJ",placeholder:"CNPJ da empresa (Somente n\xfameros)",disabled:t,value:r,onChangeText:function(e){return a({cnpj:e})},max:99999999999999})),o.a.createElement(ue.a,{item:!0,xs:8,sm:6},o.a.createElement(yt,{label:"Telefone",placeholder:"Contato da empresa",disabled:t,value:s,onChangeText:function(e){return a({phone:e})}}))),o.a.createElement(ue.a,{container:!0,alignItems:"center",spacing:1},o.a.createElement(ue.a,{item:!0,xs:8,sm:5},o.a.createElement(Ot,{label:"CEP",placeholder:"CEP da empresa",disabled:t,value:c,onChangeText:function(e){return a({addressZipcode:e})}})),o.a.createElement(ue.a,{item:!0,xs:6,sm:3},o.a.createElement(gt,{label:"N\xfamero",placeholder:"N\xfamero logradouro do CEP",disabled:t,value:l,onChangeText:function(e){return a({addressNumber:e})}})),o.a.createElement(ue.a,{item:!0,xs:6,sm:4},o.a.createElement(pt,{label:"Complemento",placeholder:"Complemento do CEP",disabled:t,value:i,onChangeText:function(e){return a({addressComplementary:e})}})))))})),Ai={toCurrency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"BRL",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pt-BR",n={style:"currency",currency:t};return new Intl.NumberFormat(a,n).format(e)}},wi=function(e){var t=e.item,a=e.classes;return o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:a.tableMediumCell},o.a.createElement(He.a,{variant:"body1"},t.title),Object(N.get)(t,"description","").split("\n").map((function(e){return o.a.createElement("div",{key:e},o.a.createElement(He.a,{variant:"body1"},o.a.createElement("small",null,e)))}))),o.a.createElement(va.a,{className:a.priceCell},o.a.createElement(He.a,{variant:"h6",component:"span"},o.a.createElement("b",null,Ai.toCurrency(t.value)))))},Ti=function(e){var t=e.item,a=e.disabled,n=e.classes,r=e.onAmountChange;return o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:n.tableMediumCell},o.a.createElement(He.a,{variant:"body1"},t.title,"\xa0-\xa0",o.a.createElement("b",null,Ai.toCurrency(t.unitPrice))),Object(N.get)(t,"description","").split("\n").map((function(e){return o.a.createElement("div",{key:e},o.a.createElement(He.a,{variant:"body1"},o.a.createElement("small",null,e)))}))),o.a.createElement(va.a,{className:n.numberFieldCell},!t.disableAmount&&o.a.createElement(Et,{value:t.amount,disabled:a,onChangeText:r,min:1})))},xi=Object(Z.b)(r.memo,Object($.a)((function(e){var t=oe(e);return Object(f.a)(Object(f.a)({},t),{},{tableSmallCell:Object(f.a)(Object(f.a)({},t.tableSmallCell),{},{borderBottom:"none",padding:e.spacing(1),paddingLeft:0}),tableMediumCell:Object(f.a)(Object(f.a)({},t.tableMediumCell),{},{borderBottom:"none",padding:e.spacing(1),paddingLeft:0}),priceCell:Object(f.a)(Object(f.a)({},t.tableSmallCell),{},{borderBottom:"none",padding:e.spacing(1),paddingLeft:0,textAlign:"right"}),numberFieldCell:Object(f.a)(Object(f.a)({},t.tableSmallCell),{},{borderBottom:"none",padding:e.spacing(1),paddingLeft:0,verticalAlign:"text-top",textAlign:"right"})})}),{withTheme:!0}),Object(Z.e)({setItemAmount:function(e){var t=e.formData.items,a=e.setFormData;return function(e,n){var r=t.slice(0,e),o=Object(f.a)(Object(f.a)({},t[e]),{},{amount:n}),c=t.slice(e+1,t.length-1);a({items:r.concat(o).concat(c)})}}}))((function(e){var t=e.classes,a=e.isDowngrade,n=e.formData,r=n.items,c=n.refundItems,l=e.nextCharge,i=e.disabled,s=e.setItemAmount,u=a?0:Object(N.max)([0,Object(N.sumBy)(r,(function(e){return e.unitPrice*e.amount}))-Object(N.sumBy)(c,(function(e){return e.value}))]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Sum\xe1rio")),o.a.createElement(fa.a,null,o.a.createElement(ja.a,null,Object(N.map)(r,(function(e,a){return o.a.createElement(Ti,{key:"#".concat(a).concat(e.title),item:e,disabled:i,classes:t,onAmountChange:function(e){return s(a,e)}})})),!Object(N.isEmpty)(l)&&o.a.createElement(wi,{item:l,classes:t}),!a&&Object(N.map)(c,(function(e,a){return o.a.createElement(wi,{key:"#".concat(a).concat(e.title),item:{title:e.title,value:-1*e.value||0},classes:t})})),o.a.createElement(wi,{item:{title:"Valor cobrado hoje",description:a?"* Ao reduzir lugares, o plano ser\xe1 atualizado na pr\xf3xima cobran\xe7a.":"",value:u},classes:t}))))})),Si=P.isProduction?30:1,Ni=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.currentCreditCard,n=t.formFields,e.prev=1,!Object(N.isEmpty)(a)){e.next=8;break}return e.next=5,vi.encryptCreditCard(n);case 5:r=e.sent,e.next=9;break;case 8:o=Object(N.get)(a,"id");case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),r=null;case 15:return e.abrupt("return",{creditCardHash:r,creditCardId:o});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Di=$t((function(){return Promise.all([Oi.list().catch((function(e){return e})),ji.list().catch((function(e){return e})),lc.get().catch((function(e){return e}))])}),{name:"preload",props:function(e){var t=e.preloadData;return t?{plan:Object(N.first)(Object(N.get)(Object(N.find)(t,(function(e){return e.plans})),"plans")),currentSubscription:Object(N.get)(Object(N.find)(t,(function(e){return e.subscription})),"subscription")}:{}},options:function(e){var t=e.setAlert,a=e.setCurrentCreditCard;return{onRequestFinished:function(e){var t=Object(N.first)(Object(N.get)(Object(N.find)(e,(function(e){return e.creditCards})),"creditCards"));a(t)},onRequestError:function(e){console.error(e),t({alertMsg:"Erro ao carregar informa\xe7\xf5es sobre assinar plano",alertType:"error",showAlert:!0})}}}}),Mi=$t(lc.create,{name:"create",init:!1,options:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o,c,l,i,s,d,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.currentCreditCard,c=t.setAlert,l=t.plan,i=t.history,a.validationErrors,s=Object(ut.a)(a,["validationErrors"]),d=Object(N.get)(Object(N.first)(s.items),"amount"),e.next=5,Ni({formFields:s,currentCreditCard:o});case 5:return b=e.sent,e.abrupt("return",{variables:Object(f.a)(Object(f.a)(Object(f.a)({},a),b),{},{planName:l.planName,planSeats:d}),onRequestFinished:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({alertMsg:"Assinatura de plano efetuada com sucesso.",alertType:"success",showAlert:!0}),r(),e.next=4,U.getViewer();case 4:t=e.sent,I.setUserData(Object(N.get)(t,"member")),setTimeout((function(){i.push("/configuracoes/meu-plano")}),2e3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){c({alertMsg:Object(N.get)(e,"error","Erro ao assinar plano, fique tranquilo, nenhuma cobran\xe7a foi efetuada."),alertType:"error",showAlert:!0}),n({validationErrors:Object(N.get)(e,"errors",{})})}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Fi=$t(lc.update,{name:"update",init:!1,options:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o,c,l,i,s,d,b,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentSubscription,n=t.currentCreditCard,r=t.setAlert,o=t.formData,c=t.setFormData,l=t.resetFormData,i=t.plan,s=t.history,o.validationErrors,d=Object(ut.a)(o,["validationErrors"]),b=Object(N.get)(Object(N.first)(d.items),"amount"),e.next=5,Ni({formFields:d,currentCreditCard:n});case 5:return p=e.sent,e.abrupt("return",{variables:Object(f.a)({id:a.id,planName:i.planName,planSeats:b},p),onRequestFinished:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({alertMsg:"Assinatura de plano atualizada com sucesso.",alertType:"success",showAlert:!0}),l(),e.next=4,U.getViewer();case 4:t=e.sent,I.setUserData(Object(N.get)(t,"member")),setTimeout((function(){s.push("/configuracoes/meu-plano")}),2e3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){r({alertMsg:Object(N.get)(e,"error","Erro ao atualizar plano, fique tranquilo, nenhuma cobran\xe7a foi efetuada."),alertType:"error",showAlert:!0}),c({validationErrors:Object(N.get)(e,"errors",{})})}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Ii=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),Lc,Fc({condition:function(e){return!_a.includes(e.role)}}),h.g,r.memo,Object(Z.h)("currentCreditCard","setCurrentCreditCard",null),Di,Object(Z.f)((function(e){var t=e.currentSubscription,a=Object(N.get)(t,"periodEnd");return{hasActiveSubscription:a&&new Date(a)>new Date}})),So((function(e){var t=Object(N.get)(e,"viewer.company"),a=Object(N.get)(e,"plan"),n=Object(N.get)(e,"currentSubscription"),r=Object(N.get)(e,"hasActiveSubscription"),o=Object(N.get)(n,"plan.seats")||Object(N.get)(t,"total_paid_users")||1,c=r?function(e){var t=e.periodStart,a=e.periodEnd,n=e.currentPrice,r=A()(a).endOf("day"),o=A()(t).endOf("day"),c=r.diff(o,"days");return A()(r).diff(A()(),"days")/c*n}(n):0,l=c?[{title:"Valor de desconto do per\xedodo atual",value:c}]:[];return{cardHolderName:"",cardNumber:"",cardCvv:null,cardExpirationDate:"",cnpj:"",addressZipcode:"",addressNumber:"",addressComplementary:"",phone:"",items:[{title:Object(N.get)(a,"planName"),description:"Acesso a ferramenta de gest\xe3o das solicita\xe7\xf5es dos colaboradores de forma centralizada. Seus colaboradores podem abrir tickets para voc\xea e seu time facilmente, seja no computador, celular, QR code ou integrado ao Slack. Tenha mais visibilidade e produtividade na gest\xe3o das suas tarefas.",unitPrice:Object(N.get)(a,"planPrice"),amount:o}],refundItems:l}})),Object(Z.f)((function(e){var t=e.currentSubscription,a=e.hasActiveSubscription,n=e.formData,r=Object(N.first)(n.items),o=Object(N.get)(t,"plan.seats"),c=Object(N.get)(r,"amount"),l=c<o,i=a?A()(t.periodEnd):A()().add(Si,"days");return{isDowngrade:l,nextCharge:a?{title:"Pr\xf3xima cobran\xe7a em ".concat(i.format("DD/MM/YYYY")),value:r.unitPrice*c}:null}})),Mi,Fi,Object(Z.e)({onSubmit:function(e){var t=e.createFetch,a=e.updateFetch,n=e.hasActiveSubscription;return function(){return n?a(!0):t(!0)}}}))((function(e){var t=e.formData,a=e.setFormData,n=e.onSubmit,r=e.createLoading,c=e.updateLoading,l=e.preloadError,i=e.preloadLoading,s=e.currentCreditCard,u=e.setCurrentCreditCard,m=e.nextCharge,d=e.isDowngrade,b=e.hasActiveSubscription,p=e.history,g=e.plan,f=e.classes;if(i)return o.a.createElement(pe,null);var h=c||r,E=h||l;return Object(N.isEmpty)(g)?o.a.createElement("div",{className:f.centerHeaderView},o.a.createElement(te.a,{className:f.emptyHeaderIcon}),o.a.createElement("b",{className:f.emptyHeaderTitle},"Sistema de assinatura esta temporariamente fora de servi\xe7o")):o.a.createElement(ue.a,{item:!0,xs:12,sm:9},o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,"Assinar plano")),o.a.createElement(Pn.a,{mt:3,mb:2},o.a.createElement(yi,{currentCreditCard:s,formData:t,setFormData:a,isLoading:h,onSetNewCreditCard:function(){return u(null)}}),!b&&o.a.createElement(Pn.a,{mt:2},o.a.createElement(ki,{formData:t,setFormData:a,disabled:h})),o.a.createElement(Pn.a,{mt:2},o.a.createElement(xi,{formData:t,setFormData:a,disabled:h,nextCharge:m,isDowngrade:d}))),o.a.createElement(ue.a,{justify:"flex-end",container:!0,item:!0,xs:12},o.a.createElement(me.a,{color:"default",size:"large",onClick:function(){return p.push("/configuracoes/meu-plano")}},"Voltar"),"\xa0\xa0\xa0",o.a.createElement(me.a,{color:"primary",size:"large",variant:"contained",onClick:n,disabled:E},b?"Atualizar Plano":"Assinar Plano")))})),Ri=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{boxItemText:{margin:e.spacing(2)},boxPad:{padding:e.spacing(2)},borderRight:{borderWidth:"thin",borderRight:"solid",borderRightColor:e.palette.grey[300]}})}),{withTheme:!0}),h.g)((function(e){var t=e.classes,a=e.history;return o.a.createElement(Va.a,{className:t.tablePaper},o.a.createElement(ue.a,{container:!0,justify:"center",alignItems:"flex-start"},o.a.createElement(ue.a,{item:!0,xs:12,sm:!0,align:"center",className:t.boxPad},o.a.createElement(He.a,{variant:"h6"},"Plano atual"),o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Essencial (Gratuito)")),o.a.createElement(me.a,{variant:"contained",color:"primary",size:"large",className:t.boxItemText,onClick:function(){return a.push("/assinar-plano")}},"ASSINAR PLANO PROFISSIONAL"))))})),Li=$t(lc.cancel,{name:"cancel",init:!1,options:function(e){var t=e.setAlert,a=e.subscription,n=e.onCancelSuccess;return{variables:a.id,onRequestFinished:function(){t({alertMsg:"Cancelamento de assinatura foi agendado com sucesso",alertType:"success",showAlert:!0}),n&&n()},onRequestError:function(e){t({alertMsg:Object(N.get)(e,"error","N\xe3o foi poss\xedvel cancelar sua assinatura."),alertType:"error",showAlert:!0})}}}}),Bi=Object(Z.b)(r.memo,Li,Object(Z.e)({onClick:function(e){var t=e.cancelFetch;return function(){window.confirm("Deseja mesmo cancelar sua assinatura?")&&t(!0)}}}))((function(e){var t=e.className,a=e.onClick;return o.a.createElement(me.a,{className:t,onClick:a},"CANCELAR PLANO")})),Pi=$t(lc.undoCancelation,{name:"undocancelation",init:!1,options:function(e){var t=e.setAlert,a=e.onSuccess;return{onRequestFinished:function(){t({alertMsg:"Sua assinatura foi reativada sucesso.",alertType:"success",showAlert:!0}),a&&a()},onRequestError:function(e){console.error(e),t({alertMsg:Object(N.get)(e,"error","N\xe3o foi poss\xedvel reativar sua assinatura."),alertType:"error",showAlert:!0})}}}}),_i=Object(Z.b)(r.memo,Pi,Object(Z.e)({onClick:function(e){var t=e.undocancelationFetch;return function(){return t(!0)}}}))((function(e){var t=e.className,a=e.onClick;return o.a.createElement(me.a,{variant:"outlined",className:t,onClick:a},"REATIVAR PLANO")})),qi=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{boxItemText:{margin:e.spacing(2)},updateSeats:{marginTop:-3},centerBox:{borderWidth:"thin",borderLeft:"solid",borderLeftColor:e.palette.grey[300],borderRight:"solid",borderRightColor:e.palette.grey[300],marginBottom:20}})}),{withTheme:!0}),Yo,h.g)((function(e){var t=e.classes,a=e.setAlert,n=e.viewer,r=e.subscription,c=e.refetch,l=e.history;if(!n||!r)return null;var i=Object(N.get)(r,"plan",{}),s=Object(N.get)(n,"company.total_paid_users",0);return o.a.createElement(Va.a,{className:t.tablePaper},o.a.createElement(ue.a,{container:!0,justify:"center",alignItems:"flex-start"},o.a.createElement(ue.a,{item:!0,xs:12,sm:!0,align:"center"},o.a.createElement(He.a,{variant:"h6",className:t.boxItemText},"Administradores"),o.a.createElement(He.a,{variant:"h5",className:t.boxItemText},o.a.createElement("b",null,"".concat(s,"/").concat(i.seats))),o.a.createElement(me.a,{variant:"outlined",className:t.boxItemText,onClick:function(){return l.push("/configuracoes/usuarios")}},"GERENCIAR USU\xc1RIOS")),o.a.createElement(ue.a,{item:!0,xs:12,sm:!0,align:"center",className:t.centerBox},o.a.createElement(He.a,{variant:"h6",className:t.boxItemText},"Valor da assinatura"),o.a.createElement("div",{className:t.boxItemText},o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,Ai.toCurrency(r.currentPrice))),o.a.createElement("small",null,r.willCancelAt?"Termina em: ".concat(A()(r.willCancelAt).format("DD/MM/YYYY")):"Pr\xf3xima cobran\xe7a: ".concat(A()(r.periodEnd).format("DD/MM/YYYY")))),!r.willCancelAt&&o.a.createElement(me.a,{variant:"outlined",className:t.updateSeats,onClick:function(){return l.push("/assinar-plano")}},"ADICIONAR LUGARES")),o.a.createElement(ue.a,{item:!0,xs:12,sm:!0,align:"center"},o.a.createElement(He.a,{variant:"h6",className:t.boxItemText},"Plano atual"),o.a.createElement(He.a,{variant:"h5",className:t.boxItemText},o.a.createElement("b",null,i.name)),r.willCancelAt?o.a.createElement(_i,{setAlert:a,className:t.boxItemText,subscription:r,onSuccess:c}):o.a.createElement(Bi,{setAlert:a,className:t.boxItemText,subscription:r,onCancelSuccess:c}))))})),zi={getInvoices:function(){return z.get("/invoices")}},Ui=[{label:"Boleto",key:"BOLETO"},{label:"Cart\xe3o de cr\xe9dito",key:"CREDIT_CARD"}],Wi=[{label:"Processando",value:"PROCESSING"},{label:"Autorizado",value:"AUTHORIZED"},{label:"Estornado",value:"REFUNDED"},{label:"Aguardando Pagamento",value:"WAITING_PAYMENT"},{label:"Aguardando Estorno",value:"PENDING_REFUND"},{label:"Pago",value:"PAID"},{label:"Recusado",value:"REFUSED"}],Vi=Object(Z.b)(r.memo,Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{cellText:{color:"#313131",fontSize:14},userName:{marginRight:5,marginLeft:10},avatarNameContainer:{display:"flex",alignItems:"center"},smallScreenResendButton:{marginTop:10}})}),{withTheme:!0}))((function(e){var t=e.index,a=e.classes,n=e.invoice,r=Object(N.get)(Object(N.find)(Ui,(function(e){return e.key===n.payment_type})),"label"),c=Object(N.get)(Object(N.find)(Wi,(function(e){return e.value===n.status})),"label"),l=A()(n.created_at).format("DD/MM/YYYY");return o.a.createElement(Ea.a,{className:t%2?a.bgWhite:a.bgGray},o.a.createElement(va.a,{className:a.tableSmallCell},o.a.createElement("span",{className:a.cellText},n.description)),o.a.createElement(va.a,{className:a.tableSmallCell},o.a.createElement("span",{className:a.cellText},Ai.toCurrency(n.amount))),o.a.createElement(va.a,{className:a.tableSmallCell},o.a.createElement("span",{className:"".concat(a.cellText)},r)),o.a.createElement(va.a,{className:a.tableSmallCell},n.boleto_link&&o.a.createElement("a",{href:n.boleto_link,className:a.cellText,target:"_blank",rel:"noopener noreferrer"},"Ver boleto")),o.a.createElement(va.a,{className:a.tableSmallCell},o.a.createElement("span",{className:a.cellText},c)),o.a.createElement(va.a,{className:a.tableSmallCell},o.a.createElement("span",{className:a.cellText},l)))})),Hi=Object(r.memo)((function(e){var t=e.invoicesData,a=e.invoicesLoading,n=e.classes,r=e.setAlert,c=Object(N.get)(t,"invoices");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Pagamentos (".concat(Object(N.size)(c),")")))))),o.a.createElement("div",{className:n.container},o.a.createElement(Va.a,{className:n.tablePaper},o.a.createElement(fa.a,null,o.a.createElement(ha.a,null,o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:n.tableSmallCell},"DESCRI\xc7\xc3O"),o.a.createElement(va.a,{className:n.tableSmallCell},"VALOR"),o.a.createElement(va.a,{className:n.tableSmallCell},"FORMA DE PGTO"),o.a.createElement(va.a,{className:n.tableSmallCell},"LINK BOLETO"),o.a.createElement(va.a,{className:n.tableSmallCell},"STATUS"),o.a.createElement(va.a,{className:n.tableSmallCell},"DATA"))),o.a.createElement(ja.a,null,a?o.a.createElement(Ea.a,null,o.a.createElement(va.a,{colSpan:6,align:"center"},o.a.createElement(pe,null))):Object(N.size)(c)?c.map((function(e,t){return o.a.createElement(Vi,{setAlert:r,index:t,key:e.id,invoice:e,loading:a})})):o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:n.empty,colSpan:6,align:"center"},"Nenhum pagamento realizado")))))))})),Yi=$t(zi.getInvoices,{name:"invoices",options:function(e){var t=e.setAlert;return{onRequestError:function(){t({alertMsg:"Erro ao carregar hist\xf3rico de pagamentos",alertType:"error",showAlert:!0})}}}}),Qi=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{container:{marginBottom:30,marginTop:30},empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14},titleTableCell:{fontSize:20},headerButtonAndActiveFilter:{display:"flex",flexDirection:"row",alignItems:"center"},activeFilter:{marginRight:10}})}),{withTheme:!0}),Fc({condition:function(e){return!_a.includes(e.role)}}),Yi)(Hi),Gi=$t(lc.get,{name:"subscription",options:function(e){var t=e.setAlert;return{onRequestError:function(){t({alertMsg:"Erro ao carregar dados do servidor",alertType:"error",showAlert:!0})}}}}),Ji=Object(Z.b)(r.memo,Fc({condition:function(e){return!_a.includes(e.role)}}),Yo,Object(Z.h)("loading","setLoading",!0),Kl,Gi)((function(e){var t,a=e.viewer,n=e.setAlert,r=e.subscriptionData,c=e.subscriptionLoading,l=e.subscriptionError,i=e.subscriptionFetch,s=Object(N.get)(a,"company.trial_expiration"),u=Object(N.get)(r,"subscription");if(c)return o.a.createElement(pe,null);Object(N.isEmpty)(l)&&(t=u&&new Date(u.periodEnd)>new Date?o.a.createElement(qi,{setAlert:n,subscription:u,refetch:function(){return i(!0)}}):o.a.createElement(Ri,{setAlert:n}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(fo,{trialExpiration:s,willDowngradeAt:Object(N.get)(u,"willDowngradeAt"),willCancelAt:Object(N.get)(u,"willCancelAt")}),o.a.createElement(Pn.a,{mb:4,mt:2},t,o.a.createElement(Qi,{setAlert:n})))})),Xi={toggleNewTicket:function(){return z.put("/notification_settings/toggle_new_ticket",{}).then((function(e){return ac.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=ac.a.toCamelCase(e.errors)),e}))},toggleTicketUpdates:function(){return z.put("/notification_settings/toggle_ticket_updates",{}).then((function(e){return ac.a.toCamelCase(e)})).catch((function(e){throw e.errors&&(e.errors=ac.a.toCamelCase(e.errors)),e}))}},Ki=$t(Xi.toggleNewTicket,{init:!1,props:function(e){return e.data||{}},options:function(e){var t=e.setAlert,a=e.viewer;return{onRequestFinished:function(){I.setUserData(Object(f.a)(Object(f.a)({},a),{},{notify_new_ticket:!a.notify_new_ticket}))},onRequestError:function(e){var a=e.errors?Object.values(e.errors).flat().join():"Erro ao comunicar com servidor";t({alertMsg:a,alertType:"error",showAlert:!0})}}}}),Zi=Object(Z.b)(r.memo,Yo,Ki,Object(Z.e)({onSubmit:function(e){var t=e.fetch;return function(){return t(!0)}}}))((function(e){var t=e.viewer,a=e.loading,n=e.onSubmit;return o.a.createElement("div",null,o.a.createElement(wr.a,{color:"primary",disabled:a,checked:t.notify_new_ticket,onChange:n}),o.a.createElement(He.a,{variant:"body1",component:"span"},"Receber notifica\xe7\xf5es de novos tickets abertos"))})),$i=$t(Xi.toggleTicketUpdates,{init:!1,props:function(e){return e.data||{}},options:function(e){var t=e.setAlert,a=e.viewer;return{onRequestFinished:function(){I.setUserData(Object(f.a)(Object(f.a)({},a),{},{notify_ticket_updates:!a.notify_ticket_updates}))},onRequestError:function(e){var a=e.errors?Object.values(e.errors).flat().join():"Erro ao comunicar com servidor";t({alertMsg:a,alertType:"error",showAlert:!0})}}}}),es=Object(Z.b)(r.memo,Yo,$i,Object(Z.e)({onSubmit:function(e){var t=e.fetch;return function(){return t(!0)}}}))((function(e){var t=e.viewer,a=e.loading,n=e.onSubmit;return o.a.createElement("div",null,o.a.createElement(wr.a,{color:"primary",disabled:a,checked:t.notify_ticket_updates,onChange:n}),o.a.createElement(He.a,{variant:"body1",component:"span"},"Receber notifica\xe7\xf5es de atualiza\xe7\xf5es de tickets que fa\xe7o parte"))})),ts=Object(Z.b)(r.memo,Kl,Object($.a)(oe,{withTheme:!0}),Yo)((function(e){var t=e.classes,a=e.setAlert,n=e.viewer;return o.a.createElement(Pn.a,{mt:5},o.a.createElement(Va.a,{className:t.paper},"MEMBER"!==n.role&&o.a.createElement(Zi,{setAlert:a}),o.a.createElement(es,{setAlert:a})))})),as=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.updateMemberFetch,c=e.updateMemberLoading,l=e.errors,i=e.email,s=e.name,u=e.lastname,m=e.setName,d=e.setLastname,b=e.jobRole,p=e.setJobRole,g=t.showAlert,f=t.alertMsg,h=t.alertType,E=null;g&&(E=o.a.createElement(nt,{message:f,type:h,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}}));var O=c;return o.a.createElement("div",{className:n.root},o.a.createElement(vn,{alertBox:E}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:n.container},o.a.createElement(xn,null)),o.a.createElement("br",null),o.a.createElement("div",{className:n.container},o.a.createElement(Va.a,{className:n.paper},o.a.createElement(ue.a,{container:!0,item:!0,xs:12,sm:6,md:4},o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(pt,{errors:v()(l,"name",[]),label:"Nome",className:n.input,disabled:O,value:s,onChange:function(e){return m(e.target.value)}})),o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(pt,{errors:v()(l,"lastname",[]),label:"Sobrenome",className:n.input,disabled:O,value:u,onChange:function(e){return d(e.target.value)}})),o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(pt,{disabled:!0,label:"Email",className:n.input,value:i})),o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(pt,{errors:v()(l,"jobRole",[]),label:"Departamento",className:n.input,value:b,disabled:O,onChange:function(e){return p(e.target.value)}})),o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement("div",{className:n.actions},o.a.createElement(me.a,{onClick:function(){return r(!0)},size:"large",color:"primary",variant:"contained",disabled:O},"Atualizar"))))))))})),ns=$t(U.updateMember,{name:"updateMember",init:!1,options:function(e){var t=e.name,a=e.lastname,n=e.jobRole,r=e.setAlert,o=e.setName,c=e.setLastname,l=e.setJobRole,i=e.setErrors;return{variables:{name:t,lastname:a,jobRole:n},onRequestFinished:function(){var e=Object(m.a)(u.a.mark((function e(){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.getViewer();case 3:s=e.sent,I.setUserData(v()(s,"member")),o(t),c(a),l(n),r({alertMsg:"Perfil atualizado com sucesso",alertType:"success",showAlert:!0}),i({}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r({alertMsg:"Erro ao atualizar perfil",alertType:"error",showAlert:!0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),onRequestError:function(e){i(v()(e,"errors",{})),r({alertMsg:"Erro ao atualizar perfil",alertType:"error",showAlert:!0})}}}}),rs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{input:{marginBottom:0}})}),{withTheme:!0}),h.g,Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("disabled","setDisabled",!1),Object(Z.h)("name","setName",""),Object(Z.h)("lastname","setLastname",""),Object(Z.h)("email","setEmail",""),Object(Z.h)("jobRole","setJobRole",""),Object(Z.h)("errors","setErrors",{}),ns,Object(Z.c)({componentDidMount:function(){var e=this.props,t=e.setName,a=e.setLastname,n=e.setEmail,r=e.setJobRole,o=I.getUserData();t(v()(o,"name")),a(v()(o,"lastname")),n(v()(o,"email")),r(v()(o,"job_role"))}}))(as),os=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.password,c=e.errors,l=e.confirmPassword,i=e.setPassword,s=e.setConfirmPassword,u=e.updateMemberFetch,m=e.updateMemberLoading,d=t.showAlert,b=t.alertMsg,p=t.alertType,g=null;d&&(g=o.a.createElement(nt,{message:b,type:p,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}}));var f=m;return o.a.createElement("div",{className:n.root},o.a.createElement(vn,{alertBox:g}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:n.container},o.a.createElement(xn,null)),o.a.createElement("br",null),o.a.createElement("div",{className:n.container},o.a.createElement(Va.a,{className:n.paper},o.a.createElement(ue.a,{container:!0,item:!0,xs:12,sm:6,md:4},o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(pt,{errors:v()(c,"password",[]),label:"Nova senha",type:"password",className:n.input,disabled:f,value:r,onChange:function(e){return i(e.target.value)}})),o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(pt,{label:"Confirmar nova senha",type:"password",className:n.input,disabled:f,value:l,onChange:function(e){return s(e.target.value)}})),o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement("div",{className:n.actions},o.a.createElement(me.a,{onClick:function(){r===l?u(!0):a({alertMsg:"As senhas est\xe3o diferentes",alertType:"error",showAlert:!0})},size:"large",color:"primary",variant:"contained",disabled:f},"Atualizar"))))))))})),cs=$t(U.updateMemberPassword,{name:"updateMember",init:!1,options:function(e){var t=e.password,a=e.setAlert,n=e.setPassword,r=e.setConfirmPassword,o=e.setErrors;return{variables:{password:t},onRequestFinished:function(){a({alertMsg:"Perfil atualizado com sucesso",alertType:"success",showAlert:!0}),n(""),r(""),o({})},onRequestError:function(e){o(v()(e,"errors",{})),a({alertMsg:"Erro ao atualizar perfil",alertType:"error",showAlert:!0})}}}}),ls=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{input:{marginBottom:0}})}),{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("password","setPassword",""),Object(Z.h)("confirmPassword","setConfirmPassword",""),Object(Z.h)("errors","setErrors",{}),cs)(os),is=function(e){return Object(f.a)({},oe(e))},ss=$t(Sr.getAssignables,{name:"assignables",props:function(e){var t=e.assignablesData;return{assignables:Object(N.get)(t,"members",[])}}}),us=$t(rc.createCategory,{name:"create",init:!1,options:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.setAlert,c=t.onClose,l=t.refetch,e.abrupt("return",{variables:a.changedFields,onRequestFinished:function(){Q.hit("TicketCategory - Created"),r(),l(!0),o({alertMsg:"Categoria criada com sucesso",alertType:"success",showAlert:!0}),c()},onRequestError:function(e){n({validationErrors:Object(N.get)(e,"errors",{})}),o({alertMsg:"Erro ao criar categoria",alertType:"error",showAlert:!0})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),ms=$t(rc.updateCategory,{name:"update",init:!1,options:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o,c,l,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.setAlert,c=t.onClose,l=t.refetch,i=t.ticketCategory,e.abrupt("return",{variables:Object(f.a)(Object(f.a)({},a.changedFields),{},{ticketFormQuestions:a.ticketFormQuestions,id:i.id}),onRequestFinished:function(){Q.hit("TicketCategory - Updated"),r(),l(!0),o({alertMsg:"Categoria atualizada com sucesso",alertType:"success",showAlert:!0}),c()},onRequestError:function(e){n({validationErrors:Object(N.get)(e,"errors",{})}),o({alertMsg:"Erro ao atualizar categoria",alertType:"error",showAlert:!0})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),ds=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},is(e)),{},{actions:{margin:15,marginBottom:20},toggleRequired:{marginTop:20,marginLeft:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"},deleteVisitorButton:{fontWeight:"bold",backgroundColor:"#EE3C3C",color:"#FFF","&:hover":{backgroundColor:"#EE3C3C"},maxWidth:"40px",maxHeight:"40px",minWidth:"40px",minHeight:"40px",marginTop:"5px",marginLeft:"10px"}})}),{withTheme:!0}),r.memo,So((function(e){return e.ticketCategory?e.ticketCategory:{title:"",assigneeIds:[],deadlineInDays:"",ticketFormQuestions:[]}})),Object(Z.e)({onClose:function(e){var t=e.onClose,a=e.resetFormData;return function(){a(),t()}}}),ss,us,ms,Object(Z.f)((function(e){var t=e.formData,a=e.assignablesLoading,n=e.createLoading,r=e.updateLoading,o=e.ticketCategory,c=a||n||r;return{loading:c,disableNextButton:c||Object(N.isEmpty)(t.title),isNew:!o}})),Object(Z.e)({onSubmit:function(e){var t=e.createFetch,a=e.updateFetch,n=e.ticketCategory;return function(){return n?a(!0):t(!0)}},onAddFormQuestion:function(e){var t=e.setFormData,a=e.formData.ticketFormQuestions;return function(){var e={question:"",fieldType:"TEXT_FIELD",options:"",required:!1};t({ticketFormQuestions:Object(N.concat)(a,e)})}},onRemoveFormQuestion:function(e){var t=e.setFormData,a=e.formData.ticketFormQuestions;return function(e){a.splice(e,1),t({ticketFormQuestions:Object(N.cloneDeep)(a)})}},onUpdateFormQuestion:function(e){var t=e.setFormData,a=e.formData.ticketFormQuestions;return function(e,n,r){a[r][e]=n,t({ticketFormQuestions:Object(N.cloneDeep)(a)})}}}))((function(e){var t=e.classes,a=e.openModal,n=e.formData,r=n.validationErrors,c=n.title,l=n.assigneeIds,i=n.deadlineInDays,s=n.ticketFormQuestions,u=e.setFormData,m=e.onSubmit,d=e.loading,b=e.assignables,p=e.onClose,g=e.disableNextButton,f=e.onAddFormQuestion,h=e.onRemoveFormQuestion,E=e.onUpdateFormQuestion,v=e.isNew;return o.a.createElement(No,{onClose:p,modalTitle:v?"Nova categoria":"Editar categoria",content:o.a.createElement(ue.a,{container:!0,direction:"row",spacing:1},o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(pt,{disabled:d,label:"T\xedtulo",errors:r.title,value:c||"",onChangeValue:function(e){return u({title:e})}})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(Tt,{multiple:!0,label:"Respons\xe1veis",errors:r.assigneeIds,value:l,disabled:d,onChangeValue:function(e){return u({assigneeIds:e})},options:b.map((function(e){return{label:e.fullname,value:e.id}})),emptyOptionLabel:"Nenhum respons\xe1vel"})),o.a.createElement(ue.a,{item:!0,xs:12,sm:6},o.a.createElement(gt,{label:"Prazo de resolu\xe7\xe3o (em dias)",disabled:d,errors:r.deadlineInDays,value:i||"",onChangeValue:function(e){return u({deadlineInDays:e})}})),o.a.createElement(ue.a,{item:!0,xs:12},Object(N.map)(s,(function(e,a){return o.a.createElement(ue.a,{container:!0,direction:"row",spacing:1,key:a.toString()},o.a.createElement(ue.a,{item:!0,xs:2,sm:1},o.a.createElement(mt.a,{fullWidth:!0,margin:"normal"},o.a.createElement(me.a,{onClick:function(){return h(a)},variant:"contained",disabled:d,className:t.deleteVisitorButton},"-"))),o.a.createElement(ue.a,{item:!0,xs:10,sm:11},o.a.createElement(pt,{disabled:d,label:"T\xedtulo da pergunta",errors:Object(N.get)(r,"ticketFormQuestions[".concat(a,"].question")),value:e.question,onChangeValue:function(e){return E("question",e,a)}})),o.a.createElement(ue.a,{item:!0,xs:2,sm:1}),o.a.createElement(ue.a,{item:!0,xs:6,sm:8},o.a.createElement(Tt,{disabled:d,label:"Tipo do campo resposta",errors:Object(N.get)(r,"ticketFormQuestions[".concat(a,"].fieldType")),value:e.fieldType,onChangeValue:function(e){return E("fieldType",e,a)},options:Lt,optionValueField:"key"})),o.a.createElement(ue.a,{item:!0,xs:4,sm:3},o.a.createElement(Mt.a,{className:t.toggleRequired},o.a.createElement(Ft.a,{control:o.a.createElement(wr.a,{color:"primary",disabled:d,checked:!!Object(N.get)(e,"required"),value:"",onChange:function(){return E("required",!e.required,a)}}),label:o.a.createElement("small",null,"Obrigat\xf3rio")}))),o.a.createElement(ue.a,{item:!0,xs:2,sm:1}),Bt.includes(e.fieldType)&&o.a.createElement(ue.a,{item:!0,xs:10,sm:11},o.a.createElement(pt,{disabled:d,label:"Op\xe7\xf5es de respostas",placeholder:"Separe por v\xedrgula, ex: Item1,Item2,Item3",errors:Object(N.get)(r,"ticketFormQuestions[".concat(a,"].options")),value:e.options,onChangeValue:function(e){return E("options",e,a)}})))})))),actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(Pn.a,{style:{width:"100%"},display:"flex",justifyContent:v?"flex-end":"space-between"},!v&&o.a.createElement(me.a,{color:"primary",size:"large",variant:"outlined",disabled:d,onClick:f},"ADICIONAR PERGUNTA"),o.a.createElement(Pn.a,{display:"flex"},o.a.createElement(me.a,{color:"default",size:"large",variant:"contained",onClick:p,disabled:d},"CANCELAR"),o.a.createElement(Pn.a,{ml:2},o.a.createElement(me.a,{color:"primary",size:"large",variant:"contained",onClick:m,disabled:g},"SALVAR"))))),fullWidth:!0,open:a})})),bs=Object(Z.b)(Object(Z.h)("openModal","setOpenModal",!1))((function(e){var t=e.ticketCategory,a=e.refetch,n=e.openModal,r=e.setOpenModal,c=e.setAlert,l=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q.hit("TicketCategoryModal - Closed"),r(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{variant:"outlined",size:"medium",onClick:function(){Q.hit("TicketCategoryModal - Opened"),r(!0)}},"Editar"),o.a.createElement(ds,{ticketCategory:t,onClose:l,setAlert:c,refetch:a,openModal:n}))})),ps=Object(r.memo)((function(e){var t=e.viewer,a=e.index,n=e.classes,r=e.setAlert,c=e.ticketCategory,l=e.loading,i=e.setLoading,s=e.refetch,d=e.isManager,b=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Deseja realmente excluir essa categoria?")){e.next=13;break}return i(!0),e.prev=2,e.next=5,rc.toggleCategory(c.id);case 5:r({alertMsg:"A categoria foi exclu\xedda",alertType:"success",showAlert:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),r({alertMsg:"Erro ao excluir categoria",alertType:"error",showAlert:!0});case 11:i(!1),s();case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),p=c.deadlineInDays;return t?o.a.createElement(Ea.a,{className:a%2?n.bgWhite:n.bgGray},o.a.createElement(va.a,{className:n.tableSmallCell},o.a.createElement("span",{className:n.cellText},c.title)),o.a.createElement(va.a,{className:n.tableSmallCell},Object(N.map)(c.assignees,(function(e){return o.a.createElement("div",{key:e.id,className:n.avatarNameContainer},o.a.createElement(Ba,{name:e.fullname,photoUrl:e.photoUrl}),o.a.createElement("span",{className:"".concat(n.cellText," ").concat(n.userName)},e.fullname))}))),o.a.createElement(va.a,{className:n.tableSmallCell},o.a.createElement("span",{className:n.cellText},p?"".concat(p," ").concat(p>1?"dias \xfateis":"dia \xfatil"):"")),d&&o.a.createElement(va.a,{className:n.tableSmallCell},o.a.createElement(bs,{ticketCategory:c,setAlert:r,refetch:s}),"\xa0\xa0\xa0",o.a.createElement(Ze.a,{disabled:l,onClick:b},o.a.createElement(Ir.a,null)))):null})),gs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},is(e)),{},{cellText:{color:"#313131",fontSize:14},userName:{marginRight:5,marginLeft:10},avatarNameContainer:{display:"flex",alignItems:"center",marginTop:e.spacing(1)},smallScreenResendButton:{marginTop:e.spacing(2)}})}),{withTheme:!0}),Object(Z.h)("loading","setLoading",!1),Yo)(ps),fs=Object(r.memo)((function(e){var t=e.ticketCategories,a=e.ticketCategoriesLoading,n=e.openTicketCategoryModal,r=e.setOpenTicketCategoryModal,c=e.classes,l=e.setAlert,i=e.ticketCategoriesFetch,s=I.getUserData(),u=_a.includes(Object(N.get)(s,"role")),m=a,d=u?4:3;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:c.container},o.a.createElement("div",{className:c.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Categorias (".concat(Object(N.size)(t),")")))),o.a.createElement("aside",null,u&&o.a.createElement(me.a,{size:"large",color:"primary",variant:"contained",onClick:function(){Q.hit("TicketCategory - Opened"),r(!0)}},"Nova Categoria")))),o.a.createElement("div",{className:c.container},o.a.createElement(Va.a,{className:c.tablePaper},o.a.createElement(fa.a,null,o.a.createElement(ha.a,null,o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:c.tableCell},"T\xcdTULO"),o.a.createElement(va.a,{className:c.tableCell},"RESPONS\xc1VEIS"),o.a.createElement(va.a,{className:c.tableCell},"PRAZO DE RESOLU\xc7\xc3O"),u&&o.a.createElement(va.a,{className:c.tableCell},"A\xc7\xd5ES"))),o.a.createElement(ja.a,null,m?o.a.createElement(Ea.a,null,o.a.createElement(va.a,{colSpan:d,align:"center"},o.a.createElement(pe,null))):Object(N.size)(t)?t.map((function(e,t){return o.a.createElement(gs,{isManager:u,setAlert:l,index:t,key:e.id,ticketCategory:e,isLoading:m,refetch:i})})):o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:c.empty,colSpan:d,align:"center"},"Nenhuma categoria cadastrada")),o.a.createElement(ds,{onClose:function(){Q.hit("TicketCategory - Closed"),r(!1)},openModal:u&&n,setAlert:l,refetch:i}))))))})),hs=$t(rc.getCategories,{name:"ticketCategories",props:function(e){var t=e.ticketCategoriesData;return{ticketCategories:Object(N.get)(t,"ticketCategories")}},options:function(e){var t=e.setAlert;return{variables:!1,onRequestError:function(){t({alertMsg:"Erro ao carregar categorias",alertType:"error",showAlert:!0})}}}}),Es=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},is(e)),{},{container:{marginBottom:30,marginTop:30},empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14},titleTableCell:{fontSize:20}})}),{withTheme:!0}),Object(Z.h)("openTicketCategoryModal","setOpenTicketCategoryModal",!1),Fc({condition:function(e){return!_a.includes(e.role)}}),hs)(fs),vs=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=t.showAlert,c=t.alertMsg,l=t.alertType,i=null;return r&&(i=o.a.createElement(nt,{message:c,type:l,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}})),o.a.createElement("div",{className:n.root},o.a.createElement(vn,{alertBox:i}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,"Configura\xe7\xf5es"))))),o.a.createElement("div",{className:n.container},o.a.createElement(xn,null)),o.a.createElement("div",{className:n.container},o.a.createElement(Es,{setAlert:a}))))})),Os=Object(Z.b)(Object($.a)(is,{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}))(vs),js=function(e){return Object(f.a)({},oe(e))},Cs=$t(nc.createTag,{name:"create",init:!1,options:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.setAlert,c=t.onClose,l=t.refetch,e.abrupt("return",{variables:a.changedFields,onRequestFinished:function(){Q.hit("TicketTag - Created"),r(),l(!0),o({alertMsg:"Etiqueta criada com sucesso",alertType:"success",showAlert:!0}),c()},onRequestError:function(e){n({validationErrors:Object(N.get)(e,"errors",{})}),o({alertMsg:"Erro ao criar etiqueta",alertType:"error",showAlert:!0})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),ys=$t(nc.updateTag,{name:"update",init:!1,options:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o,c,l,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.formData,n=t.setFormData,r=t.resetFormData,o=t.setAlert,c=t.onClose,l=t.refetch,i=t.ticketTag,e.abrupt("return",{variables:Object(f.a)(Object(f.a)({},a.changedFields),{},{id:i.id}),onRequestFinished:function(){Q.hit("TicketTag - Updated"),r(),l(!0),o({alertMsg:"Etiqueta atualizada com sucesso",alertType:"success",showAlert:!0}),c()},onRequestError:function(e){n({validationErrors:Object(N.get)(e,"errors",{})}),o({alertMsg:"Erro ao atualizar etiqueta",alertType:"error",showAlert:!0})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),ks=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},js(e)),{},{actions:{margin:15,marginBottom:20},toggleRequired:{marginTop:20,marginLeft:20},content:{marginTop:-20,overflowX:"hidden"},dialogMemberForm:{maxWidth:"50rem"},deleteVisitorButton:{fontWeight:"bold",backgroundColor:"#EE3C3C",color:"#FFF","&:hover":{backgroundColor:"#EE3C3C"},maxWidth:"40px",maxHeight:"40px",minWidth:"40px",minHeight:"40px",marginTop:"5px",marginLeft:"10px"}})}),{withTheme:!0}),r.memo,So((function(e){return e.ticketTag?e.ticketTag:{title:""}})),Object(Z.e)({onClose:function(e){var t=e.onClose,a=e.resetFormData;return function(){a(),t()}}}),Cs,ys,Object(Z.f)((function(e){var t=e.formData,a=e.createLoading,n=e.updateLoading,r=e.ticketTag,o=a||n;return{loading:o,disableNextButton:o||Object(N.isEmpty)(t.title),isNew:!r}})),Object(Z.e)({onSubmit:function(e){var t=e.createFetch,a=e.updateFetch,n=e.ticketTag;return function(){return n?a(!0):t(!0)}}}))((function(e){var t=e.openModal,a=e.formData,n=a.validationErrors,r=a.title,c=e.setFormData,l=e.onSubmit,i=e.loading,s=e.onClose,u=e.disableNextButton,m=e.isNew;return o.a.createElement(No,{onClose:s,modalTitle:m?"Nova etiqueta":"Editar etiqueta",content:o.a.createElement(ue.a,{container:!0,direction:"row",spacing:1},o.a.createElement(ue.a,{item:!0,xs:12},o.a.createElement(pt,{disabled:i,label:"T\xedtulo",errors:n.title,value:r||"",onChangeValue:function(e){return c({title:e})}}))),actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(Pn.a,{style:{width:"100%"},display:"flex",justifyContent:"flex-end"},o.a.createElement(Pn.a,{display:"flex"},o.a.createElement(me.a,{color:"default",size:"large",variant:"contained",onClick:s,disabled:i},"CANCELAR"),o.a.createElement(Pn.a,{ml:2},o.a.createElement(me.a,{color:"primary",size:"large",variant:"contained",onClick:l,disabled:u},"SALVAR"))))),fullWidth:!0,open:t})})),As=Object(Z.b)(Object(Z.h)("openModal","setOpenModal",!1))((function(e){var t=e.ticketTag,a=e.refetch,n=e.openModal,r=e.setOpenModal,c=e.setAlert,l=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q.hit("TicketTagModal - Closed"),r(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{variant:"outlined",size:"medium",onClick:function(){Q.hit("TicketTagModal - Opened"),r(!0)}},"Editar"),o.a.createElement(ks,{ticketTag:t,onClose:l,setAlert:c,refetch:a,openModal:n}))})),ws=Object(r.memo)((function(e){var t=e.viewer,a=e.index,n=e.classes,r=e.setAlert,c=e.ticketTag,l=e.loading,i=e.ticketTagDeleteFetch,s=e.refetch,d=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Deseja realmente excluir essa etiqueta?")&&i(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?o.a.createElement(Ea.a,{className:a%2?n.bgWhite:n.bgGray},o.a.createElement(va.a,{className:n.tableSmallCell},o.a.createElement("span",{className:n.cellText},c.title)),o.a.createElement(va.a,{className:n.tableSmallCell},o.a.createElement(As,{ticketTag:c,setAlert:r,refetch:s}),"\xa0\xa0\xa0",o.a.createElement(Ze.a,{disabled:l,onClick:d},o.a.createElement(Ir.a,null)))):null})),Ts=$t(nc.deleteTag,{name:"ticketTagDelete",init:!1,options:function(e){var t=e.ticketTag,a=e.setAlert,n=e.refetch;return{variables:t.id,onRequestFinished:function(){a({alertMsg:"Etiqueta foi exclu\xedda",alertType:"success",showAlert:!0}),n(!0)},onRequestError:function(){a({alertMsg:"Erro ao excluir etiqueta",alertType:"error",showAlert:!0})}}}}),xs=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},js(e)),{},{cellText:{color:"#313131",fontSize:14}})}),{withTheme:!0}),Object(Z.h)("loading","setLoading",!1),Ts,Yo)(ws),Ss=Object(r.memo)((function(e){var t=e.ticketTags,a=e.ticketTagsLoading,n=e.openTicketTagModal,r=e.setOpenTicketTagModal,c=e.classes,l=e.setAlert,i=e.ticketTagsFetch,s=a;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:c.container},o.a.createElement("div",{className:c.headerView},o.a.createElement("aside",null,o.a.createElement(He.a,{variant:"h6"},o.a.createElement("b",null,"Etiquetas (".concat(Object(N.size)(t),")")))),o.a.createElement("aside",null,o.a.createElement(me.a,{size:"large",color:"primary",variant:"contained",onClick:function(){return r(!0)}},"Nova Etiqueta")))),o.a.createElement("div",{className:c.container},o.a.createElement(Va.a,{className:c.tablePaper},o.a.createElement(fa.a,null,o.a.createElement(ha.a,null,o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:c.tableCell},"T\xcdTULO"),o.a.createElement(va.a,{className:c.tableSmallCell},"A\xc7\xd5ES"))),o.a.createElement(ja.a,null,s?o.a.createElement(Ea.a,null,o.a.createElement(va.a,{colSpan:2,align:"center"},o.a.createElement(pe,null))):Object(N.size)(t)?t.map((function(e,t){return o.a.createElement(xs,{setAlert:l,index:t,key:e.id,ticketTag:e,isLoading:s,refetch:i})})):o.a.createElement(Ea.a,null,o.a.createElement(va.a,{className:c.empty,colSpan:2,align:"center"},"Nenhuma etiqueta cadastrada")),o.a.createElement(ks,{onClose:function(){return r(!1)},openModal:n,setAlert:l,refetch:i}))))))})),Ns=$t(nc.getTags,{name:"ticketTags",props:function(e){var t=e.ticketTagsData;return{ticketTags:Object(N.get)(t,"ticketTags")}},options:function(e){var t=e.setAlert;return{variables:!1,onRequestError:function(){t({alertMsg:"Erro ao carregar etiquetas",alertType:"error",showAlert:!0})}}}}),Ds=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},js(e)),{},{container:{marginBottom:30,marginTop:30},empty:{backgroundColor:"#EEE"},tableCell:{fontSize:14},titleTableCell:{fontSize:20}})}),{withTheme:!0}),Object(Z.h)("openTicketTagModal","setOpenTicketTagModal",!1),Fc({condition:function(e){return!_a.includes(e.role)}}),Ns)(Ss),Ms=Object(r.memo)((function(e){var t=e.setAlert,a=e.classes;return o.a.createElement("div",{className:a.tablePaper},o.a.createElement(Ds,{setAlert:t}))})),Fs=Object(Z.b)(Kl,Object($.a)(js,{withTheme:!0}))(Ms),Is=a(191),Rs={avatarNameContainer:{display:"flex",alignItems:"center"},userName:{marginRight:5,marginLeft:10},image:{width:240,height:120,marginRight:30},container:{display:"flex",flexDirection:"row"},innerContainerTexts:{display:"flex",flexDirection:"column"},title:{marginTop:15,fontSize:20,marginBottom:10},subtitle:{color:"rgba(0, 0, 0, 0.54)"},buttonContainer:{display:"flex",justifyContent:"flex-end"},statusContainerCanceled:{color:"#FFFFFF",backgroundColor:Is.a[400],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50},statusContainerInProgress:{color:"#FFFFFF",backgroundColor:Sa.a[900],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50,wordWrap:"initial"},statusContainerDone:{color:"#FFFFFF",backgroundColor:$e.a[500],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50}},Ls=Object(r.memo)((function(e){var t=e.viewer,a=e.classes,n=e.serviceRequest,r=e.isSmallScreen;if(!t)return null;var c=n.member,l=Object(N.get)(n,"service.title",""),s=Object(N.get)(n,"created_at",""),u=Object(N.get)(n,"service.image_url","");return r?o.a.createElement(Ea.a,null,o.a.createElement(va.a,null,o.a.createElement("img",{src:u,alt:l,className:a.image}),o.a.createElement("p",{className:a.title},o.a.createElement("b",null,l)),o.a.createElement("p",{className:a.subtitle},"Enviado em ".concat(A()(s).format("DD/MM/YYYY"))),o.a.createElement("p",null,o.a.createElement("div",{className:a.avatarNameContainer},o.a.createElement(Ba,{name:c.fullname,photoUrl:c.photo_url}),o.a.createElement("span",{className:"".concat(a.cellText," ").concat(a.userName)},c.fullname))),o.a.createElement("br",null),o.a.createElement(me.a,{fullWidth:!0,variant:"outlined",component:i.b,to:"/meus-pedidos/".concat(n.id),color:"primary",size:"large"},"Ver Solicita\xe7\xe3o"))):o.a.createElement(Ea.a,null,o.a.createElement(va.a,null,o.a.createElement("div",{className:a.container},o.a.createElement("img",{src:u,alt:l,className:a.image}),o.a.createElement("div",{className:a.innerContainerTexts},o.a.createElement("p",{className:a.title},o.a.createElement("b",null,l)),o.a.createElement("p",{className:a.subtitle},"Enviado em ".concat(A()(s).format("DD/MM/YYYY")))))),o.a.createElement(va.a,null,o.a.createElement("div",{className:a.avatarNameContainer},o.a.createElement(Ba,{name:c.fullname,photoUrl:c.photo_url}),o.a.createElement("span",{className:"".concat(a.cellText," ").concat(a.userName)},c.fullname))),o.a.createElement(va.a,null,o.a.createElement("div",{className:a.buttonContainer},o.a.createElement(me.a,{variant:"outlined",component:i.b,to:"/meus-pedidos/".concat(n.id),color:"primary",size:"large"},"Ver Solicita\xe7\xe3o"))))})),Bs=Object(Z.b)(Object($.a)(Rs,{withTheme:!0}),h.g,Yo)(Ls),Ps=Object(r.memo)((function(e){var t=e.classes,a=e.serviceRequests,n=e.serviceRequestsLoading,r=Object(Ca.a)(),c=Object(ya.a)(r.breakpoints.down("md")),l=c?1:3,i=n;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(Va.a,null,o.a.createElement(fa.a,null,o.a.createElement(ha.a,null,o.a.createElement(Ea.a,null,o.a.createElement(va.a,null,"SERVI\xc7O"),!c&&o.a.createElement(o.a.Fragment,null,o.a.createElement(va.a,{className:t.tableLargeCell},"SOLICITANTE"),o.a.createElement(va.a,{className:t.tableLargeCell})))),o.a.createElement(ja.a,null,i?o.a.createElement(Ea.a,null,o.a.createElement(va.a,{colSpan:l,align:"center"},o.a.createElement(pe,null))):Object(N.size)(a)?Object(N.map)(a,(function(e,t){return o.a.createElement(Bs,{serviceRequest:e,index:t,isSmallScreen:c,key:e.id})})):o.a.createElement(Ea.a,null,o.a.createElement(va.a,{colSpan:l,align:"center"},"Nenhum servi\xe7o solicitado")))))))})),_s=Object(Z.b)(Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{statusColumn:{minWidth:400}})}),{withTheme:!0}))(Ps),qs=Object(r.memo)((function(e){var t=e.alert,a=e.setAlert,n=e.classes,r=e.serviceRequestsData,c=e.serviceRequestsLoading,l=e.status,i=Object(N.get)(r,"service_requests"),s=t.showAlert,u=t.alertMsg,m=t.alertType,d=null;s&&(d=o.a.createElement(nt,{message:u,type:m,onClose:function(){return a({alertMsg:"",alertType:"",showAlert:!1})}}));var b=c?"":"(".concat(Object(N.size)(i),")");return o.a.createElement("div",{className:n.root},o.a.createElement(vn,{alertBox:d}),o.a.createElement("section",null,o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.headerView},o.a.createElement(ue.a,{container:!0},o.a.createElement(ue.a,{item:!0,xs:12,md:12},o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,"Pedidos ".concat(b))))))),o.a.createElement("div",{className:n.container},c?o.a.createElement(pe,null):o.a.createElement(_s,{filteredStatus:l,serviceRequests:i,serviceRequestsLoading:c}))))})),zs=$t(pl.getServiceRequests,{name:"serviceRequests",options:function(e){var t=e.setAlert,a=e.status;return{variables:{status:void 0===a?null:a},onRequestError:function(){t({alertMsg:"Erro ao carregar lista de pedidos",alertType:"error",showAlert:!0})}}}}),Us=Object(Z.b)(Object($.a)((function(e){return Object(f.a)({},oe(e))}),{withTheme:!0}),Object(Z.h)("alert","setAlert",{alertMsg:"",alertType:"",showAlert:!1}),Object(Z.h)("status","setStatus",""),Fc({condition:function(e){return!qa.includes(e.role)}}),zs)(qs),Ws="CANCELED",Vs=$t(pl.getServiceRequest,{name:"serviceRequest",options:function(e){var t=e.match,a=e.setAlert;return{variables:Object(N.get)(t,"params.id"),onRequestError:function(){a({alertMsg:"Erro ao carregar solicita\xe7\xe3o",alertType:"error",showAlert:!0})}}}}),Hs=$t(pl.deleteServiceRequest,{name:"deleteServiceRequest",init:!1,options:function(e){var t=e.match,a=e.setAlert,n=e.serviceRequestFetch;return{variables:Object(N.get)(t,"params.id"),onRequestFinished:function(){a({alertMsg:"Solicita\xe7\xe3o cancelada com sucesso",alertType:"success",showAlert:!0}),n(!0)},onRequestError:function(){a({alertMsg:"Erro ao cancelar solicita\xe7\xe3o",alertType:"error",showAlert:!0})}}}}),Ys=Object(Z.b)(Lc,Vs,Hs,Fc({condition:function(e){return!_a.includes(e.role)}}),Object($.a)((function(e){return Object(f.a)(Object(f.a)({},oe(e)),{},{paperTitle:{marginLeft:20,fontSize:20,paddingTop:10},paperSubtitle:{paddingTop:10,marginLeft:20,color:"rgba(0, 0, 0, 0.54)"},paperDateInfo:{marginLeft:20,color:"rgba(0, 0, 0, 0.54)"},paperContainer:{paddingBottom:20,paddingTop:20,marginTop:20},serviceSubtitle:{fontSize:18},serviceDescription:{color:"rgba(0, 0, 0, 0.54)"},statusContainerCanceled:{color:"#FFFFFF",backgroundColor:Is.a[400],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50},statusContainerInProgress:{color:"#FFFFFF",backgroundColor:Sa.a[900],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50,wordWrap:"initial"},statusContainerDone:{color:"#FFFFFF",backgroundColor:$e.a[500],paddingTop:5,paddingBottom:5,paddingLeft:15,paddingRight:15,borderRadius:50},mobileButton:{marginTop:25,justifyContent:"flex-end"}})}),{withTheme:!0}))((function(e){var t=e.classes,a=e.serviceRequestData,n=e.serviceRequestLoading,r=e.deleteServiceRequestFetch,c=e.deleteServiceRequestLoading,l=it.isMobile(),i=Object(N.get)(a,"service_request",""),s=Object(N.get)(i,"service_data",""),u=Object(N.get)(i,"status","")===Ws;return o.a.createElement(o.a.Fragment,null,n?o.a.createElement(pe,null):o.a.createElement(o.a.Fragment,null,s?o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{container:!0},o.a.createElement(ue.a,{item:!0,xs:12,md:8},o.a.createElement(He.a,{variant:"h5"},o.a.createElement("b",null,s.title))),o.a.createElement(ue.a,{item:!0,xs:12,md:4},!u&&o.a.createElement(me.a,{className:l?t.mobileButton:"",variant:"outlined",color:"secondary",size:"large",onClick:function(){window.confirm("Deseja excluir o pedido?")&&r(!0)},disabled:c},"Cancelar"))),o.a.createElement(ue.a,{container:!0},o.a.createElement(ue.a,{item:!0,xs:12,md:5},o.a.createElement("p",{className:t.serviceSubtitle},o.a.createElement("b",null,s.subtitle)),o.a.createElement("p",{className:t.serviceDescription},s.description)),o.a.createElement(ue.a,{item:!0,xs:12,md:3}),o.a.createElement(ue.a,{item:!0,xs:12,md:9},o.a.createElement(Va.a,{className:t.paperContainer},o.a.createElement("span",{className:t.paperDateInfo},"Enviado em ".concat(A()(i.created_at).format("DD/MM/YYYY"))),Object(N.map)(Object(N.get)(i,"details","").match(/(.+)\n.+/g),(function(e){var a=e.split("\n"),n=Object(vt.a)(a,2),r=n[0],c=n[1];return o.a.createElement("div",{key:r},o.a.createElement("p",{className:t.paperTitle},o.a.createElement("b",null,r)),o.a.createElement("p",{className:t.paperSubtitle},c))})))))):""))})),Qs=yl,Gs=yl,Js=yl;K.setup(),A.a.locale(P.locale);var Xs=y()(j()(ze,(function(e,t){return e.submenus?j()(e.submenus,(function(t,a){return Object(f.a)(Object(f.a)({},t),{},{path:"".concat(e.path).concat(t.path),key:a,page:n[a]})})):Object(f.a)(Object(f.a)({},e),{},{key:t,page:n[t]})}))),Ks=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setIOSManifest(),this.setState({loading:!0},Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!I.isLoggedIn()){t.next=6;break}return t.next=4,U.getViewer();case 4:a=t.sent,I.setUserData(v()(a,"member"));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),I.isUnauthorized(t.t0)&&I.clear();case 11:return t.prev=11,e.setState({loading:!1}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])}))))}},{key:"setIOSManifest",value:function(){P.isiOS&&document.querySelector('link[rel="manifest"]').setAttribute("rel","no-on-ios")}},{key:"render",value:function(){var e=this.state.loading;return o.a.createElement(T.a,{theme:he},o.a.createElement(w.a,null),o.a.createElement(r.Suspense,{fallback:o.a.createElement(pe,{hasRefreshMsg:!0})},e?o.a.createElement(pe,{hasRefreshMsg:!0}):o.a.createElement(o.a.Fragment,null,o.a.createElement(h.d,null,j()(Xs,(function(e){return o.a.createElement(h.b,{key:e.path,exact:e.exact,path:e.path,render:function(t){try{if(e.private&&I.isLoggedIn()||!e.private){var a=G(e.page,e.trackPage);return o.a.createElement(a,t)}var n="".concat(t.location.pathname).concat(t.location.search);return M.save("redirectUrl",n),o.a.createElement(h.a,{to:{pathname:"/",state:{from:t.location}}})}catch(r){return o.a.createElement(h.a,{to:{pathname:"/",state:{from:t.location}}})}}})}))))))}}]),a}(r.PureComponent),Zs=ie(Ks),$s=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,826)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(i.a,null,o.a.createElement(Zs,null))),document.querySelector("main")),$s()}},[[422,1,2]]]);
//# sourceMappingURL=main.f7fa049c.chunk.js.map